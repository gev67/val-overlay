"use strict";(()=>{var E1=Object.create;var sc=Object.defineProperty,w1=Object.defineProperties,T1=Object.getOwnPropertyDescriptor,I1=Object.getOwnPropertyDescriptors,$1=Object.getOwnPropertyNames,oc=Object.getOwnPropertySymbols,R1=Object.getPrototypeOf,zl=Object.prototype.hasOwnProperty,Jg=Object.prototype.propertyIsEnumerable;var Yg=(t,e,r)=>e in t?sc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g=(t,e)=>{for(var r in e||(e={}))zl.call(e,r)&&Yg(t,r,e[r]);if(oc)for(var r of oc(e))Jg.call(e,r)&&Yg(t,r,e[r]);return t},C=(t,e)=>w1(t,I1(e));var is=(t,e)=>{var r={};for(var n in t)zl.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&oc)for(var n of oc(t))e.indexOf(n)<0&&Jg.call(t,n)&&(r[n]=t[n]);return r};var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wl=(t,e)=>{for(var r in e)sc(t,r,{get:e[r],enumerable:!0})},O1=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $1(e))!zl.call(t,i)&&i!==r&&sc(t,i,{get:()=>e[i],enumerable:!(n=T1(e,i))||n.enumerable});return t};var jr=(t,e,r)=>(r=t!=null?E1(R1(t)):{},O1(e||!t||!t.__esModule?sc(r,"default",{value:t,enumerable:!0}):r,t));var F=(t,e,r)=>new Promise((n,i)=>{var o=c=>{try{a(r.next(c))}catch(u){i(u)}},s=c=>{try{a(r.throw(c))}catch(u){i(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((r=r.apply(t,e)).next())});var ay=I((h9,Kl)=>{"use strict";var wi=typeof Reflect=="object"?Reflect:null,Xg=wi&&typeof wi.apply=="function"?wi.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ac;wi&&typeof wi.ownKeys=="function"?ac=wi.ownKeys:Object.getOwnPropertySymbols?ac=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ac=function(e){return Object.getOwnPropertyNames(e)};function k1(t){console&&console.warn&&console.warn(t)}var Qg=Number.isNaN||function(e){return e!==e};function ve(){ve.init.call(this)}Kl.exports=ve;Kl.exports.once=P1;ve.EventEmitter=ve;ve.prototype._events=void 0;ve.prototype._eventsCount=0;ve.prototype._maxListeners=void 0;var Zg=10;function cc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ve,"defaultMaxListeners",{enumerable:!0,get:function(){return Zg},set:function(t){if(typeof t!="number"||t<0||Qg(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Zg=t}});ve.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ve.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Qg(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ey(t){return t._maxListeners===void 0?ve.defaultMaxListeners:t._maxListeners}ve.prototype.getMaxListeners=function(){return ey(this)};ve.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")Xg(c,this,r);else for(var u=c.length,l=oy(c,u),n=0;n<u;++n)Xg(l[n],this,r);return!0};function ty(t,e,r,n){var i,o,s;if(cc(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=ey(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,k1(a)}return t}ve.prototype.addListener=function(e,r){return ty(this,e,r,!1)};ve.prototype.on=ve.prototype.addListener;ve.prototype.prependListener=function(e,r){return ty(this,e,r,!0)};function C1(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ry(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=C1.bind(n);return i.listener=r,n.wrapFn=i,i}ve.prototype.once=function(e,r){return cc(r),this.on(e,ry(this,e,r)),this};ve.prototype.prependOnceListener=function(e,r){return cc(r),this.prependListener(e,ry(this,e,r)),this};ve.prototype.removeListener=function(e,r){var n,i,o,s,a;if(cc(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():x1(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};ve.prototype.off=ve.prototype.removeListener;ve.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function ny(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?A1(i):oy(i,i.length)}ve.prototype.listeners=function(e){return ny(this,e,!0)};ve.prototype.rawListeners=function(e){return ny(this,e,!1)};ve.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):iy.call(t,e)};ve.prototype.listenerCount=iy;function iy(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ve.prototype.eventNames=function(){return this._eventsCount>0?ac(this._events):[]};function oy(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function x1(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function A1(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function P1(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}sy(t,e,o,{once:!0}),e!=="error"&&N1(t,i,{once:!0})})}function N1(t,e,r){typeof t.on=="function"&&sy(t,"error",e,r)}function sy(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var uy=I((y9,M1)=>{M1.exports={name:"nodecg",description:"Dynamic broadcast graphics rendered in a browser",main:"index.js",version:"2.2.1",repository:{type:"git",url:"https://github.com/nodecg/nodecg.git"},bugs:"https://github.com/nodecg/nodecg/issues",homepage:"https://nodecg.dev/",license:"MIT",keywords:["graphics","nodecg","node","dynamic","broadcast"],dependencies:{"@nodecg/json-schema-defaults":"^1.0.4","@polymer/app-layout":"^3.1.0","@polymer/app-route":"^3.0.2","@polymer/iron-collapse":"^3.0.1","@polymer/iron-flex-layout":"^3.0.1","@polymer/iron-icons":"^3.0.1","@polymer/iron-image":"^3.0.2","@polymer/iron-localstorage":"^3.0.1","@polymer/iron-pages":"^3.0.1","@polymer/iron-selector":"^3.0.1","@polymer/paper-button":"^3.0.1","@polymer/paper-card":"^3.0.1","@polymer/paper-dialog":"^3.0.1","@polymer/paper-dialog-behavior":"^3.0.1","@polymer/paper-dialog-scrollable":"^3.0.1","@polymer/paper-icon-button":"^3.0.2","@polymer/paper-item":"^3.0.1","@polymer/paper-slider":"^3.0.1","@polymer/paper-spinner":"^3.0.2","@polymer/paper-styles":"^3.0.1","@polymer/paper-tabs":"^3.1.0","@polymer/paper-toast":"^3.0.1","@polymer/paper-toolbar":"^3.0.1","@polymer/polymer":"^3.5.1","@sentry/browser":"^7.91.0","@sentry/node":"^7.91.0","@vaadin/vaadin-upload":"^4.4.3","@webcomponents/webcomponentsjs":"^2.8.0",ajv:"^8.12.0","ajv-draft-04":"^1.0.0","ajv-formats":"^2.1.1","app-root-path":"^3.1.0","better-sqlite3":"^8.7.0","body-parser":"^1.20.2",cheerio:"^1.0.0-rc.2",chokidar:"^3.5.3",clipboard:"^2.0.11",compression:"^1.7.4","connect-typeorm":"^2.0.0","cookie-parser":"^1.4.6","cookies-js":"^1.2.3",cosmiconfig:"^8.3.6",draggabilly:"^2.4.1",events:"^3.3.0",express:"^4.18.2","express-session":"^1.17.3","express-transform-bare-module-specifiers":"^1.0.4",extend:"^3.0.2","fast-equals":"^5.0.1","fast-memoize":"^2.5.2","fp-ts":"^2.16.1","fs-extra":"^10.1.0","git-rev-sync":"^3.0.2",hasha:"^5.2.2",httpolyglot:"^0.1.2","iframe-resizer":"^4.3.9","io-ts":"^2.2.21","is-error":"^2.2.2","json-ptr":"^3.1.1","json-schema-lib":"github:nodecg/json-schema-lib#dcb89d670c2b15cd398916209bb806b2e100f95f",klona:"^2.0.6","lodash.debounce":"^4.0.8","lodash.template":"^4.5.0",multer:"^1.4.5-lts.1","node-fetch-commonjs":"^3.3.2","object-path":"^0.11.8",packery:"^2.1.2",passport:"^0.6.0","passport-discord":"^0.1.4","passport-local":"^1.0.0","passport-steam":"^1.0.18","passport-twitch-helix":"^1.1.0",process:"^0.11.10",semver:"^7.5.4","serialize-error":"^8.1.0","socket.io":"^4.7.2","socket.io-client":"^4.7.2",soundjs:"^1.0.1",tslib:"^2.6.2",typeorm:"0.3.19",util:"^0.12.5",uuid:"^9.0.1",winston:"^3.11.0",yargs:"^15.4.1",zod:"^3.22.4"},scripts:{start:"node index.js",dev:"del-cli dist out && run-p dev:*","dev:client":"npm run build:client -- --watch","dev:build-server":"tsc -b src/server --watch --preserveWatchOutput","dev:run-server":"node --watch --watch-preserve-output index.js",test:"ava --config ava.config.js","test-coverage":"c8 ava --config ava.config.js","test-coverage-ci":"c8 --reporter lcov ava --config ava.config.js","test:types":"cd typetest/fake-bundle && npm run build",lint:"npm-run-all -s lint:*","lint:prettier":'prettier --check "**/*.{json,md,yml,ts,tsx,js,jsx}"',"lint:eslint":'eslint --cache "{src,test}/**/*.ts"',fix:"npm-run-all -s fix:*","fix:prettier":'prettier --write "**/*.{json,md,yml,ts,tsx,js,jsx}"',"fix:eslint":"npm run lint:eslint -- --fix ",build:'del-cli "generated-types/{client,server,shared,types}" dist out && run-s build:{tsc,client,copy-templates,types}',"build:tsc":"tsc -b src/server src/client","build:client":"ts-node scripts/build-client.ts","build:copy-templates":'cpy "src/server/**/*.tmpl" out/server',"build:types":"ts-node scripts/generate-types-package.ts","generate-migrations":"cd src/server && typeorm-ts-node-commonjs migration:generate ./database/migration/rename-me -d ./database/datasource.ts"},files:["dist","out","scripts","bundles/.empty_directory","db/.empty_directory","schemas","AUTHORS"],devDependencies:{"@types/app-root-path":"^1.2.8","@types/cheerio":"^0.22.35","@types/clone":"^2.1.4","@types/compression":"^1.7.5","@types/cookie-parser":"^1.4.6","@types/deep-equal":"^1.0.4","@types/express":"^4.17.21","@types/express-session":"^1.17.10","@types/extend":"^3.0.4","@types/fs-extra":"^9.0.13","@types/git-rev-sync":"^2.0.2","@types/glob":"^8.1.0","@types/is-ci":"^3.0.4","@types/lodash.debounce":"^4.0.9","@types/lodash.template":"^4.5.3","@types/multer":"^1.4.11","@types/node":"~18.11.19","@types/object-path":"^0.11.4","@types/passport":"^1.0.16","@types/passport-local":"^1.0.38","@types/passport-steam":"^1.0.5","@types/semver":"^7.5.6","@types/sinon":"^10.0.20","@types/soundjs":"^0.6.31","@types/uuid":"^8.3.4","@types/yargs":"^15.0.19","@typescript-eslint/eslint-plugin":"^6.17.0","@typescript-eslint/parser":"^6.17.0",ava:"^5.3.1",c8:"^8.0.1","cpy-cli":"^5.0.0","cross-env":"^7.0.3","del-cli":"^5.1.0",esbuild:"^0.19.11","esbuild-plugin-copy":"^2.1.1",eslint:"^8.56.0","eslint-config-prettier":"^9.1.0","eslint-plugin-ava":"^14.0.0","is-builtin-module":"^3.2.1","is-ci":"^3.0.1","is-windows":"^1.0.2","npm-run-all":"^4.1.5",prettier:"^3.1.1",puppeteer:"^21.6.1","replace-in-file":"^6.3.5","simple-git":"^3.22.0",sinon:"^14.0.2","tmp-promise":"^3.0.3","ts-essentials":"^9.4.1","ts-node":"^10.9.2",typescript:"~5.3.3"},engines:{node:"^16.13.0 || ^18.12.0 || ^20.9.0"}}});var Ey=I((Sy,lc)=>{(function(t,e){"use strict";typeof lc=="object"&&typeof lc.exports=="object"?lc.exports=e():typeof define=="function"&&define.amd?define([],e):t.objectPath=e()})(Sy,function(){"use strict";var t=Object.prototype.toString;function e(l,d){return l==null?!1:Object.prototype.hasOwnProperty.call(l,d)}function r(l){if(!l||o(l)&&l.length===0)return!0;if(typeof l!="string"){for(var d in l)if(e(l,d))return!1;return!0}return!1}function n(l){return t.call(l)}function i(l){return typeof l=="object"&&n(l)==="[object Object]"}var o=Array.isArray||function(l){return t.call(l)==="[object Array]"};function s(l){return typeof l=="boolean"||n(l)==="[object Boolean]"}function a(l){var d=parseInt(l);return d.toString()===l?d:l}function c(l){l=l||{};var d=function(b){return Object.keys(d).reduce(function(y,w){return w==="create"||typeof d[w]=="function"&&(y[w]=d[w].bind(d,b)),y},{})},f;l.includeInheritedProps?f=function(){return!0}:f=function(b,y){return typeof y=="number"&&Array.isArray(b)||e(b,y)};function p(b,y){if(f(b,y))return b[y]}var m;l.includeInheritedProps?m=function(b,y){typeof y!="string"&&typeof y!="number"&&(y=String(y));var w=p(b,y);if(y==="__proto__"||y==="prototype"||y==="constructor"&&typeof w=="function")throw new Error("For security reasons, object's magic properties cannot be set");return w}:m=function(b,y){return p(b,y)};function _(b,y,w,R){if(typeof y=="number"&&(y=[y]),!y||y.length===0)return b;if(typeof y=="string")return _(b,y.split(".").map(a),w,R);var O=y[0],k=m(b,O);return y.length===1?((k===void 0||!R)&&(b[O]=w),k):(k===void 0&&(typeof y[1]=="number"?b[O]=[]:b[O]={}),_(b[O],y.slice(1),w,R))}return d.has=function(b,y){if(typeof y=="number"?y=[y]:typeof y=="string"&&(y=y.split(".")),!y||y.length===0)return!!b;for(var w=0;w<y.length;w++){var R=a(y[w]);if(typeof R=="number"&&o(b)&&R<b.length||(l.includeInheritedProps?R in Object(b):e(b,R)))b=b[R];else return!1}return!0},d.ensureExists=function(b,y,w){return _(b,y,w,!0)},d.set=function(b,y,w,R){return _(b,y,w,R)},d.insert=function(b,y,w,R){var O=d.get(b,y);R=~~R,o(O)||(O=[],d.set(b,y,O)),O.splice(R,0,w)},d.empty=function(b,y){if(!r(y)&&b!=null){var w,R;if(w=d.get(b,y)){if(typeof w=="string")return d.set(b,y,"");if(s(w))return d.set(b,y,!1);if(typeof w=="number")return d.set(b,y,0);if(o(w))w.length=0;else if(i(w))for(R in w)f(w,R)&&delete w[R];else return d.set(b,y,null)}}},d.push=function(b,y){var w=d.get(b,y);o(w)||(w=[],d.set(b,y,w)),w.push.apply(w,Array.prototype.slice.call(arguments,2))},d.coalesce=function(b,y,w){for(var R,O=0,k=y.length;O<k;O++)if((R=d.get(b,y[O]))!==void 0)return R;return w},d.get=function(b,y,w){if(typeof y=="number"&&(y=[y]),!y||y.length===0)return b;if(b==null)return w;if(typeof y=="string")return d.get(b,y.split("."),w);var R=a(y[0]),O=m(b,R);return O===void 0?w:y.length===1?O:d.get(b[R],y.slice(1),w)},d.del=function(y,w){if(typeof w=="number"&&(w=[w]),y==null||r(w))return y;if(typeof w=="string")return d.del(y,w.split("."));var R=a(w[0]);if(m(y,R),!f(y,R))return y;if(w.length===1)o(y)?y.splice(R,1):delete y[R];else return d.del(y[R],w.slice(1));return y},d}var u=c();return u.create=c,u.withInheritedProps=c({includeInheritedProps:!0}),u})});var us=I(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.regexpCode=pe.getEsmExportName=pe.getProperty=pe.safeStringify=pe.stringify=pe.strConcat=pe.addCodeArg=pe.str=pe._=pe.nil=pe._Code=pe.Name=pe.IDENTIFIER=pe._CodeOrName=void 0;var as=class{};pe._CodeOrName=as;pe.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var An=class extends as{constructor(e){if(super(),!pe.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};pe.Name=An;var Gt=class extends as{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof An&&(r[n.str]=(r[n.str]||0)+1),r),{})}};pe._Code=Gt;pe.nil=new Gt("");function wy(t,...e){let r=[t[0]],n=0;for(;n<e.length;)Xl(r,e[n]),r.push(t[++n]);return new Gt(r)}pe._=wy;var Jl=new Gt("+");function Ty(t,...e){let r=[cs(t[0])],n=0;for(;n<e.length;)r.push(Jl),Xl(r,e[n]),r.push(Jl,cs(t[++n]));return cI(r),new Gt(r)}pe.str=Ty;function Xl(t,e){e instanceof Gt?t.push(...e._items):e instanceof An?t.push(e):t.push(dI(e))}pe.addCodeArg=Xl;function cI(t){let e=1;for(;e<t.length-1;){if(t[e]===Jl){let r=uI(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function uI(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof An||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof An))return`"${t}${e.slice(1)}`}function lI(t,e){return e.emptyStr()?t:t.emptyStr()?e:Ty`${t}${e}`}pe.strConcat=lI;function dI(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:cs(Array.isArray(t)?t.join(","):t)}function fI(t){return new Gt(cs(t))}pe.stringify=fI;function cs(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}pe.safeStringify=cs;function pI(t){return typeof t=="string"&&pe.IDENTIFIER.test(t)?new Gt(`.${t}`):wy`[${t}]`}pe.getProperty=pI;function mI(t){if(typeof t=="string"&&pe.IDENTIFIER.test(t))return new Gt(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}pe.getEsmExportName=mI;function hI(t){return new Gt(t.toString())}pe.regexpCode=hI});var td=I(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.ValueScope=ht.ValueScopeName=ht.Scope=ht.varKinds=ht.UsedValueState=void 0;var Et=us(),Zl=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Ql;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Ql=ht.UsedValueState||(ht.UsedValueState={}));ht.varKinds={const:new Et.Name("const"),let:new Et.Name("let"),var:new Et.Name("var")};var dc=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Et.Name?e:this.name(e)}name(e){return new Et.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ht.Scope=dc;var fc=class extends Et.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=(0,Et._)`.${new Et.Name(r)}[${n}]`}};ht.ValueScopeName=fc;var gI=(0,Et._)`\n`,ed=class extends dc{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=C(g({},e),{_n:e.lines?gI:Et.nil})}get(){return this._scope}name(e){return new fc(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let i=this.toName(e),{prefix:o}=i,s=(n=r.key)!==null&&n!==void 0?n:r.ref,a=this._values[o];if(a){let l=a.get(s);if(l)return l}else a=this._values[o]=new Map;a.set(s,i);let c=this._scope[o]||(this._scope[o]=[]),u=c.length;return c[u]=r.ref,i.setValue(r,{property:o,itemIndex:u}),i}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return(0,Et._)`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,i=>{if(i.value===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return i.value.code},r,n)}_reduceValues(e,r,n={},i){let o=Et.nil;for(let s in e){let a=e[s];if(!a)continue;let c=n[s]=n[s]||new Map;a.forEach(u=>{if(c.has(u))return;c.set(u,Ql.Started);let l=r(u);if(l){let d=this.opts.es5?ht.varKinds.var:ht.varKinds.const;o=(0,Et._)`${o}${d} ${u} = ${l};${this.opts._n}`}else if(l=i==null?void 0:i(u))o=(0,Et._)`${o}${l}${this.opts._n}`;else throw new Zl(u);c.set(u,Ql.Completed)})}return o}};ht.ValueScope=ed});var B=I(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.or=Y.and=Y.not=Y.CodeGen=Y.operators=Y.varKinds=Y.ValueScopeName=Y.ValueScope=Y.Scope=Y.Name=Y.regexpCode=Y.stringify=Y.getProperty=Y.nil=Y.strConcat=Y.str=Y._=void 0;var se=us(),rr=td(),on=us();Object.defineProperty(Y,"_",{enumerable:!0,get:function(){return on._}});Object.defineProperty(Y,"str",{enumerable:!0,get:function(){return on.str}});Object.defineProperty(Y,"strConcat",{enumerable:!0,get:function(){return on.strConcat}});Object.defineProperty(Y,"nil",{enumerable:!0,get:function(){return on.nil}});Object.defineProperty(Y,"getProperty",{enumerable:!0,get:function(){return on.getProperty}});Object.defineProperty(Y,"stringify",{enumerable:!0,get:function(){return on.stringify}});Object.defineProperty(Y,"regexpCode",{enumerable:!0,get:function(){return on.regexpCode}});Object.defineProperty(Y,"Name",{enumerable:!0,get:function(){return on.Name}});var gc=td();Object.defineProperty(Y,"Scope",{enumerable:!0,get:function(){return gc.Scope}});Object.defineProperty(Y,"ValueScope",{enumerable:!0,get:function(){return gc.ValueScope}});Object.defineProperty(Y,"ValueScopeName",{enumerable:!0,get:function(){return gc.ValueScopeName}});Object.defineProperty(Y,"varKinds",{enumerable:!0,get:function(){return gc.varKinds}});Y.operators={GT:new se._Code(">"),GTE:new se._Code(">="),LT:new se._Code("<"),LTE:new se._Code("<="),EQ:new se._Code("==="),NEQ:new se._Code("!=="),NOT:new se._Code("!"),OR:new se._Code("||"),AND:new se._Code("&&"),ADD:new se._Code("+")};var Fr=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},rd=class extends Fr{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?rr.varKinds.var:this.varKind,i=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${i};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=Ri(this.rhs,e,r)),this}get names(){return this.rhs instanceof se._CodeOrName?this.rhs.names:{}}},pc=class extends Fr{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof se.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ri(this.rhs,e,r),this}get names(){let e=this.lhs instanceof se.Name?{}:g({},this.lhs.names);return hc(e,this.rhs)}},nd=class extends pc{constructor(e,r,n,i){super(e,n,i),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},id=class extends Fr{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},od=class extends Fr{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},sd=class extends Fr{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},ad=class extends Fr{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Ri(this.code,e,r),this}get names(){return this.code instanceof se._CodeOrName?this.code.names:{}}},ls=class extends Fr{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,i=n.length;for(;i--;){let o=n[i];o.optimizeNames(e,r)||(yI(e,o.names),n.splice(i,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Mn(e,r.names),{})}},qr=class extends ls{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},cd=class extends ls{},$i=class extends qr{};$i.kind="else";var Pn=class t extends qr{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new $i(n):n}if(r)return e===!1?r instanceof t?r:r.nodes:this.nodes.length?this:new t(Iy(e),r instanceof t?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Ri(this.condition,e,r),this}get names(){let e=super.names;return hc(e,this.condition),this.else&&Mn(e,this.else.names),e}};Pn.kind="if";var Nn=class extends qr{};Nn.kind="for";var ud=class extends Nn{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=Ri(this.iteration,e,r),this}get names(){return Mn(super.names,this.iteration.names)}},ld=class extends Nn{constructor(e,r,n,i){super(),this.varKind=e,this.name=r,this.from=n,this.to=i}render(e){let r=e.es5?rr.varKinds.var:this.varKind,{name:n,from:i,to:o}=this;return`for(${r} ${n}=${i}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){let e=hc(super.names,this.from);return hc(e,this.to)}},mc=class extends Nn{constructor(e,r,n,i){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=Ri(this.iterable,e,r),this}get names(){return Mn(super.names,this.iterable.names)}},ds=class extends qr{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};ds.kind="func";var fs=class extends ls{render(e){return"return "+super.render(e)}};fs.kind="return";var dd=class extends qr{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,i;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(i=this.finally)===null||i===void 0||i.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Mn(e,this.catch.names),this.finally&&Mn(e,this.finally.names),e}},ps=class extends qr{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};ps.kind="catch";var ms=class extends qr{render(e){return"finally"+super.render(e)}};ms.kind="finally";var fd=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=C(g({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new rr.Scope({parent:e}),this._nodes=[new cd]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,i){let o=this._scope.toName(r);return n!==void 0&&i&&(this._constants[o.str]=n),this._leafNode(new rd(e,o,n)),o}const(e,r,n){return this._def(rr.varKinds.const,e,r,n)}let(e,r,n){return this._def(rr.varKinds.let,e,r,n)}var(e,r,n){return this._def(rr.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new pc(e,r,n))}add(e,r){return this._leafNode(new nd(e,Y.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==se.nil&&this._leafNode(new ad(e)),this}object(...e){let r=["{"];for(let[n,i]of e)r.length>1&&r.push(","),r.push(n),(n!==i||this.opts.es5)&&(r.push(":"),(0,se.addCodeArg)(r,i));return r.push("}"),new se._Code(r)}if(e,r,n){if(this._blockNode(new Pn(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Pn(e))}else(){return this._elseNode(new $i)}endIf(){return this._endBlockNode(Pn,$i)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new ud(e),r)}forRange(e,r,n,i,o=this.opts.es5?rr.varKinds.var:rr.varKinds.let){let s=this._scope.toName(e);return this._for(new ld(o,s,r,n),()=>i(s))}forOf(e,r,n,i=rr.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let s=r instanceof se.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,se._)`${s}.length`,a=>{this.var(o,(0,se._)`${s}[${a}]`),n(o)})}return this._for(new mc("of",i,o,r),()=>n(o))}forIn(e,r,n,i=this.opts.es5?rr.varKinds.var:rr.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,se._)`Object.keys(${r})`,n);let o=this._scope.toName(e);return this._for(new mc("in",i,o,r),()=>n(o))}endFor(){return this._endBlockNode(Nn)}label(e){return this._leafNode(new id(e))}break(e){return this._leafNode(new od(e))}return(e){let r=new fs;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(fs)}try(e,r,n){if(!r&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');let i=new dd;if(this._blockNode(i),this.code(e),r){let o=this.name("e");this._currNode=i.catch=new ps(o),r(o)}return n&&(this._currNode=i.finally=new ms,this.code(n)),this._endBlockNode(ps,ms)}throw(e){return this._leafNode(new sd(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=se.nil,n,i){return this._blockNode(new ds(e,r,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(ds)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Pn))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};Y.CodeGen=fd;function Mn(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function hc(t,e){return e instanceof se._CodeOrName?Mn(t,e.names):t}function Ri(t,e,r){if(t instanceof se.Name)return n(t);if(!i(t))return t;return new se._Code(t._items.reduce((o,s)=>(s instanceof se.Name&&(s=n(s)),s instanceof se._Code?o.push(...s._items):o.push(s),o),[]));function n(o){let s=r[o.str];return s===void 0||e[o.str]!==1?o:(delete e[o.str],s)}function i(o){return o instanceof se._Code&&o._items.some(s=>s instanceof se.Name&&e[s.str]===1&&r[s.str]!==void 0)}}function yI(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Iy(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,se._)`!${pd(t)}`}Y.not=Iy;var _I=$y(Y.operators.AND);function vI(...t){return t.reduce(_I)}Y.and=vI;var bI=$y(Y.operators.OR);function SI(...t){return t.reduce(bI)}Y.or=SI;function $y(t){return(e,r)=>e===se.nil?r:r===se.nil?e:(0,se._)`${pd(e)} ${t} ${pd(r)}`}function pd(t){return t instanceof se.Name?t:(0,se._)`(${t})`}});var te=I(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.checkStrictMode=J.getErrorPath=J.Type=J.useFunc=J.setEvaluated=J.evaluatedPropsToName=J.mergeEvaluated=J.eachItem=J.unescapeJsonPointer=J.escapeJsonPointer=J.escapeFragment=J.unescapeFragment=J.schemaRefOrVal=J.schemaHasRulesButRef=J.schemaHasRules=J.checkUnknownRules=J.alwaysValidSchema=J.toHash=void 0;var Te=B(),EI=us();function wI(t){let e={};for(let r of t)e[r]=!0;return e}J.toHash=wI;function TI(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(ky(t,e),!Cy(e,t.self.RULES.all))}J.alwaysValidSchema=TI;function ky(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let i=n.RULES.keywords;for(let o in e)i[o]||Ny(t,`unknown keyword: "${o}"`)}J.checkUnknownRules=ky;function Cy(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}J.schemaHasRules=Cy;function II(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}J.schemaHasRulesButRef=II;function $I({topSchemaRef:t,schemaPath:e},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Te._)`${r}`}return(0,Te._)`${t}${e}${(0,Te.getProperty)(n)}`}J.schemaRefOrVal=$I;function RI(t){return xy(decodeURIComponent(t))}J.unescapeFragment=RI;function OI(t){return encodeURIComponent(md(t))}J.escapeFragment=OI;function md(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}J.escapeJsonPointer=md;function xy(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}J.unescapeJsonPointer=xy;function kI(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}J.eachItem=kI;function Ry({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(i,o,s,a)=>{let c=s===void 0?o:s instanceof Te.Name?(o instanceof Te.Name?t(i,o,s):e(i,o,s),s):o instanceof Te.Name?(e(i,s,o),o):r(o,s);return a===Te.Name&&!(c instanceof Te.Name)?n(i,c):c}}J.mergeEvaluated={props:Ry({mergeNames:(t,e,r)=>t.if((0,Te._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Te._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Te._)`${r} || {}`).code((0,Te._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Te._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Te._)`${r} || {}`),hd(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:g(g({},t),e),resultToName:Ay}),items:Ry({mergeNames:(t,e,r)=>t.if((0,Te._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Te._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Te._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Te._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Ay(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,Te._)`{}`);return e!==void 0&&hd(t,r,e),r}J.evaluatedPropsToName=Ay;function hd(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Te._)`${e}${(0,Te.getProperty)(n)}`,!0))}J.setEvaluated=hd;var Oy={};function CI(t,e){return t.scopeValue("func",{ref:e,code:Oy[e.code]||(Oy[e.code]=new EI._Code(e.code))})}J.useFunc=CI;var Py;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Py=J.Type||(J.Type={}));function xI(t,e,r){if(t instanceof Te.Name){let n=e===Py.Num;return r?n?(0,Te._)`"[" + ${t} + "]"`:(0,Te._)`"['" + ${t} + "']"`:n?(0,Te._)`"/" + ${t}`:(0,Te._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Te.getProperty)(t).toString():"/"+md(t)}J.getErrorPath=xI;function Ny(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}J.checkStrictMode=Ny});var Vt=I(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});var dt=B(),AI={data:new dt.Name("data"),valCxt:new dt.Name("valCxt"),instancePath:new dt.Name("instancePath"),parentData:new dt.Name("parentData"),parentDataProperty:new dt.Name("parentDataProperty"),rootData:new dt.Name("rootData"),dynamicAnchors:new dt.Name("dynamicAnchors"),vErrors:new dt.Name("vErrors"),errors:new dt.Name("errors"),this:new dt.Name("this"),self:new dt.Name("self"),scope:new dt.Name("scope"),json:new dt.Name("json"),jsonPos:new dt.Name("jsonPos"),jsonLen:new dt.Name("jsonLen"),jsonPart:new dt.Name("jsonPart")};gd.default=AI});var hs=I(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.extendErrors=ft.resetErrorsCount=ft.reportExtraError=ft.reportError=ft.keyword$DataError=ft.keywordError=void 0;var le=B(),yc=te(),gt=Vt();ft.keywordError={message:({keyword:t})=>(0,le.str)`must pass "${t}" keyword validation`};ft.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,le.str)`"${t}" keyword must be ${e} ($data)`:(0,le.str)`"${t}" keyword is invalid ($data)`};function PI(t,e=ft.keywordError,r,n){let{it:i}=t,{gen:o,compositeRule:s,allErrors:a}=i,c=Ly(t,e,r);(n!=null?n:s||a)?My(o,c):Dy(i,(0,le._)`[${c}]`)}ft.reportError=PI;function NI(t,e=ft.keywordError,r){let{it:n}=t,{gen:i,compositeRule:o,allErrors:s}=n,a=Ly(t,e,r);My(i,a),o||s||Dy(n,gt.default.vErrors)}ft.reportExtraError=NI;function MI(t,e){t.assign(gt.default.errors,e),t.if((0,le._)`${gt.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,le._)`${gt.default.vErrors}.length`,e),()=>t.assign(gt.default.vErrors,null)))}ft.resetErrorsCount=MI;function DI({gen:t,keyword:e,schemaValue:r,data:n,errsCount:i,it:o}){if(i===void 0)throw new Error("ajv implementation error");let s=t.name("err");t.forRange("i",i,gt.default.errors,a=>{t.const(s,(0,le._)`${gt.default.vErrors}[${a}]`),t.if((0,le._)`${s}.instancePath === undefined`,()=>t.assign((0,le._)`${s}.instancePath`,(0,le.strConcat)(gt.default.instancePath,o.errorPath))),t.assign((0,le._)`${s}.schemaPath`,(0,le.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign((0,le._)`${s}.schema`,r),t.assign((0,le._)`${s}.data`,n))})}ft.extendErrors=DI;function My(t,e){let r=t.const("err",e);t.if((0,le._)`${gt.default.vErrors} === null`,()=>t.assign(gt.default.vErrors,(0,le._)`[${r}]`),(0,le._)`${gt.default.vErrors}.push(${r})`),t.code((0,le._)`${gt.default.errors}++`)}function Dy(t,e){let{gen:r,validateName:n,schemaEnv:i}=t;i.$async?r.throw((0,le._)`new ${t.ValidationError}(${e})`):(r.assign((0,le._)`${n}.errors`,e),r.return(!1))}var Dn={keyword:new le.Name("keyword"),schemaPath:new le.Name("schemaPath"),params:new le.Name("params"),propertyName:new le.Name("propertyName"),message:new le.Name("message"),schema:new le.Name("schema"),parentSchema:new le.Name("parentSchema")};function Ly(t,e,r){let{createErrors:n}=t.it;return n===!1?(0,le._)`{}`:LI(t,e,r)}function LI(t,e,r={}){let{gen:n,it:i}=t,o=[jI(i,r),FI(t,r)];return qI(t,e,o),n.object(...o)}function jI({errorPath:t},{instancePath:e}){let r=e?(0,le.str)`${t}${(0,yc.getErrorPath)(e,yc.Type.Str)}`:t;return[gt.default.instancePath,(0,le.strConcat)(gt.default.instancePath,r)]}function FI({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let i=n?e:(0,le.str)`${e}/${t}`;return r&&(i=(0,le.str)`${i}${(0,yc.getErrorPath)(r,yc.Type.Str)}`),[Dn.schemaPath,i]}function qI(t,{params:e,message:r},n){let{keyword:i,data:o,schemaValue:s,it:a}=t,{opts:c,propertyName:u,topSchemaRef:l,schemaPath:d}=a;n.push([Dn.keyword,i],[Dn.params,typeof e=="function"?e(t):e||(0,le._)`{}`]),c.messages&&n.push([Dn.message,typeof r=="function"?r(t):r]),c.verbose&&n.push([Dn.schema,s],[Dn.parentSchema,(0,le._)`${l}${d}`],[gt.default.data,o]),u&&n.push([Dn.propertyName,u])}});var Fy=I(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.boolOrEmptySchema=Oi.topBoolOrEmptySchema=void 0;var BI=hs(),UI=B(),HI=Vt(),GI={message:"boolean schema is false"};function VI(t){let{gen:e,schema:r,validateName:n}=t;r===!1?jy(t,!1):typeof r=="object"&&r.$async===!0?e.return(HI.default.data):(e.assign((0,UI._)`${n}.errors`,null),e.return(!0))}Oi.topBoolOrEmptySchema=VI;function zI(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),jy(t)):r.var(e,!0)}Oi.boolOrEmptySchema=zI;function jy(t,e){let{gen:r,data:n}=t,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,BI.reportError)(i,GI,void 0,e)}});var yd=I(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.getRules=ki.isJSONType=void 0;var WI=["string","number","integer","boolean","null","object","array"],KI=new Set(WI);function YI(t){return typeof t=="string"&&KI.has(t)}ki.isJSONType=YI;function JI(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:C(g({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ki.getRules=JI});var _d=I(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.shouldUseRule=sn.shouldUseGroup=sn.schemaHasRulesForType=void 0;function XI({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&qy(t,n)}sn.schemaHasRulesForType=XI;function qy(t,e){return e.rules.some(r=>By(t,r))}sn.shouldUseGroup=qy;function By(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}sn.shouldUseRule=By});var ys=I(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.reportTypeError=at.checkDataTypes=at.checkDataType=at.coerceAndCheckDataType=at.getJSONTypes=at.getSchemaTypes=at.DataType=void 0;var ZI=yd(),QI=_d(),e$=hs(),K=B(),Uy=te(),gs;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(gs=at.DataType||(at.DataType={}));function t$(t){let e=Hy(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}at.getSchemaTypes=t$;function Hy(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(ZI.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}at.getJSONTypes=Hy;function r$(t,e){let{gen:r,data:n,opts:i}=t,o=n$(e,i.coerceTypes),s=e.length>0&&!(o.length===0&&e.length===1&&(0,QI.schemaHasRulesForType)(t,e[0]));if(s){let a=bd(e,n,i.strictNumbers,gs.Wrong);r.if(a,()=>{o.length?i$(t,e,o):Sd(t)})}return s}at.coerceAndCheckDataType=r$;var Gy=new Set(["string","number","integer","boolean","null"]);function n$(t,e){return e?t.filter(r=>Gy.has(r)||e==="array"&&r==="array"):[]}function i$(t,e,r){let{gen:n,data:i,opts:o}=t,s=n.let("dataType",(0,K._)`typeof ${i}`),a=n.let("coerced",(0,K._)`undefined`);o.coerceTypes==="array"&&n.if((0,K._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,K._)`${i}[0]`).assign(s,(0,K._)`typeof ${i}`).if(bd(e,i,o.strictNumbers),()=>n.assign(a,i))),n.if((0,K._)`${a} !== undefined`);for(let u of r)(Gy.has(u)||u==="array"&&o.coerceTypes==="array")&&c(u);n.else(),Sd(t),n.endIf(),n.if((0,K._)`${a} !== undefined`,()=>{n.assign(i,a),o$(t,a)});function c(u){switch(u){case"string":n.elseIf((0,K._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,K._)`"" + ${i}`).elseIf((0,K._)`${i} === null`).assign(a,(0,K._)`""`);return;case"number":n.elseIf((0,K._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,K._)`+${i}`);return;case"integer":n.elseIf((0,K._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,K._)`+${i}`);return;case"boolean":n.elseIf((0,K._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,K._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,K._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,K._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,K._)`[${i}]`)}}}function o$({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,K._)`${e} !== undefined`,()=>t.assign((0,K._)`${e}[${r}]`,n))}function vd(t,e,r,n=gs.Correct){let i=n===gs.Correct?K.operators.EQ:K.operators.NEQ,o;switch(t){case"null":return(0,K._)`${e} ${i} null`;case"array":o=(0,K._)`Array.isArray(${e})`;break;case"object":o=(0,K._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=s((0,K._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=s();break;default:return(0,K._)`typeof ${e} ${i} ${t}`}return n===gs.Correct?o:(0,K.not)(o);function s(a=K.nil){return(0,K.and)((0,K._)`typeof ${e} == "number"`,a,r?(0,K._)`isFinite(${e})`:K.nil)}}at.checkDataType=vd;function bd(t,e,r,n){if(t.length===1)return vd(t[0],e,r,n);let i,o=(0,Uy.toHash)(t);if(o.array&&o.object){let s=(0,K._)`typeof ${e} != "object"`;i=o.null?s:(0,K._)`!${e} || ${s}`,delete o.null,delete o.array,delete o.object}else i=K.nil;o.number&&delete o.integer;for(let s in o)i=(0,K.and)(i,vd(s,e,r,n));return i}at.checkDataTypes=bd;var s$={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,K._)`{type: ${t}}`:(0,K._)`{type: ${e}}`};function Sd(t){let e=a$(t);(0,e$.reportError)(e,s$)}at.reportTypeError=Sd;function a$(t){let{gen:e,data:r,schema:n}=t,i=(0,Uy.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:t}}});var zy=I(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.assignDefaults=void 0;var Ci=B(),c$=te();function u$(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let i in r)Vy(t,i,r[i].default);else e==="array"&&Array.isArray(n)&&n.forEach((i,o)=>Vy(t,o,i.default))}_c.assignDefaults=u$;function Vy(t,e,r){let{gen:n,compositeRule:i,data:o,opts:s}=t;if(r===void 0)return;let a=(0,Ci._)`${o}${(0,Ci.getProperty)(e)}`;if(i){(0,c$.checkStrictMode)(t,`default is ignored for: ${a}`);return}let c=(0,Ci._)`${a} === undefined`;s.useDefaults==="empty"&&(c=(0,Ci._)`${c} || ${a} === null || ${a} === ""`),n.if(c,(0,Ci._)`${a} = ${(0,Ci.stringify)(r)}`)}});var zt=I(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.validateUnion=be.validateArray=be.usePattern=be.callValidateCode=be.schemaProperties=be.allSchemaProperties=be.noPropertyInData=be.propertyInData=be.isOwnProperty=be.hasPropFunc=be.reportMissingProp=be.checkMissingProp=be.checkReportMissingProp=void 0;var Ae=B(),Ed=te(),an=Vt(),l$=te();function d$(t,e){let{gen:r,data:n,it:i}=t;r.if(Td(r,n,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ae._)`${e}`},!0),t.error()})}be.checkReportMissingProp=d$;function f$({gen:t,data:e,it:{opts:r}},n,i){return(0,Ae.or)(...n.map(o=>(0,Ae.and)(Td(t,e,o,r.ownProperties),(0,Ae._)`${i} = ${o}`)))}be.checkMissingProp=f$;function p$(t,e){t.setParams({missingProperty:e},!0),t.error()}be.reportMissingProp=p$;function Wy(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ae._)`Object.prototype.hasOwnProperty`})}be.hasPropFunc=Wy;function wd(t,e,r){return(0,Ae._)`${Wy(t)}.call(${e}, ${r})`}be.isOwnProperty=wd;function m$(t,e,r,n){let i=(0,Ae._)`${e}${(0,Ae.getProperty)(r)} !== undefined`;return n?(0,Ae._)`${i} && ${wd(t,e,r)}`:i}be.propertyInData=m$;function Td(t,e,r,n){let i=(0,Ae._)`${e}${(0,Ae.getProperty)(r)} === undefined`;return n?(0,Ae.or)(i,(0,Ae.not)(wd(t,e,r))):i}be.noPropertyInData=Td;function Ky(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}be.allSchemaProperties=Ky;function h$(t,e){return Ky(e).filter(r=>!(0,Ed.alwaysValidSchema)(t,e[r]))}be.schemaProperties=h$;function g$({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:s},a,c,u){let l=u?(0,Ae._)`${t}, ${e}, ${n}${i}`:e,d=[[an.default.instancePath,(0,Ae.strConcat)(an.default.instancePath,o)],[an.default.parentData,s.parentData],[an.default.parentDataProperty,s.parentDataProperty],[an.default.rootData,an.default.rootData]];s.opts.dynamicRef&&d.push([an.default.dynamicAnchors,an.default.dynamicAnchors]);let f=(0,Ae._)`${l}, ${r.object(...d)}`;return c!==Ae.nil?(0,Ae._)`${a}.call(${c}, ${f})`:(0,Ae._)`${a}(${f})`}be.callValidateCode=g$;var y$=(0,Ae._)`new RegExp`;function _$({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"",{regExp:i}=e.code,o=i(r,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Ae._)`${i.code==="new RegExp"?y$:(0,l$.useFunc)(t,i)}(${r}, ${n})`})}be.usePattern=_$;function v$(t){let{gen:e,data:r,keyword:n,it:i}=t,o=e.name("valid");if(i.allErrors){let a=e.let("valid",!0);return s(()=>e.assign(a,!1)),a}return e.var(o,!0),s(()=>e.break()),o;function s(a){let c=e.const("len",(0,Ae._)`${r}.length`);e.forRange("i",0,c,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:Ed.Type.Num},o),e.if((0,Ae.not)(o),a)})}}be.validateArray=v$;function b$(t){let{gen:e,schema:r,keyword:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Ed.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;let s=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((c,u)=>{let l=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);e.assign(s,(0,Ae._)`${s} || ${a}`),t.mergeValidEvaluated(l,a)||e.if((0,Ae.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}be.validateUnion=b$});var Xy=I(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.validateKeywordUsage=gr.validSchemaType=gr.funcKeywordCode=gr.macroKeywordCode=void 0;var yt=B(),Ln=Vt(),S$=zt(),E$=hs();function w$(t,e){let{gen:r,keyword:n,schema:i,parentSchema:o,it:s}=t,a=e.macro.call(s.self,i,o,s),c=Jy(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);let u=r.name("valid");t.subschema({schema:a,schemaPath:yt.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}gr.macroKeywordCode=w$;function T$(t,e){var r;let{gen:n,keyword:i,schema:o,parentSchema:s,$data:a,it:c}=t;$$(c,e);let u=!a&&e.compile?e.compile.call(c.self,o,s,c):e.validate,l=Jy(n,i,u),d=n.let("valid");t.block$data(d,f),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function f(){if(e.errors===!1)_(),e.modifying&&Yy(t),b(()=>t.error());else{let y=e.async?p():m();e.modifying&&Yy(t),b(()=>I$(t,y))}}function p(){let y=n.let("ruleErrs",null);return n.try(()=>_((0,yt._)`await `),w=>n.assign(d,!1).if((0,yt._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(y,(0,yt._)`${w}.errors`),()=>n.throw(w))),y}function m(){let y=(0,yt._)`${l}.errors`;return n.assign(y,null),_(yt.nil),y}function _(y=e.async?(0,yt._)`await `:yt.nil){let w=c.opts.passContext?Ln.default.this:Ln.default.self,R=!("compile"in e&&!a||e.schema===!1);n.assign(d,(0,yt._)`${y}${(0,S$.callValidateCode)(t,l,w,R)}`,e.modifying)}function b(y){var w;n.if((0,yt.not)((w=e.valid)!==null&&w!==void 0?w:d),y)}}gr.funcKeywordCode=T$;function Yy(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,yt._)`${n.parentData}[${n.parentDataProperty}]`))}function I$(t,e){let{gen:r}=t;r.if((0,yt._)`Array.isArray(${e})`,()=>{r.assign(Ln.default.vErrors,(0,yt._)`${Ln.default.vErrors} === null ? ${e} : ${Ln.default.vErrors}.concat(${e})`).assign(Ln.default.errors,(0,yt._)`${Ln.default.vErrors}.length`),(0,E$.extendErrors)(t)},()=>t.error())}function $$({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Jy(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,yt.stringify)(r)})}function R$(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}gr.validSchemaType=R$;function O$({schema:t,opts:e,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");let s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[o])){let c=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}gr.validateKeywordUsage=O$});var Qy=I(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.extendSubschemaMode=cn.extendSubschemaData=cn.getSubschema=void 0;var yr=B(),Zy=te();function k$(t,{keyword:e,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,yr._)`${t.schemaPath}${(0,yr.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,yr._)`${t.schemaPath}${(0,yr.getProperty)(e)}${(0,yr.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Zy.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}cn.getSubschema=k$;function C$(t,e,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(r!==void 0){let{errorPath:u,dataPathArr:l,opts:d}=e,f=a.let("data",(0,yr._)`${e.data}${(0,yr.getProperty)(r)}`,!0);c(f),t.errorPath=(0,yr.str)`${u}${(0,Zy.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,yr._)`${r}`,t.dataPathArr=[...l,t.parentDataProperty]}if(i!==void 0){let u=i instanceof yr.Name?i:a.let("data",i,!0);c(u),s!==void 0&&(t.propertyName=s)}o&&(t.dataTypes=o);function c(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}cn.extendSubschemaData=C$;function x$(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(t.compositeRule=n),i!==void 0&&(t.createErrors=i),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}cn.extendSubschemaMode=x$});var Id=I((Y9,e_)=>{"use strict";e_.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}});var r_=I((J9,t_)=>{"use strict";var un=t_.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};vc(e,n,i,t,"",t)};un.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};un.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};un.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};un.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function vc(t,e,r,n,i,o,s,a,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,i,o,s,a,c,u);for(var l in n){var d=n[l];if(Array.isArray(d)){if(l in un.arrayKeywords)for(var f=0;f<d.length;f++)vc(t,e,r,d[f],i+"/"+l+"/"+f,o,i,l,n,f)}else if(l in un.propsKeywords){if(d&&typeof d=="object")for(var p in d)vc(t,e,r,d[p],i+"/"+l+"/"+A$(p),o,i,l,n,p)}else(l in un.keywords||t.allKeys&&!(l in un.skipKeywords))&&vc(t,e,r,d,i+"/"+l,o,i,l,n)}r(n,i,o,s,a,c,u)}}function A$(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var _s=I(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.getSchemaRefs=wt.resolveUrl=wt.normalizeId=wt._getFullPath=wt.getFullPath=wt.inlineRef=void 0;var P$=te(),N$=Id(),M$=r_(),D$=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function L$(t,e=!0){return typeof t=="boolean"?!0:e===!0?!$d(t):e?n_(t)<=e:!1}wt.inlineRef=L$;var j$=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function $d(t){for(let e in t){if(j$.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some($d)||typeof r=="object"&&$d(r))return!0}return!1}function n_(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!D$.has(r)&&(typeof t[r]=="object"&&(0,P$.eachItem)(t[r],n=>e+=n_(n)),e===1/0))return 1/0}return e}function i_(t,e="",r){r!==!1&&(e=xi(e));let n=t.parse(e);return o_(t,n)}wt.getFullPath=i_;function o_(t,e){return t.serialize(e).split("#")[0]+"#"}wt._getFullPath=o_;var F$=/#\/?$/;function xi(t){return t?t.replace(F$,""):""}wt.normalizeId=xi;function q$(t,e,r){return r=xi(r),t.resolve(e,r)}wt.resolveUrl=q$;var B$=/^[a-z_][-a-z0-9._]*$/i;function U$(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:n}=this.opts,i=xi(t[r]||e),o={"":i},s=i_(n,i,!1),a={},c=new Set;return M$(t,{allKeys:!0},(d,f,p,m)=>{if(m===void 0)return;let _=s+f,b=o[m];typeof d[r]=="string"&&(b=y.call(this,d[r])),w.call(this,d.$anchor),w.call(this,d.$dynamicAnchor),o[f]=b;function y(R){let O=this.opts.uriResolver.resolve;if(R=xi(b?O(b,R):R),c.has(R))throw l(R);c.add(R);let k=this.refs[R];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?u(d,k.schema,R):R!==xi(_)&&(R[0]==="#"?(u(d,a[R],R),a[R]=d):this.refs[R]=_),R}function w(R){if(typeof R=="string"){if(!B$.test(R))throw new Error(`invalid anchor "${R}"`);y.call(this,`#${R}`)}}}),a;function u(d,f,p){if(f!==void 0&&!N$(d,f))throw l(p)}function l(d){return new Error(`reference "${d}" resolves to more than one schema`)}}wt.getSchemaRefs=U$});var jn=I(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.getData=ln.KeywordCxt=ln.validateFunctionCode=void 0;var l_=Fy(),s_=ys(),Od=_d(),bc=ys(),H$=zy(),bs=Xy(),Rd=Qy(),L=B(),U=Vt(),G$=_s(),Br=te(),vs=hs();function V$(t){if(p_(t)&&(m_(t),f_(t))){K$(t);return}d_(t,()=>(0,l_.topBoolOrEmptySchema)(t))}ln.validateFunctionCode=V$;function d_({gen:t,validateName:e,schema:r,schemaEnv:n,opts:i},o){i.code.es5?t.func(e,(0,L._)`${U.default.data}, ${U.default.valCxt}`,n.$async,()=>{t.code((0,L._)`"use strict"; ${a_(r,i)}`),W$(t,i),t.code(o)}):t.func(e,(0,L._)`${U.default.data}, ${z$(i)}`,n.$async,()=>t.code(a_(r,i)).code(o))}function z$(t){return(0,L._)`{${U.default.instancePath}="", ${U.default.parentData}, ${U.default.parentDataProperty}, ${U.default.rootData}=${U.default.data}${t.dynamicRef?(0,L._)`, ${U.default.dynamicAnchors}={}`:L.nil}}={}`}function W$(t,e){t.if(U.default.valCxt,()=>{t.var(U.default.instancePath,(0,L._)`${U.default.valCxt}.${U.default.instancePath}`),t.var(U.default.parentData,(0,L._)`${U.default.valCxt}.${U.default.parentData}`),t.var(U.default.parentDataProperty,(0,L._)`${U.default.valCxt}.${U.default.parentDataProperty}`),t.var(U.default.rootData,(0,L._)`${U.default.valCxt}.${U.default.rootData}`),e.dynamicRef&&t.var(U.default.dynamicAnchors,(0,L._)`${U.default.valCxt}.${U.default.dynamicAnchors}`)},()=>{t.var(U.default.instancePath,(0,L._)`""`),t.var(U.default.parentData,(0,L._)`undefined`),t.var(U.default.parentDataProperty,(0,L._)`undefined`),t.var(U.default.rootData,U.default.data),e.dynamicRef&&t.var(U.default.dynamicAnchors,(0,L._)`{}`)})}function K$(t){let{schema:e,opts:r,gen:n}=t;d_(t,()=>{r.$comment&&e.$comment&&g_(t),Q$(t),n.let(U.default.vErrors,null),n.let(U.default.errors,0),r.unevaluated&&Y$(t),h_(t),rR(t)})}function Y$(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,L._)`${r}.evaluated`),e.if((0,L._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,L._)`${t.evaluated}.props`,(0,L._)`undefined`)),e.if((0,L._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,L._)`${t.evaluated}.items`,(0,L._)`undefined`))}function a_(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,L._)`/*# sourceURL=${r} */`:L.nil}function J$(t,e){if(p_(t)&&(m_(t),f_(t))){X$(t,e);return}(0,l_.boolOrEmptySchema)(t,e)}function f_({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function p_(t){return typeof t.schema!="boolean"}function X$(t,e){let{schema:r,gen:n,opts:i}=t;i.$comment&&r.$comment&&g_(t),eR(t),tR(t);let o=n.const("_errs",U.default.errors);h_(t,o),n.var(e,(0,L._)`${o} === ${U.default.errors}`)}function m_(t){(0,Br.checkUnknownRules)(t),Z$(t)}function h_(t,e){if(t.opts.jtd)return c_(t,[],!1,e);let r=(0,s_.getSchemaTypes)(t.schema),n=(0,s_.coerceAndCheckDataType)(t,r);c_(t,r,!n,e)}function Z$(t){let{schema:e,errSchemaPath:r,opts:n,self:i}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Br.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Q$(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Br.checkStrictMode)(t,"default is ignored in the schema root")}function eR(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,G$.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function tR(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function g_({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:i}){let o=r.$comment;if(i.$comment===!0)t.code((0,L._)`${U.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){let s=(0,L.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,L._)`${U.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function rR(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=t;r.$async?e.if((0,L._)`${U.default.errors} === 0`,()=>e.return(U.default.data),()=>e.throw((0,L._)`new ${i}(${U.default.vErrors})`)):(e.assign((0,L._)`${n}.errors`,U.default.vErrors),o.unevaluated&&nR(t),e.return((0,L._)`${U.default.errors} === 0`))}function nR({gen:t,evaluated:e,props:r,items:n}){r instanceof L.Name&&t.assign((0,L._)`${e}.props`,r),n instanceof L.Name&&t.assign((0,L._)`${e}.items`,n)}function c_(t,e,r,n){let{gen:i,schema:o,data:s,allErrors:a,opts:c,self:u}=t,{RULES:l}=u;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,Br.schemaHasRulesButRef)(o,l))){i.block(()=>__(t,"$ref",l.all.$ref.definition));return}c.jtd||iR(t,e),i.block(()=>{for(let f of l.rules)d(f);d(l.post)});function d(f){(0,Od.shouldUseGroup)(o,f)&&(f.type?(i.if((0,bc.checkDataType)(f.type,s,c.strictNumbers)),u_(t,f),e.length===1&&e[0]===f.type&&r&&(i.else(),(0,bc.reportTypeError)(t)),i.endIf()):u_(t,f),a||i.if((0,L._)`${U.default.errors} === ${n||0}`))}}function u_(t,e){let{gen:r,schema:n,opts:{useDefaults:i}}=t;i&&(0,H$.assignDefaults)(t,e.type),r.block(()=>{for(let o of e.rules)(0,Od.shouldUseRule)(n,o)&&__(t,o.keyword,o.definition,e.type)})}function iR(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(oR(t,e),t.opts.allowUnionTypes||sR(t,e),aR(t,t.dataTypes))}function oR(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{y_(t.dataTypes,r)||kd(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),uR(t,e)}}function sR(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&kd(t,"use allowUnionTypes to allow union type keyword")}function aR(t,e){let r=t.self.RULES.all;for(let n in r){let i=r[n];if(typeof i=="object"&&(0,Od.shouldUseRule)(t.schema,i)){let{type:o}=i.definition;o.length&&!o.some(s=>cR(e,s))&&kd(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function cR(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function y_(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function uR(t,e){let r=[];for(let n of t.dataTypes)y_(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function kd(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Br.checkStrictMode)(t,e,t.opts.strictTypes)}var Sc=class{constructor(e,r,n){if((0,bs.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Br.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",v_(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,bs.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",U.default.errors))}result(e,r,n){this.failResult((0,L.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,L.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,L._)`${r} !== undefined && (${(0,L.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?vs.reportExtraError:vs.reportError)(this,this.def.error,r)}$dataError(){(0,vs.reportError)(this,this.def.$dataError||vs.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,vs.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=L.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=L.nil,r=L.nil){if(!this.$data)return;let{gen:n,schemaCode:i,schemaType:o,def:s}=this;n.if((0,L.or)((0,L._)`${i} === undefined`,r)),e!==L.nil&&n.assign(e,!0),(o.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==L.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,L.or)(s(),a());function s(){if(n.length){if(!(r instanceof L.Name))throw new Error("ajv implementation error");let c=Array.isArray(n)?n:[n];return(0,L._)`${(0,bc.checkDataTypes)(c,r,o.opts.strictNumbers,bc.DataType.Wrong)}`}return L.nil}function a(){if(i.validateSchema){let c=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,L._)`!${c}(${r})`}return L.nil}}subschema(e,r){let n=(0,Rd.getSubschema)(this.it,e);(0,Rd.extendSubschemaData)(n,this.it,e),(0,Rd.extendSubschemaMode)(n,e);let i=C(g(g({},this.it),n),{items:void 0,props:void 0});return J$(i,r),i}mergeEvaluated(e,r){let{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Br.mergeEvaluated.props(i,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Br.mergeEvaluated.items(i,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(e,L.Name)),!0}};ln.KeywordCxt=Sc;function __(t,e,r,n){let i=new Sc(t,r,e);"code"in r?r.code(i,n):i.$data&&r.validate?(0,bs.funcKeywordCode)(i,r):"macro"in r?(0,bs.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,bs.funcKeywordCode)(i,r)}var lR=/^\/(?:[^~]|~0|~1)*$/,dR=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function v_(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let i,o;if(t==="")return U.default.rootData;if(t[0]==="/"){if(!lR.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,o=U.default.rootData}else{let u=dR.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);let l=+u[1];if(i=u[2],i==="#"){if(l>=e)throw new Error(c("property/index",l));return n[e-l]}if(l>e)throw new Error(c("data",l));if(o=r[e-l],!i)return o}let s=o,a=i.split("/");for(let u of a)u&&(o=(0,L._)`${o}${(0,L.getProperty)((0,Br.unescapeJsonPointer)(u))}`,s=(0,L._)`${s} && ${o}`);return s;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${e}`}}ln.getData=v_});var Ai=I(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var Cd=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};xd.default=Cd});var Pi=I(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});var Ad=_s(),Pd=class extends Error{constructor(e,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Ad.resolveUrl)(e,r,n),this.missingSchema=(0,Ad.normalizeId)((0,Ad.getFullPath)(e,this.missingRef))}};Nd.default=Pd});var Ss=I(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.resolveSchema=Wt.getCompilingSchema=Wt.resolveRef=Wt.compileSchema=Wt.SchemaEnv=void 0;var nr=B(),fR=Ai(),Fn=Vt(),ir=_s(),b_=te(),pR=jn(),Ni=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,ir.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Wt.SchemaEnv=Ni;function Dd(t){let e=S_.call(this,t);if(e)return e;let r=(0,ir.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new nr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o}),a;t.$async&&(a=s.scopeValue("Error",{ref:fR.default,code:(0,nr._)`require("ajv/dist/runtime/validation_error").default`}));let c=s.scopeName("validate");t.validateName=c;let u={gen:s,allErrors:this.opts.allErrors,data:Fn.default.data,parentData:Fn.default.parentData,parentDataProperty:Fn.default.parentDataProperty,dataNames:[Fn.default.data],dataPathArr:[nr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,nr.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:nr.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,nr._)`""`,opts:this.opts,self:this},l;try{this._compilations.add(t),(0,pR.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);let d=s.toString();l=`${s.scopeRefs(Fn.default.scope)}return ${d}`,this.opts.code.process&&(l=this.opts.code.process(l,t));let p=new Function(`${Fn.default.self}`,`${Fn.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:c,validateCode:d,scopeValues:s._values}),this.opts.unevaluated){let{props:m,items:_}=u;p.evaluated={props:m instanceof nr.Name?void 0:m,items:_ instanceof nr.Name?void 0:_,dynamicProps:m instanceof nr.Name,dynamicItems:_ instanceof nr.Name},p.source&&(p.source.evaluated=(0,nr.stringify)(p.evaluated))}return t.validate=p,t}catch(d){throw delete t.validate,delete t.validateName,l&&this.logger.error("Error compiling schema, function code:",l),d}finally{this._compilations.delete(t)}}Wt.compileSchema=Dd;function mR(t,e,r){var n;r=(0,ir.resolveUrl)(this.opts.uriResolver,e,r);let i=t.refs[r];if(i)return i;let o=yR.call(this,t,r);if(o===void 0){let s=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(o=new Ni({schema:s,schemaId:a,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=hR.call(this,o)}Wt.resolveRef=mR;function hR(t){return(0,ir.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Dd.call(this,t)}function S_(t){for(let e of this._compilations)if(gR(e,t))return e}Wt.getCompilingSchema=S_;function gR(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function yR(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Ec.call(this,t,e)}function Ec(t,e){let r=this.opts.uriResolver.parse(e),n=(0,ir._getFullPath)(this.opts.uriResolver,r),i=(0,ir.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===i)return Md.call(this,r,t);let o=(0,ir.normalizeId)(n),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){let a=Ec.call(this,t,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:Md.call(this,r,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||Dd.call(this,s),o===(0,ir.normalizeId)(e)){let{schema:a}=s,{schemaId:c}=this.opts,u=a[c];return u&&(i=(0,ir.resolveUrl)(this.opts.uriResolver,i,u)),new Ni({schema:a,schemaId:c,root:t,baseId:i})}return Md.call(this,r,s)}}Wt.resolveSchema=Ec;var _R=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Md(t,{baseId:e,schema:r,root:n}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let c=r[(0,b_.unescapeFragment)(a)];if(c===void 0)return;r=c;let u=typeof r=="object"&&r[this.opts.schemaId];!_R.has(a)&&u&&(e=(0,ir.resolveUrl)(this.opts.uriResolver,e,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,b_.schemaHasRulesButRef)(r,this.RULES)){let a=(0,ir.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=Ec.call(this,n,a)}let{schemaId:s}=this.opts;if(o=o||new Ni({schema:r,schemaId:s,root:n,baseId:e}),o.schema!==o.root.schema)return o}});var E_=I((n3,vR)=>{vR.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var T_=I((wc,w_)=>{(function(t,e){typeof wc=="object"&&typeof w_!="undefined"?e(wc):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(wc,function(t){"use strict";function e(){for(var v=arguments.length,h=Array(v),E=0;E<v;E++)h[E]=arguments[E];if(h.length>1){h[0]=h[0].slice(0,-1);for(var T=h.length-1,$=1;$<T;++$)h[$]=h[$].slice(1,-1);return h[T]=h[T].slice(1),h.join("")}else return h[0]}function r(v){return"(?:"+v+")"}function n(v){return v===void 0?"undefined":v===null?"null":Object.prototype.toString.call(v).split(" ").pop().split("]").shift().toLowerCase()}function i(v){return v.toUpperCase()}function o(v){return v!=null?v instanceof Array?v:typeof v.length!="number"||v.split||v.setInterval||v.call?[v]:Array.prototype.slice.call(v):[]}function s(v,h){var E=v;if(h)for(var T in h)E[T]=h[T];return E}function a(v){var h="[A-Za-z]",E="[\\x0D]",T="[0-9]",$="[\\x22]",M=e(T,"[A-Fa-f]"),W="[\\x0A]",fe="[\\x20]",he=r(r("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+r("%[89A-Fa-f]"+M+"%"+M+M)+"|"+r("%"+M+M)),ze="[\\:\\/\\?\\#\\[\\]\\@]",ue="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Le=e(ze,ue),We=v?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Me=v?"[\\uE000-\\uF8FF]":"[]",me=e(h,T,"[\\-\\.\\_\\~]",We),je=r(h+e(h,T,"[\\+\\-\\.]")+"*"),_e=r(r(he+"|"+e(me,ue,"[\\:]"))+"*"),kn=r(r("25[0-5]")+"|"+r("2[0-4]"+T)+"|"+r("1"+T+T)+"|"+r("[1-9]"+T)+"|"+T),Pt=r(r("25[0-5]")+"|"+r("2[0-4]"+T)+"|"+r("1"+T+T)+"|"+r("0?[1-9]"+T)+"|0?0?"+T),Bt=r(Pt+"\\."+Pt+"\\."+Pt+"\\."+Pt),we=r(M+"{1,4}"),Nt=r(r(we+"\\:"+we)+"|"+Bt),Ut=r(r(we+"\\:")+"{6}"+Nt),hr=r("\\:\\:"+r(we+"\\:")+"{5}"+Nt),Cn=r(r(we)+"?\\:\\:"+r(we+"\\:")+"{4}"+Nt),Mr=r(r(r(we+"\\:")+"{0,1}"+we)+"?\\:\\:"+r(we+"\\:")+"{3}"+Nt),Qo=r(r(r(we+"\\:")+"{0,2}"+we)+"?\\:\\:"+r(we+"\\:")+"{2}"+Nt),rc=r(r(r(we+"\\:")+"{0,3}"+we)+"?\\:\\:"+we+"\\:"+Nt),nc=r(r(r(we+"\\:")+"{0,4}"+we)+"?\\:\\:"+Nt),yi=r(r(r(we+"\\:")+"{0,5}"+we)+"?\\:\\:"+we),_i=r(r(r(we+"\\:")+"{0,6}"+we)+"?\\:\\:"),Dr=r([Ut,hr,Cn,Mr,Qo,rc,nc,yi,_i].join("|")),vi=r(r(me+"|"+he)+"+"),Gl=r(Dr+"\\%25"+vi),xn=r(Dr+r("\\%25|\\%(?!"+M+"{2})")+vi),h1=r("[vV]"+M+"+\\."+e(me,ue,"[\\:]")+"+"),g1=r("\\["+r(xn+"|"+Dr+"|"+h1)+"\\]"),Vg=r(r(he+"|"+e(me,ue))+"*"),es=r(g1+"|"+Bt+"(?!"+Vg+")|"+Vg),ts=r(T+"*"),zg=r(r(_e+"@")+"?"+es+r("\\:"+ts)+"?"),rs=r(he+"|"+e(me,ue,"[\\:\\@]")),y1=r(rs+"*"),Wg=r(rs+"+"),_1=r(r(he+"|"+e(me,ue,"[\\@]"))+"+"),Lr=r(r("\\/"+y1)+"*"),bi=r("\\/"+r(Wg+Lr)+"?"),Vl=r(_1+Lr),ic=r(Wg+Lr),Si="(?!"+rs+")",s9=r(Lr+"|"+bi+"|"+Vl+"|"+ic+"|"+Si),Ei=r(r(rs+"|"+e("[\\/\\?]",Me))+"*"),ns=r(r(rs+"|[\\/\\?]")+"*"),Kg=r(r("\\/\\/"+zg+Lr)+"|"+bi+"|"+ic+"|"+Si),v1=r(je+"\\:"+Kg+r("\\?"+Ei)+"?"+r("\\#"+ns)+"?"),b1=r(r("\\/\\/"+zg+Lr)+"|"+bi+"|"+Vl+"|"+Si),S1=r(b1+r("\\?"+Ei)+"?"+r("\\#"+ns)+"?"),a9=r(v1+"|"+S1),c9=r(je+"\\:"+Kg+r("\\?"+Ei)+"?"),u9="^("+je+")\\:"+r(r("\\/\\/("+r("("+_e+")@")+"?("+es+")"+r("\\:("+ts+")")+"?)")+"?("+Lr+"|"+bi+"|"+ic+"|"+Si+")")+r("\\?("+Ei+")")+"?"+r("\\#("+ns+")")+"?$",l9="^(){0}"+r(r("\\/\\/("+r("("+_e+")@")+"?("+es+")"+r("\\:("+ts+")")+"?)")+"?("+Lr+"|"+bi+"|"+Vl+"|"+Si+")")+r("\\?("+Ei+")")+"?"+r("\\#("+ns+")")+"?$",d9="^("+je+")\\:"+r(r("\\/\\/("+r("("+_e+")@")+"?("+es+")"+r("\\:("+ts+")")+"?)")+"?("+Lr+"|"+bi+"|"+ic+"|"+Si+")")+r("\\?("+Ei+")")+"?$",f9="^"+r("\\#("+ns+")")+"?$",p9="^"+r("("+_e+")@")+"?("+es+")"+r("\\:("+ts+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",h,T,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",me,ue),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",me,ue),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",me,ue),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",me,ue),"g"),NOT_QUERY:new RegExp(e("[^\\%]",me,ue,"[\\:\\@\\/\\?]",Me),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",me,ue,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",me,ue),"g"),UNRESERVED:new RegExp(me,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",me,Le),"g"),PCT_ENCODED:new RegExp(he,"g"),IPV4ADDRESS:new RegExp("^("+Bt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Dr+")"+r(r("\\%25|\\%(?!"+M+"{2})")+"("+vi+")")+"?\\]?$")}}var c=a(!1),u=a(!0),l=function(){function v(h,E){var T=[],$=!0,M=!1,W=void 0;try{for(var fe=h[Symbol.iterator](),he;!($=(he=fe.next()).done)&&(T.push(he.value),!(E&&T.length===E));$=!0);}catch(ze){M=!0,W=ze}finally{try{!$&&fe.return&&fe.return()}finally{if(M)throw W}}return T}return function(h,E){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return v(h,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(v){if(Array.isArray(v)){for(var h=0,E=Array(v.length);h<v.length;h++)E[h]=v[h];return E}else return Array.from(v)},f=2147483647,p=36,m=1,_=26,b=38,y=700,w=72,R=128,O="-",k=/^xn--/,P=/[^\0-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},oe=p-m,x=Math.floor,q=String.fromCharCode;function ee(v){throw new RangeError(G[v])}function Ce(v,h){for(var E=[],T=v.length;T--;)E[T]=h(v[T]);return E}function $e(v,h){var E=v.split("@"),T="";E.length>1&&(T=E[0]+"@",v=E[1]),v=v.replace(N,".");var $=v.split("."),M=Ce($,h).join(".");return T+M}function Qe(v){for(var h=[],E=0,T=v.length;E<T;){var $=v.charCodeAt(E++);if($>=55296&&$<=56319&&E<T){var M=v.charCodeAt(E++);(M&64512)==56320?h.push((($&1023)<<10)+(M&1023)+65536):(h.push($),E--)}else h.push($)}return h}var ye=function(h){return String.fromCodePoint.apply(String,d(h))},qt=function(h){return h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:p},Ne=function(h,E){return h+22+75*(h<26)-((E!=0)<<5)},it=function(h,E,T){var $=0;for(h=T?x(h/y):h>>1,h+=x(h/E);h>oe*_>>1;$+=p)h=x(h/oe);return x($+(oe+1)*h/(h+b))},xt=function(h){var E=[],T=h.length,$=0,M=R,W=w,fe=h.lastIndexOf(O);fe<0&&(fe=0);for(var he=0;he<fe;++he)h.charCodeAt(he)>=128&&ee("not-basic"),E.push(h.charCodeAt(he));for(var ze=fe>0?fe+1:0;ze<T;){for(var ue=$,Le=1,We=p;;We+=p){ze>=T&&ee("invalid-input");var Me=qt(h.charCodeAt(ze++));(Me>=p||Me>x((f-$)/Le))&&ee("overflow"),$+=Me*Le;var me=We<=W?m:We>=W+_?_:We-W;if(Me<me)break;var je=p-me;Le>x(f/je)&&ee("overflow"),Le*=je}var _e=E.length+1;W=it($-ue,_e,ue==0),x($/_e)>f-M&&ee("overflow"),M+=x($/_e),$%=_e,E.splice($++,0,M)}return String.fromCodePoint.apply(String,E)},tn=function(h){var E=[];h=Qe(h);var T=h.length,$=R,M=0,W=w,fe=!0,he=!1,ze=void 0;try{for(var ue=h[Symbol.iterator](),Le;!(fe=(Le=ue.next()).done);fe=!0){var We=Le.value;We<128&&E.push(q(We))}}catch(xn){he=!0,ze=xn}finally{try{!fe&&ue.return&&ue.return()}finally{if(he)throw ze}}var Me=E.length,me=Me;for(Me&&E.push(O);me<T;){var je=f,_e=!0,kn=!1,Pt=void 0;try{for(var Bt=h[Symbol.iterator](),we;!(_e=(we=Bt.next()).done);_e=!0){var Nt=we.value;Nt>=$&&Nt<je&&(je=Nt)}}catch(xn){kn=!0,Pt=xn}finally{try{!_e&&Bt.return&&Bt.return()}finally{if(kn)throw Pt}}var Ut=me+1;je-$>x((f-M)/Ut)&&ee("overflow"),M+=(je-$)*Ut,$=je;var hr=!0,Cn=!1,Mr=void 0;try{for(var Qo=h[Symbol.iterator](),rc;!(hr=(rc=Qo.next()).done);hr=!0){var nc=rc.value;if(nc<$&&++M>f&&ee("overflow"),nc==$){for(var yi=M,_i=p;;_i+=p){var Dr=_i<=W?m:_i>=W+_?_:_i-W;if(yi<Dr)break;var vi=yi-Dr,Gl=p-Dr;E.push(q(Ne(Dr+vi%Gl,0))),yi=x(vi/Gl)}E.push(q(Ne(yi,0))),W=it(M,Ut,me==Me),M=0,++me}}}catch(xn){Cn=!0,Mr=xn}finally{try{!hr&&Qo.return&&Qo.return()}finally{if(Cn)throw Mr}}++M,++$}return E.join("")},kr=function(h){return $e(h,function(E){return k.test(E)?xt(E.slice(4).toLowerCase()):E})},Cr=function(h){return $e(h,function(E){return P.test(E)?"xn--"+tn(E):E})},At={version:"2.1.0",ucs2:{decode:Qe,encode:ye},decode:xt,encode:tn,toASCII:Cr,toUnicode:kr},ot={};function St(v){var h=v.charCodeAt(0),E=void 0;return h<16?E="%0"+h.toString(16).toUpperCase():h<128?E="%"+h.toString(16).toUpperCase():h<2048?E="%"+(h>>6|192).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase():E="%"+(h>>12|224).toString(16).toUpperCase()+"%"+(h>>6&63|128).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase(),E}function xr(v){for(var h="",E=0,T=v.length;E<T;){var $=parseInt(v.substr(E+1,2),16);if($<128)h+=String.fromCharCode($),E+=3;else if($>=194&&$<224){if(T-E>=6){var M=parseInt(v.substr(E+4,2),16);h+=String.fromCharCode(($&31)<<6|M&63)}else h+=v.substr(E,6);E+=6}else if($>=224){if(T-E>=9){var W=parseInt(v.substr(E+4,2),16),fe=parseInt(v.substr(E+7,2),16);h+=String.fromCharCode(($&15)<<12|(W&63)<<6|fe&63)}else h+=v.substr(E,9);E+=9}else h+=v.substr(E,3),E+=3}return h}function xe(v,h){function E(T){var $=xr(T);return $.match(h.UNRESERVED)?$:T}return v.scheme&&(v.scheme=String(v.scheme).replace(h.PCT_ENCODED,E).toLowerCase().replace(h.NOT_SCHEME,"")),v.userinfo!==void 0&&(v.userinfo=String(v.userinfo).replace(h.PCT_ENCODED,E).replace(h.NOT_USERINFO,St).replace(h.PCT_ENCODED,i)),v.host!==void 0&&(v.host=String(v.host).replace(h.PCT_ENCODED,E).toLowerCase().replace(h.NOT_HOST,St).replace(h.PCT_ENCODED,i)),v.path!==void 0&&(v.path=String(v.path).replace(h.PCT_ENCODED,E).replace(v.scheme?h.NOT_PATH:h.NOT_PATH_NOSCHEME,St).replace(h.PCT_ENCODED,i)),v.query!==void 0&&(v.query=String(v.query).replace(h.PCT_ENCODED,E).replace(h.NOT_QUERY,St).replace(h.PCT_ENCODED,i)),v.fragment!==void 0&&(v.fragment=String(v.fragment).replace(h.PCT_ENCODED,E).replace(h.NOT_FRAGMENT,St).replace(h.PCT_ENCODED,i)),v}function rn(v){return v.replace(/^0*(.*)/,"$1")||"0"}function mi(v,h){var E=v.match(h.IPV4ADDRESS)||[],T=l(E,2),$=T[1];return $?$.split(".").map(rn).join("."):v}function tc(v,h){var E=v.match(h.IPV6ADDRESS)||[],T=l(E,3),$=T[1],M=T[2];if($){for(var W=$.toLowerCase().split("::").reverse(),fe=l(W,2),he=fe[0],ze=fe[1],ue=ze?ze.split(":").map(rn):[],Le=he.split(":").map(rn),We=h.IPV4ADDRESS.test(Le[Le.length-1]),Me=We?7:8,me=Le.length-Me,je=Array(Me),_e=0;_e<Me;++_e)je[_e]=ue[_e]||Le[me+_e]||"";We&&(je[Me-1]=mi(je[Me-1],h));var kn=je.reduce(function(Ut,hr,Cn){if(!hr||hr==="0"){var Mr=Ut[Ut.length-1];Mr&&Mr.index+Mr.length===Cn?Mr.length++:Ut.push({index:Cn,length:1})}return Ut},[]),Pt=kn.sort(function(Ut,hr){return hr.length-Ut.length})[0],Bt=void 0;if(Pt&&Pt.length>1){var we=je.slice(0,Pt.index),Nt=je.slice(Pt.index+Pt.length);Bt=we.join(":")+"::"+Nt.join(":")}else Bt=je.join(":");return M&&(Bt+="%"+M),Bt}else return v}var Ul=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ar="".match(/(){0}/)[1]===void 0;function st(v){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={},T=h.iri!==!1?u:c;h.reference==="suffix"&&(v=(h.scheme?h.scheme+":":"")+"//"+v);var $=v.match(Ul);if($){Ar?(E.scheme=$[1],E.userinfo=$[3],E.host=$[4],E.port=parseInt($[5],10),E.path=$[6]||"",E.query=$[7],E.fragment=$[8],isNaN(E.port)&&(E.port=$[5])):(E.scheme=$[1]||void 0,E.userinfo=v.indexOf("@")!==-1?$[3]:void 0,E.host=v.indexOf("//")!==-1?$[4]:void 0,E.port=parseInt($[5],10),E.path=$[6]||"",E.query=v.indexOf("?")!==-1?$[7]:void 0,E.fragment=v.indexOf("#")!==-1?$[8]:void 0,isNaN(E.port)&&(E.port=v.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?$[4]:void 0)),E.host&&(E.host=tc(mi(E.host,T),T)),E.scheme===void 0&&E.userinfo===void 0&&E.host===void 0&&E.port===void 0&&!E.path&&E.query===void 0?E.reference="same-document":E.scheme===void 0?E.reference="relative":E.fragment===void 0?E.reference="absolute":E.reference="uri",h.reference&&h.reference!=="suffix"&&h.reference!==E.reference&&(E.error=E.error||"URI is not a "+h.reference+" reference.");var M=ot[(h.scheme||E.scheme||"").toLowerCase()];if(!h.unicodeSupport&&(!M||!M.unicodeSupport)){if(E.host&&(h.domainHost||M&&M.domainHost))try{E.host=At.toASCII(E.host.replace(T.PCT_ENCODED,xr).toLowerCase())}catch(W){E.error=E.error||"Host's domain name can not be converted to ASCII via punycode: "+W}xe(E,c)}else xe(E,T);M&&M.parse&&M.parse(E,h)}else E.error=E.error||"URI can not be parsed.";return E}function Ko(v,h){var E=h.iri!==!1?u:c,T=[];return v.userinfo!==void 0&&(T.push(v.userinfo),T.push("@")),v.host!==void 0&&T.push(tc(mi(String(v.host),E),E).replace(E.IPV6ADDRESS,function($,M,W){return"["+M+(W?"%25"+W:"")+"]"})),(typeof v.port=="number"||typeof v.port=="string")&&(T.push(":"),T.push(String(v.port))),T.length?T.join(""):void 0}var Yo=/^\.\.?\//,On=/^\/\.(\/|$)/,hi=/^\/\.\.(\/|$)/,z=/^\/?(?:.|\n)*?(?=\/|$)/;function et(v){for(var h=[];v.length;)if(v.match(Yo))v=v.replace(Yo,"");else if(v.match(On))v=v.replace(On,"/");else if(v.match(hi))v=v.replace(hi,"/"),h.pop();else if(v==="."||v==="..")v="";else{var E=v.match(z);if(E){var T=E[0];v=v.slice(T.length),h.push(T)}else throw new Error("Unexpected dot segment condition")}return h.join("")}function ce(v){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=h.iri?u:c,T=[],$=ot[(h.scheme||v.scheme||"").toLowerCase()];if($&&$.serialize&&$.serialize(v,h),v.host&&!E.IPV6ADDRESS.test(v.host)){if(h.domainHost||$&&$.domainHost)try{v.host=h.iri?At.toUnicode(v.host):At.toASCII(v.host.replace(E.PCT_ENCODED,xr).toLowerCase())}catch(fe){v.error=v.error||"Host's domain name can not be converted to "+(h.iri?"Unicode":"ASCII")+" via punycode: "+fe}}xe(v,E),h.reference!=="suffix"&&v.scheme&&(T.push(v.scheme),T.push(":"));var M=Ko(v,h);if(M!==void 0&&(h.reference!=="suffix"&&T.push("//"),T.push(M),v.path&&v.path.charAt(0)!=="/"&&T.push("/")),v.path!==void 0){var W=v.path;!h.absolutePath&&(!$||!$.absolutePath)&&(W=et(W)),M===void 0&&(W=W.replace(/^\/\//,"/%2F")),T.push(W)}return v.query!==void 0&&(T.push("?"),T.push(v.query)),v.fragment!==void 0&&(T.push("#"),T.push(v.fragment)),T.join("")}function tt(v,h){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments[3],$={};return T||(v=st(ce(v,E),E),h=st(ce(h,E),E)),E=E||{},!E.tolerant&&h.scheme?($.scheme=h.scheme,$.userinfo=h.userinfo,$.host=h.host,$.port=h.port,$.path=et(h.path||""),$.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?($.userinfo=h.userinfo,$.host=h.host,$.port=h.port,$.path=et(h.path||""),$.query=h.query):(h.path?(h.path.charAt(0)==="/"?$.path=et(h.path):((v.userinfo!==void 0||v.host!==void 0||v.port!==void 0)&&!v.path?$.path="/"+h.path:v.path?$.path=v.path.slice(0,v.path.lastIndexOf("/")+1)+h.path:$.path=h.path,$.path=et($.path)),$.query=h.query):($.path=v.path,h.query!==void 0?$.query=h.query:$.query=v.query),$.userinfo=v.userinfo,$.host=v.host,$.port=v.port),$.scheme=v.scheme),$.fragment=h.fragment,$}function Pr(v,h,E){var T=s({scheme:"null"},E);return ce(tt(st(v,T),st(h,T),T,!0),T)}function Ee(v,h){return typeof v=="string"?v=ce(st(v,h),h):n(v)==="object"&&(v=st(ce(v,h),h)),v}function Jo(v,h,E){return typeof v=="string"?v=ce(st(v,E),E):n(v)==="object"&&(v=ce(v,E)),typeof h=="string"?h=ce(st(h,E),E):n(h)==="object"&&(h=ce(h,E)),v===h}function r1(v,h){return v&&v.toString().replace(!h||!h.iri?c.ESCAPE:u.ESCAPE,St)}function Nr(v,h){return v&&v.toString().replace(!h||!h.iri?c.PCT_ENCODED:u.PCT_ENCODED,xr)}var Xo={scheme:"http",domainHost:!0,parse:function(h,E){return h.host||(h.error=h.error||"HTTP URIs must have a host."),h},serialize:function(h,E){var T=String(h.scheme).toLowerCase()==="https";return(h.port===(T?443:80)||h.port==="")&&(h.port=void 0),h.path||(h.path="/"),h}},Lg={scheme:"https",domainHost:Xo.domainHost,parse:Xo.parse,serialize:Xo.serialize};function jg(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}var Zo={scheme:"ws",domainHost:!0,parse:function(h,E){var T=h;return T.secure=jg(T),T.resourceName=(T.path||"/")+(T.query?"?"+T.query:""),T.path=void 0,T.query=void 0,T},serialize:function(h,E){if((h.port===(jg(h)?443:80)||h.port==="")&&(h.port=void 0),typeof h.secure=="boolean"&&(h.scheme=h.secure?"wss":"ws",h.secure=void 0),h.resourceName){var T=h.resourceName.split("?"),$=l(T,2),M=$[0],W=$[1];h.path=M&&M!=="/"?M:void 0,h.query=W,h.resourceName=void 0}return h.fragment=void 0,h}},Fg={scheme:"wss",domainHost:Zo.domainHost,parse:Zo.parse,serialize:Zo.serialize},n1={},i1=!0,qg="[A-Za-z0-9\\-\\.\\_\\~"+(i1?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",mr="[0-9A-Fa-f]",o1=r(r("%[EFef]"+mr+"%"+mr+mr+"%"+mr+mr)+"|"+r("%[89A-Fa-f]"+mr+"%"+mr+mr)+"|"+r("%"+mr+mr)),s1="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",a1="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",c1=e(a1,'[\\"\\\\]'),u1="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",l1=new RegExp(qg,"g"),gi=new RegExp(o1,"g"),d1=new RegExp(e("[^]",s1,"[\\.]",'[\\"]',c1),"g"),Bg=new RegExp(e("[^]",qg,u1),"g"),f1=Bg;function Hl(v){var h=xr(v);return h.match(l1)?h:v}var Ug={scheme:"mailto",parse:function(h,E){var T=h,$=T.to=T.path?T.path.split(","):[];if(T.path=void 0,T.query){for(var M=!1,W={},fe=T.query.split("&"),he=0,ze=fe.length;he<ze;++he){var ue=fe[he].split("=");switch(ue[0]){case"to":for(var Le=ue[1].split(","),We=0,Me=Le.length;We<Me;++We)$.push(Le[We]);break;case"subject":T.subject=Nr(ue[1],E);break;case"body":T.body=Nr(ue[1],E);break;default:M=!0,W[Nr(ue[0],E)]=Nr(ue[1],E);break}}M&&(T.headers=W)}T.query=void 0;for(var me=0,je=$.length;me<je;++me){var _e=$[me].split("@");if(_e[0]=Nr(_e[0]),E.unicodeSupport)_e[1]=Nr(_e[1],E).toLowerCase();else try{_e[1]=At.toASCII(Nr(_e[1],E).toLowerCase())}catch(kn){T.error=T.error||"Email address's domain name can not be converted to ASCII via punycode: "+kn}$[me]=_e.join("@")}return T},serialize:function(h,E){var T=h,$=o(h.to);if($){for(var M=0,W=$.length;M<W;++M){var fe=String($[M]),he=fe.lastIndexOf("@"),ze=fe.slice(0,he).replace(gi,Hl).replace(gi,i).replace(d1,St),ue=fe.slice(he+1);try{ue=E.iri?At.toUnicode(ue):At.toASCII(Nr(ue,E).toLowerCase())}catch(me){T.error=T.error||"Email address's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+me}$[M]=ze+"@"+ue}T.path=$.join(",")}var Le=h.headers=h.headers||{};h.subject&&(Le.subject=h.subject),h.body&&(Le.body=h.body);var We=[];for(var Me in Le)Le[Me]!==n1[Me]&&We.push(Me.replace(gi,Hl).replace(gi,i).replace(Bg,St)+"="+Le[Me].replace(gi,Hl).replace(gi,i).replace(f1,St));return We.length&&(T.query=We.join("&")),T}},p1=/^([^\:]+)\:(.*)/,Hg={scheme:"urn",parse:function(h,E){var T=h.path&&h.path.match(p1),$=h;if(T){var M=E.scheme||$.scheme||"urn",W=T[1].toLowerCase(),fe=T[2],he=M+":"+(E.nid||W),ze=ot[he];$.nid=W,$.nss=fe,$.path=void 0,ze&&($=ze.parse($,E))}else $.error=$.error||"URN can not be parsed.";return $},serialize:function(h,E){var T=E.scheme||h.scheme||"urn",$=h.nid,M=T+":"+(E.nid||$),W=ot[M];W&&(h=W.serialize(h,E));var fe=h,he=h.nss;return fe.path=($||E.nid)+":"+he,fe}},m1=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Gg={scheme:"urn:uuid",parse:function(h,E){var T=h;return T.uuid=T.nss,T.nss=void 0,!E.tolerant&&(!T.uuid||!T.uuid.match(m1))&&(T.error=T.error||"UUID is not valid."),T},serialize:function(h,E){var T=h;return T.nss=(h.uuid||"").toLowerCase(),T}};ot[Xo.scheme]=Xo,ot[Lg.scheme]=Lg,ot[Zo.scheme]=Zo,ot[Fg.scheme]=Fg,ot[Ug.scheme]=Ug,ot[Hg.scheme]=Hg,ot[Gg.scheme]=Gg,t.SCHEMES=ot,t.pctEncChar=St,t.pctDecChars=xr,t.parse=st,t.removeDotSegments=et,t.serialize=ce,t.resolveComponents=tt,t.resolve=Pr,t.normalize=Ee,t.equal=Jo,t.escapeComponent=r1,t.unescapeComponent=Nr,Object.defineProperty(t,"__esModule",{value:!0})})});var $_=I(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});var I_=T_();I_.code='require("ajv/dist/runtime/uri").default';Ld.default=I_});var dn=I(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.CodeGen=ct.Name=ct.nil=ct.stringify=ct.str=ct._=ct.KeywordCxt=void 0;var bR=jn();Object.defineProperty(ct,"KeywordCxt",{enumerable:!0,get:function(){return bR.KeywordCxt}});var Mi=B();Object.defineProperty(ct,"_",{enumerable:!0,get:function(){return Mi._}});Object.defineProperty(ct,"str",{enumerable:!0,get:function(){return Mi.str}});Object.defineProperty(ct,"stringify",{enumerable:!0,get:function(){return Mi.stringify}});Object.defineProperty(ct,"nil",{enumerable:!0,get:function(){return Mi.nil}});Object.defineProperty(ct,"Name",{enumerable:!0,get:function(){return Mi.Name}});Object.defineProperty(ct,"CodeGen",{enumerable:!0,get:function(){return Mi.CodeGen}});var SR=Ai(),x_=Pi(),ER=yd(),Es=Ss(),wR=B(),ws=_s(),Tc=ys(),Fd=te(),R_=E_(),TR=$_(),A_=(t,e)=>new RegExp(t,e);A_.code="new RegExp";var IR=["removeAdditional","useDefaults","coerceTypes"],$R=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),RR={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},OR={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},O_=200;function kR(t){var e,r,n,i,o,s,a,c,u,l,d,f,p,m,_,b,y,w,R,O,k,P,N,G,oe;let x=t.strict,q=(e=t.code)===null||e===void 0?void 0:e.optimize,ee=q===!0||q===void 0?1:q||0,Ce=(n=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&n!==void 0?n:A_,$e=(i=t.uriResolver)!==null&&i!==void 0?i:TR.default;return{strictSchema:(s=(o=t.strictSchema)!==null&&o!==void 0?o:x)!==null&&s!==void 0?s:!0,strictNumbers:(c=(a=t.strictNumbers)!==null&&a!==void 0?a:x)!==null&&c!==void 0?c:!0,strictTypes:(l=(u=t.strictTypes)!==null&&u!==void 0?u:x)!==null&&l!==void 0?l:"log",strictTuples:(f=(d=t.strictTuples)!==null&&d!==void 0?d:x)!==null&&f!==void 0?f:"log",strictRequired:(m=(p=t.strictRequired)!==null&&p!==void 0?p:x)!==null&&m!==void 0?m:!1,code:t.code?C(g({},t.code),{optimize:ee,regExp:Ce}):{optimize:ee,regExp:Ce},loopRequired:(_=t.loopRequired)!==null&&_!==void 0?_:O_,loopEnum:(b=t.loopEnum)!==null&&b!==void 0?b:O_,meta:(y=t.meta)!==null&&y!==void 0?y:!0,messages:(w=t.messages)!==null&&w!==void 0?w:!0,inlineRefs:(R=t.inlineRefs)!==null&&R!==void 0?R:!0,schemaId:(O=t.schemaId)!==null&&O!==void 0?O:"$id",addUsedSchema:(k=t.addUsedSchema)!==null&&k!==void 0?k:!0,validateSchema:(P=t.validateSchema)!==null&&P!==void 0?P:!0,validateFormats:(N=t.validateFormats)!==null&&N!==void 0?N:!0,unicodeRegExp:(G=t.unicodeRegExp)!==null&&G!==void 0?G:!0,int32range:(oe=t.int32range)!==null&&oe!==void 0?oe:!0,uriResolver:$e}}var Ts=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=g(g({},e),kR(e));let{es5:r,lines:n}=this.opts.code;this.scope=new wR.ValueScope({scope:{},prefixes:$R,es5:r,lines:n}),this.logger=MR(e.logger);let i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,ER.getRules)(),k_.call(this,RR,e,"NOT SUPPORTED"),k_.call(this,OR,e,"DEPRECATED","warn"),this._metaOpts=PR.call(this),e.formats&&xR.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&AR.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),CR.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,i=R_;n==="id"&&(i=g({},R_),i.id=i.$id,delete i.$id),r&&e&&this.addMetaSchema(i,i[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let i=n(r);return"$async"in n||(this.errors=n.errors),i}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return i.call(this,e,r);function i(l,d){return F(this,null,function*(){yield o.call(this,l.$schema);let f=this._addSchema(l,d);return f.validate||s.call(this,f)})}function o(l){return F(this,null,function*(){l&&!this.getSchema(l)&&(yield i.call(this,{$ref:l},!0))})}function s(l){return F(this,null,function*(){try{return this._compileSchemaEnv(l)}catch(d){if(!(d instanceof x_.default))throw d;return a.call(this,d),yield c.call(this,d.missingSchema),s.call(this,l)}})}function a({missingSchema:l,missingRef:d}){if(this.refs[l])throw new Error(`AnySchema ${l} is loaded but ${d} cannot be resolved`)}function c(l){return F(this,null,function*(){let d=yield u.call(this,l);this.refs[l]||(yield o.call(this,d.$schema)),this.refs[l]||this.addSchema(d,l,r)})}function u(l){return F(this,null,function*(){let d=this._loading[l];if(d)return d;try{return yield this._loading[l]=n(l)}finally{delete this._loading[l]}})}}addSchema(e,r,n,i=this.opts.validateSchema){if(Array.isArray(e)){for(let s of e)this.addSchema(s,void 0,n,i);return this}let o;if(typeof e=="object"){let{schemaId:s}=this.opts;if(o=e[s],o!==void 0&&typeof o!="string")throw new Error(`schema ${s} must be string`)}return r=(0,ws.normalizeId)(r||o),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,i,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let i=this.validate(n,e);if(!i&&r){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return i}getSchema(e){let r;for(;typeof(r=C_.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,i=new Es.SchemaEnv({schema:{},schemaId:n});if(r=Es.resolveSchema.call(this,i,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=C_.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=(0,ws.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(LR.call(this,n,r),!r)return(0,Fd.eachItem)(n,o=>jd.call(this,o)),this;FR.call(this,r);let i=C(g({},r),{type:(0,Tc.getJSONTypes)(r.type),schemaType:(0,Tc.getJSONTypes)(r.schemaType)});return(0,Fd.eachItem)(n,i.type.length===0?o=>jd.call(this,o,i):o=>i.type.forEach(s=>jd.call(this,o,i,s))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let i=n.rules.findIndex(o=>o.keyword===e);i>=0&&n.rules.splice(i,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(i=>`${n}${i.instancePath} ${i.message}`).reduce((i,o)=>i+r+o)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let i of r){let o=i.split("/").slice(1),s=e;for(let a of o)s=s[a];for(let a in n){let c=n[a];if(typeof c!="object")continue;let{$data:u}=c.definition,l=s[a];u&&l&&(s[a]=P_(l))}}return e}_removeAllSchemas(e,r){for(let n in e){let i=e[n];(!r||r.test(n))&&(typeof i=="string"?delete e[n]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[n]))}}_addSchema(e,r,n,i=this.opts.validateSchema,o=this.opts.addUsedSchema){let s,{schemaId:a}=this.opts;if(typeof e=="object")s=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(e);if(c!==void 0)return c;n=(0,ws.normalizeId)(s||n);let u=ws.getSchemaRefs.call(this,e,n);return c=new Es.SchemaEnv({schema:e,schemaId:a,meta:r,baseId:n,localRefs:u}),this._cache.set(c.schema,c),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=c),i&&this.validateSchema(e,!0),c}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Es.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Es.compileSchema.call(this,e)}finally{this.opts=r}}};ct.default=Ts;Ts.ValidationError=SR.default;Ts.MissingRefError=x_.default;function k_(t,e,r,n="error"){for(let i in t){let o=i;o in e&&this.logger[n](`${r}: option ${i}. ${t[o]}`)}}function C_(t){return t=(0,ws.normalizeId)(t),this.schemas[t]||this.refs[t]}function CR(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function xR(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function AR(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function PR(){let t=g({},this.opts);for(let e of IR)delete t[e];return t}var NR={log(){},warn(){},error(){}};function MR(t){if(t===!1)return NR;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var DR=/^[a-z_$][a-z0-9_$:-]*$/i;function LR(t,e){let{RULES:r}=this;if((0,Fd.eachItem)(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!DR.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function jd(t,e,r){var n;let i=e==null?void 0:e.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,s=i?o.post:o.rules.find(({type:c})=>c===r);if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[t]=!0,!e)return;let a={keyword:t,definition:C(g({},e),{type:(0,Tc.getJSONTypes)(e.type),schemaType:(0,Tc.getJSONTypes)(e.schemaType)})};e.before?jR.call(this,s,a,e.before):s.rules.push(a),o.all[t]=a,(n=e.implements)===null||n===void 0||n.forEach(c=>this.addKeyword(c))}function jR(t,e,r){let n=t.rules.findIndex(i=>i.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function FR(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=P_(e)),t.validateSchema=this.compile(e,!0))}var qR={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function P_(t){return{anyOf:[t,qR]}}});var N_=I(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});var BR={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};qd.default=BR});var Is=I(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.callRef=qn.getValidate=void 0;var UR=Pi(),M_=zt(),Tt=B(),Di=Vt(),D_=Ss(),Ic=te(),HR={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:c}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return d();let l=D_.resolveRef.call(c,u,i,r);if(l===void 0)throw new UR.default(n.opts.uriResolver,i,r);if(l instanceof D_.SchemaEnv)return f(l);return p(l);function d(){if(o===u)return $c(t,s,o,o.$async);let m=e.scopeValue("root",{ref:u});return $c(t,(0,Tt._)`${m}.validate`,u,u.$async)}function f(m){let _=L_(t,m);$c(t,_,m,m.$async)}function p(m){let _=e.scopeValue("schema",a.code.source===!0?{ref:m,code:(0,Tt.stringify)(m)}:{ref:m}),b=e.name("valid"),y=t.subschema({schema:m,dataTypes:[],schemaPath:Tt.nil,topSchemaRef:_,errSchemaPath:r},b);t.mergeEvaluated(y),t.ok(b)}}};function L_(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Tt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}qn.getValidate=L_;function $c(t,e,r,n){let{gen:i,it:o}=t,{allErrors:s,schemaEnv:a,opts:c}=o,u=c.passContext?Di.default.this:Tt.nil;n?l():d();function l(){if(!a.$async)throw new Error("async schema referenced by sync schema");let m=i.let("valid");i.try(()=>{i.code((0,Tt._)`await ${(0,M_.callValidateCode)(t,e,u)}`),p(e),s||i.assign(m,!0)},_=>{i.if((0,Tt._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),f(_),s||i.assign(m,!1)}),t.ok(m)}function d(){t.result((0,M_.callValidateCode)(t,e,u),()=>p(e),()=>f(e))}function f(m){let _=(0,Tt._)`${m}.errors`;i.assign(Di.default.vErrors,(0,Tt._)`${Di.default.vErrors} === null ? ${_} : ${Di.default.vErrors}.concat(${_})`),i.assign(Di.default.errors,(0,Tt._)`${Di.default.vErrors}.length`)}function p(m){var _;if(!o.opts.unevaluated)return;let b=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(b&&!b.dynamicProps)b.props!==void 0&&(o.props=Ic.mergeEvaluated.props(i,b.props,o.props));else{let y=i.var("props",(0,Tt._)`${m}.evaluated.props`);o.props=Ic.mergeEvaluated.props(i,y,o.props,Tt.Name)}if(o.items!==!0)if(b&&!b.dynamicItems)b.items!==void 0&&(o.items=Ic.mergeEvaluated.items(i,b.items,o.items));else{let y=i.var("items",(0,Tt._)`${m}.evaluated.items`);o.items=Ic.mergeEvaluated.items(i,y,o.items,Tt.Name)}}}qn.callRef=$c;qn.default=HR});var Ud=I(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});var GR=N_(),VR=Is(),zR=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",GR.default,VR.default];Bd.default=zR});var j_=I(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});var Rc=B(),fn=Rc.operators,Oc={maximum:{okStr:"<=",ok:fn.LTE,fail:fn.GT},minimum:{okStr:">=",ok:fn.GTE,fail:fn.LT},exclusiveMaximum:{okStr:"<",ok:fn.LT,fail:fn.GTE},exclusiveMinimum:{okStr:">",ok:fn.GT,fail:fn.LTE}},WR={message:({keyword:t,schemaCode:e})=>(0,Rc.str)`must be ${Oc[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Rc._)`{comparison: ${Oc[t].okStr}, limit: ${e}}`},KR={keyword:Object.keys(Oc),type:"number",schemaType:"number",$data:!0,error:WR,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Rc._)`${r} ${Oc[e].fail} ${n} || isNaN(${r})`)}};Hd.default=KR});var Vd=I(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});var $s=B(),YR={message:({schemaCode:t})=>(0,$s.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,$s._)`{multipleOf: ${t}}`},JR={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:YR,code(t){let{gen:e,data:r,schemaCode:n,it:i}=t,o=i.opts.multipleOfPrecision,s=e.let("res"),a=o?(0,$s._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,$s._)`${s} !== parseInt(${s})`;t.fail$data((0,$s._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};Gd.default=JR});var q_=I(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});function F_(t){let e=t.length,r=0,n=0,i;for(;n<e;)r++,i=t.charCodeAt(n++),i>=55296&&i<=56319&&n<e&&(i=t.charCodeAt(n),(i&64512)===56320&&n++);return r}zd.default=F_;F_.code='require("ajv/dist/runtime/ucs2length").default'});var Kd=I(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});var Bn=B(),XR=te(),ZR=q_(),QR={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Bn.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Bn._)`{limit: ${t}}`},eO={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:QR,code(t){let{keyword:e,data:r,schemaCode:n,it:i}=t,o=e==="maxLength"?Bn.operators.GT:Bn.operators.LT,s=i.opts.unicode===!1?(0,Bn._)`${r}.length`:(0,Bn._)`${(0,XR.useFunc)(t.gen,ZR.default)}(${r})`;t.fail$data((0,Bn._)`${s} ${o} ${n}`)}};Wd.default=eO});var Jd=I(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});var tO=zt(),kc=B(),rO={message:({schemaCode:t})=>(0,kc.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,kc._)`{pattern: ${t}}`},nO={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:rO,code(t){let{data:e,$data:r,schema:n,schemaCode:i,it:o}=t,s=o.opts.unicodeRegExp?"u":"",a=r?(0,kc._)`(new RegExp(${i}, ${s}))`:(0,tO.usePattern)(t,n);t.fail$data((0,kc._)`!${a}.test(${e})`)}};Yd.default=nO});var Zd=I(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});var Rs=B(),iO={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Rs.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Rs._)`{limit: ${t}}`},oO={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:iO,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxProperties"?Rs.operators.GT:Rs.operators.LT;t.fail$data((0,Rs._)`Object.keys(${r}).length ${i} ${n}`)}};Xd.default=oO});var ef=I(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});var Os=zt(),ks=B(),sO=te(),aO={message:({params:{missingProperty:t}})=>(0,ks.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,ks._)`{missingProperty: ${t}}`},cO={keyword:"required",type:"object",schemaType:"array",$data:!0,error:aO,code(t){let{gen:e,schema:r,schemaCode:n,data:i,$data:o,it:s}=t,{opts:a}=s;if(!o&&r.length===0)return;let c=r.length>=a.loopRequired;if(s.allErrors?u():l(),a.strictRequired){let p=t.parentSchema.properties,{definedProperties:m}=t.it;for(let _ of r)if((p==null?void 0:p[_])===void 0&&!m.has(_)){let b=s.schemaEnv.baseId+s.errSchemaPath,y=`required property "${_}" is not defined at "${b}" (strictRequired)`;(0,sO.checkStrictMode)(s,y,s.opts.strictRequired)}}function u(){if(c||o)t.block$data(ks.nil,d);else for(let p of r)(0,Os.checkReportMissingProp)(t,p)}function l(){let p=e.let("missing");if(c||o){let m=e.let("valid",!0);t.block$data(m,()=>f(p,m)),t.ok(m)}else e.if((0,Os.checkMissingProp)(t,r,p)),(0,Os.reportMissingProp)(t,p),e.else()}function d(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Os.noPropertyInData)(e,i,p,a.ownProperties),()=>t.error())})}function f(p,m){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(m,(0,Os.propertyInData)(e,i,p,a.ownProperties)),e.if((0,ks.not)(m),()=>{t.error(),e.break()})},ks.nil)}}};Qd.default=cO});var rf=I(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});var Cs=B(),uO={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Cs.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Cs._)`{limit: ${t}}`},lO={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:uO,code(t){let{keyword:e,data:r,schemaCode:n}=t,i=e==="maxItems"?Cs.operators.GT:Cs.operators.LT;t.fail$data((0,Cs._)`${r}.length ${i} ${n}`)}};tf.default=lO});var Cc=I(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});var B_=Id();B_.code='require("ajv/dist/runtime/equal").default';nf.default=B_});var af=I(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});var of=ys(),ut=B(),dO=te(),fO=Cc(),pO={message:({params:{i:t,j:e}})=>(0,ut.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ut._)`{i: ${t}, j: ${e}}`},mO={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:pO,code(t){let{gen:e,data:r,$data:n,schema:i,parentSchema:o,schemaCode:s,it:a}=t;if(!n&&!i)return;let c=e.let("valid"),u=o.items?(0,of.getSchemaTypes)(o.items):[];t.block$data(c,l,(0,ut._)`${s} === false`),t.ok(c);function l(){let m=e.let("i",(0,ut._)`${r}.length`),_=e.let("j");t.setParams({i:m,j:_}),e.assign(c,!0),e.if((0,ut._)`${m} > 1`,()=>(d()?f:p)(m,_))}function d(){return u.length>0&&!u.some(m=>m==="object"||m==="array")}function f(m,_){let b=e.name("item"),y=(0,of.checkDataTypes)(u,b,a.opts.strictNumbers,of.DataType.Wrong),w=e.const("indices",(0,ut._)`{}`);e.for((0,ut._)`;${m}--;`,()=>{e.let(b,(0,ut._)`${r}[${m}]`),e.if(y,(0,ut._)`continue`),u.length>1&&e.if((0,ut._)`typeof ${b} == "string"`,(0,ut._)`${b} += "_"`),e.if((0,ut._)`typeof ${w}[${b}] == "number"`,()=>{e.assign(_,(0,ut._)`${w}[${b}]`),t.error(),e.assign(c,!1).break()}).code((0,ut._)`${w}[${b}] = ${m}`)})}function p(m,_){let b=(0,dO.useFunc)(e,fO.default),y=e.name("outer");e.label(y).for((0,ut._)`;${m}--;`,()=>e.for((0,ut._)`${_} = ${m}; ${_}--;`,()=>e.if((0,ut._)`${b}(${r}[${m}], ${r}[${_}])`,()=>{t.error(),e.assign(c,!1).break(y)})))}}};sf.default=mO});var lf=I(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});var cf=B(),hO=te(),gO=Cc(),yO={message:"must be equal to constant",params:({schemaCode:t})=>(0,cf._)`{allowedValue: ${t}}`},_O={keyword:"const",$data:!0,error:yO,code(t){let{gen:e,data:r,$data:n,schemaCode:i,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,cf._)`!${(0,hO.useFunc)(e,gO.default)}(${r}, ${i})`):t.fail((0,cf._)`${o} !== ${r}`)}};uf.default=_O});var ff=I(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});var xs=B(),vO=te(),bO=Cc(),SO={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,xs._)`{allowedValues: ${t}}`},EO={keyword:"enum",schemaType:"array",$data:!0,error:SO,code(t){let{gen:e,data:r,$data:n,schema:i,schemaCode:o,it:s}=t;if(!n&&i.length===0)throw new Error("enum must have non-empty array");let a=i.length>=s.opts.loopEnum,c,u=()=>c!=null?c:c=(0,vO.useFunc)(e,bO.default),l;if(a||n)l=e.let("valid"),t.block$data(l,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");let p=e.const("vSchema",o);l=(0,xs.or)(...i.map((m,_)=>f(p,_)))}t.pass(l);function d(){e.assign(l,!1),e.forOf("v",o,p=>e.if((0,xs._)`${u()}(${r}, ${p})`,()=>e.assign(l,!0).break()))}function f(p,m){let _=i[m];return typeof _=="object"&&_!==null?(0,xs._)`${u()}(${r}, ${p}[${m}])`:(0,xs._)`${r} === ${_}`}}};df.default=EO});var mf=I(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});var wO=j_(),TO=Vd(),IO=Kd(),$O=Jd(),RO=Zd(),OO=ef(),kO=rf(),CO=af(),xO=lf(),AO=ff(),PO=[wO.default,TO.default,IO.default,$O.default,RO.default,OO.default,kO.default,CO.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},xO.default,AO.default];pf.default=PO});var gf=I(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.validateAdditionalItems=void 0;var Un=B(),hf=te(),NO={message:({params:{len:t}})=>(0,Un.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Un._)`{limit: ${t}}`},MO={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:NO,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,hf.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}U_(t,n)}};function U_(t,e){let{gen:r,schema:n,data:i,keyword:o,it:s}=t;s.items=!0;let a=r.const("len",(0,Un._)`${i}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Un._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,hf.alwaysValidSchema)(s,n)){let u=r.var("valid",(0,Un._)`${a} <= ${e.length}`);r.if((0,Un.not)(u),()=>c(u)),t.ok(u)}function c(u){r.forRange("i",e.length,a,l=>{t.subschema({keyword:o,dataProp:l,dataPropType:hf.Type.Num},u),s.allErrors||r.if((0,Un.not)(u),()=>r.break())})}}As.validateAdditionalItems=U_;As.default=MO});var yf=I(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.validateTuple=void 0;var H_=B(),xc=te(),DO=zt(),LO={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return G_(t,"additionalItems",e);r.items=!0,!(0,xc.alwaysValidSchema)(r,e)&&t.ok((0,DO.validateArray)(t))}};function G_(t,e,r=t.schema){let{gen:n,parentSchema:i,data:o,keyword:s,it:a}=t;l(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=xc.mergeEvaluated.items(n,r.length,a.items));let c=n.name("valid"),u=n.const("len",(0,H_._)`${o}.length`);r.forEach((d,f)=>{(0,xc.alwaysValidSchema)(a,d)||(n.if((0,H_._)`${u} > ${f}`,()=>t.subschema({keyword:s,schemaProp:f,dataProp:f},c)),t.ok(c))});function l(d){let{opts:f,errSchemaPath:p}=a,m=r.length,_=m===d.minItems&&(m===d.maxItems||d[e]===!1);if(f.strictTuples&&!_){let b=`"${s}" is ${m}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,xc.checkStrictMode)(a,b,f.strictTuples)}}}Ps.validateTuple=G_;Ps.default=LO});var V_=I(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var jO=yf(),FO={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,jO.validateTuple)(t,"items")};_f.default=FO});var W_=I(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});var z_=B(),qO=te(),BO=zt(),UO=gf(),HO={message:({params:{len:t}})=>(0,z_.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,z_._)`{limit: ${t}}`},GO={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:HO,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:i}=r;n.items=!0,!(0,qO.alwaysValidSchema)(n,e)&&(i?(0,UO.validateAdditionalItems)(t,i):t.ok((0,BO.validateArray)(t)))}};vf.default=GO});var K_=I(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});var Kt=B(),Ac=te(),VO={message:({params:{min:t,max:e}})=>e===void 0?(0,Kt.str)`must contain at least ${t} valid item(s)`:(0,Kt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Kt._)`{minContains: ${t}}`:(0,Kt._)`{minContains: ${t}, maxContains: ${e}}`},zO={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:VO,code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:o}=t,s,a,{minContains:c,maxContains:u}=n;o.opts.next?(s=c===void 0?1:c,a=u):s=1;let l=e.const("len",(0,Kt._)`${i}.length`);if(t.setParams({min:s,max:a}),a===void 0&&s===0){(0,Ac.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Ac.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Ac.alwaysValidSchema)(o,r)){let _=(0,Kt._)`${l} >= ${s}`;a!==void 0&&(_=(0,Kt._)`${_} && ${l} <= ${a}`),t.pass(_);return}o.items=!0;let d=e.name("valid");a===void 0&&s===1?p(d,()=>e.if(d,()=>e.break())):s===0?(e.let(d,!0),a!==void 0&&e.if((0,Kt._)`${i}.length > 0`,f)):(e.let(d,!1),f()),t.result(d,()=>t.reset());function f(){let _=e.name("_valid"),b=e.let("count",0);p(_,()=>e.if(_,()=>m(b)))}function p(_,b){e.forRange("i",0,l,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:Ac.Type.Num,compositeRule:!0},_),b()})}function m(_){e.code((0,Kt._)`${_}++`),a===void 0?e.if((0,Kt._)`${_} >= ${s}`,()=>e.assign(d,!0).break()):(e.if((0,Kt._)`${_} > ${a}`,()=>e.assign(d,!1).break()),s===1?e.assign(d,!0):e.if((0,Kt._)`${_} >= ${s}`,()=>e.assign(d,!0)))}}};bf.default=zO});var Pc=I(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.validateSchemaDeps=_r.validatePropertyDeps=_r.error=void 0;var Sf=B(),WO=te(),Ns=zt();_r.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return(0,Sf.str)`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>(0,Sf._)`{property: ${t},
    missingProperty: ${n},
    depsCount: ${e},
    deps: ${r}}`};var KO={keyword:"dependencies",type:"object",schemaType:"object",error:_r.error,code(t){let[e,r]=YO(t);Y_(t,e),J_(t,r)}};function YO({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let i=Array.isArray(t[n])?e:r;i[n]=t[n]}return[e,r]}function Y_(t,e=t.schema){let{gen:r,data:n,it:i}=t;if(Object.keys(e).length===0)return;let o=r.let("missing");for(let s in e){let a=e[s];if(a.length===0)continue;let c=(0,Ns.propertyInData)(r,n,s,i.opts.ownProperties);t.setParams({property:s,depsCount:a.length,deps:a.join(", ")}),i.allErrors?r.if(c,()=>{for(let u of a)(0,Ns.checkReportMissingProp)(t,u)}):(r.if((0,Sf._)`${c} && (${(0,Ns.checkMissingProp)(t,a,o)})`),(0,Ns.reportMissingProp)(t,o),r.else())}}_r.validatePropertyDeps=Y_;function J_(t,e=t.schema){let{gen:r,data:n,keyword:i,it:o}=t,s=r.name("valid");for(let a in e)(0,WO.alwaysValidSchema)(o,e[a])||(r.if((0,Ns.propertyInData)(r,n,a,o.opts.ownProperties),()=>{let c=t.subschema({keyword:i,schemaProp:a},s);t.mergeValidEvaluated(c,s)},()=>r.var(s,!0)),t.ok(s))}_r.validateSchemaDeps=J_;_r.default=KO});var Z_=I(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});var X_=B(),JO=te(),XO={message:"property name must be valid",params:({params:t})=>(0,X_._)`{propertyName: ${t.propertyName}}`},ZO={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:XO,code(t){let{gen:e,schema:r,data:n,it:i}=t;if((0,JO.alwaysValidSchema)(i,r))return;let o=e.name("valid");e.forIn("key",n,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),e.if((0,X_.not)(o),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(o)}};Ef.default=ZO});var Tf=I(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});var Nc=zt(),or=B(),QO=Vt(),Mc=te(),ek={message:"must NOT have additional properties",params:({params:t})=>(0,or._)`{additionalProperty: ${t.additionalProperty}}`},tk={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ek,code(t){let{gen:e,schema:r,parentSchema:n,data:i,errsCount:o,it:s}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:a,opts:c}=s;if(s.props=!0,c.removeAdditional!=="all"&&(0,Mc.alwaysValidSchema)(s,r))return;let u=(0,Nc.allSchemaProperties)(n.properties),l=(0,Nc.allSchemaProperties)(n.patternProperties);d(),t.ok((0,or._)`${o} === ${QO.default.errors}`);function d(){e.forIn("key",i,b=>{!u.length&&!l.length?m(b):e.if(f(b),()=>m(b))})}function f(b){let y;if(u.length>8){let w=(0,Mc.schemaRefOrVal)(s,n.properties,"properties");y=(0,Nc.isOwnProperty)(e,w,b)}else u.length?y=(0,or.or)(...u.map(w=>(0,or._)`${b} === ${w}`)):y=or.nil;return l.length&&(y=(0,or.or)(y,...l.map(w=>(0,or._)`${(0,Nc.usePattern)(t,w)}.test(${b})`))),(0,or.not)(y)}function p(b){e.code((0,or._)`delete ${i}[${b}]`)}function m(b){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){p(b);return}if(r===!1){t.setParams({additionalProperty:b}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,Mc.alwaysValidSchema)(s,r)){let y=e.name("valid");c.removeAdditional==="failing"?(_(b,y,!1),e.if((0,or.not)(y),()=>{t.reset(),p(b)})):(_(b,y),a||e.if((0,or.not)(y),()=>e.break()))}}function _(b,y,w){let R={keyword:"additionalProperties",dataProp:b,dataPropType:Mc.Type.Str};w===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(R,y)}}};wf.default=tk});var tv=I($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var rk=jn(),Q_=zt(),If=te(),ev=Tf(),nk={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:i,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ev.default.code(new rk.KeywordCxt(o,ev.default,"additionalProperties"));let s=(0,Q_.allSchemaProperties)(r);for(let d of s)o.definedProperties.add(d);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=If.mergeEvaluated.props(e,(0,If.toHash)(s),o.props));let a=s.filter(d=>!(0,If.alwaysValidSchema)(o,r[d]));if(a.length===0)return;let c=e.name("valid");for(let d of a)u(d)?l(d):(e.if((0,Q_.propertyInData)(e,i,d,o.opts.ownProperties)),l(d),o.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(c);function u(d){return o.opts.useDefaults&&!o.compositeRule&&r[d].default!==void 0}function l(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};$f.default=nk});var ov=I(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var rv=zt(),Dc=B(),nv=te(),iv=te(),ik={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:i,it:o}=t,{opts:s}=o,a=(0,rv.allSchemaProperties)(r),c=a.filter(_=>(0,nv.alwaysValidSchema)(o,r[_]));if(a.length===0||c.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;let u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,l=e.name("valid");o.props!==!0&&!(o.props instanceof Dc.Name)&&(o.props=(0,iv.evaluatedPropsToName)(e,o.props));let{props:d}=o;f();function f(){for(let _ of a)u&&p(_),o.allErrors?m(_):(e.var(l,!0),m(_),e.if(l))}function p(_){for(let b in u)new RegExp(_).test(b)&&(0,nv.checkStrictMode)(o,`property ${b} matches pattern ${_} (use allowMatchingProperties)`)}function m(_){e.forIn("key",n,b=>{e.if((0,Dc._)`${(0,rv.usePattern)(t,_)}.test(${b})`,()=>{let y=c.includes(_);y||t.subschema({keyword:"patternProperties",schemaProp:_,dataProp:b,dataPropType:iv.Type.Str},l),o.opts.unevaluated&&d!==!0?e.assign((0,Dc._)`${d}[${b}]`,!0):!y&&!o.allErrors&&e.if((0,Dc.not)(l),()=>e.break())})})}}};Rf.default=ik});var sv=I(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var ok=te(),sk={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if((0,ok.alwaysValidSchema)(n,r)){t.fail();return}let i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Of.default=sk});var av=I(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var ak=zt(),ck={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ak.validateUnion,error:{message:"must match a schema in anyOf"}};kf.default=ck});var cv=I(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});var Lc=B(),uk=te(),lk={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Lc._)`{passingSchemas: ${t.passing}}`},dk={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:lk,code(t){let{gen:e,schema:r,parentSchema:n,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;let o=r,s=e.let("valid",!1),a=e.let("passing",null),c=e.name("_valid");t.setParams({passing:a}),e.block(u),t.result(s,()=>t.reset(),()=>t.error(!0));function u(){o.forEach((l,d)=>{let f;(0,uk.alwaysValidSchema)(i,l)?e.var(c,!0):f=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&e.if((0,Lc._)`${c} && ${s}`).assign(s,!1).assign(a,(0,Lc._)`[${a}, ${d}]`).else(),e.if(c,()=>{e.assign(s,!0),e.assign(a,d),f&&t.mergeEvaluated(f,Lc.Name)})})}}};Cf.default=dk});var uv=I(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});var fk=te(),pk={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let i=e.name("valid");r.forEach((o,s)=>{if((0,fk.alwaysValidSchema)(n,o))return;let a=t.subschema({keyword:"allOf",schemaProp:s},i);t.ok(i),t.mergeEvaluated(a)})}};xf.default=pk});var fv=I(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var jc=B(),dv=te(),mk={message:({params:t})=>(0,jc.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,jc._)`{failingKeyword: ${t.ifClause}}`},hk={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:mk,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,dv.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let i=lv(n,"then"),o=lv(n,"else");if(!i&&!o)return;let s=e.let("valid",!0),a=e.name("_valid");if(c(),t.reset(),i&&o){let l=e.let("ifClause");t.setParams({ifClause:l}),e.if(a,u("then",l),u("else",l))}else i?e.if(a,u("then")):e.if((0,jc.not)(a),u("else"));t.pass(s,()=>t.error(!0));function c(){let l=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(l)}function u(l,d){return()=>{let f=t.subschema({keyword:l},a);e.assign(s,a),t.mergeValidEvaluated(f,s),d?e.assign(d,(0,jc._)`${l}`):t.setParams({ifClause:l})}}}};function lv(t,e){let r=t.schema[e];return r!==void 0&&!(0,dv.alwaysValidSchema)(t,r)}Af.default=hk});var pv=I(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});var gk=te(),yk={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,gk.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Pf.default=yk});var Fc=I(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});var _k=gf(),vk=V_(),bk=yf(),Sk=W_(),Ek=K_(),wk=Pc(),Tk=Z_(),Ik=Tf(),$k=tv(),Rk=ov(),Ok=sv(),kk=av(),Ck=cv(),xk=uv(),Ak=fv(),Pk=pv();function Nk(t=!1){let e=[Ok.default,kk.default,Ck.default,xk.default,Ak.default,Pk.default,Tk.default,Ik.default,wk.default,$k.default,Rk.default];return t?e.push(vk.default,Sk.default):e.push(_k.default,bk.default),e.push(Ek.default),e}Nf.default=Nk});var mv=I(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});var He=B(),Mk={message:({schemaCode:t})=>(0,He.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,He._)`{format: ${t}}`},Dk={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Mk,code(t,e){let{gen:r,data:n,$data:i,schema:o,schemaCode:s,it:a}=t,{opts:c,errSchemaPath:u,schemaEnv:l,self:d}=a;if(!c.validateFormats)return;i?f():p();function f(){let m=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),_=r.const("fDef",(0,He._)`${m}[${s}]`),b=r.let("fType"),y=r.let("format");r.if((0,He._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(b,(0,He._)`${_}.type || "string"`).assign(y,(0,He._)`${_}.validate`),()=>r.assign(b,(0,He._)`"string"`).assign(y,_)),t.fail$data((0,He.or)(w(),R()));function w(){return c.strictSchema===!1?He.nil:(0,He._)`${s} && !${y}`}function R(){let O=l.$async?(0,He._)`(${_}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,He._)`${y}(${n})`,k=(0,He._)`(typeof ${y} == "function" ? ${O} : ${y}.test(${n}))`;return(0,He._)`${y} && ${y} !== true && ${b} === ${e} && !${k}`}}function p(){let m=d.formats[o];if(!m){w();return}if(m===!0)return;let[_,b,y]=R(m);_===e&&t.pass(O());function w(){if(c.strictSchema===!1){d.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function R(k){let P=k instanceof RegExp?(0,He.regexpCode)(k):c.code.formats?(0,He._)`${c.code.formats}${(0,He.getProperty)(o)}`:void 0,N=r.scopeValue("formats",{key:o,ref:k,code:P});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,He._)`${N}.validate`]:["string",k,N]}function O(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!l.$async)throw new Error("async format in sync schema");return(0,He._)`await ${y}(${n})`}return typeof b=="function"?(0,He._)`${y}(${n})`:(0,He._)`${y}.test(${n})`}}}};Mf.default=Dk});var qc=I(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});var Lk=mv(),jk=[Lk.default];Df.default=jk});var Lf=I(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.contentVocabulary=Li.metadataVocabulary=void 0;Li.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Li.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Ff=I(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});var Fk=Ud(),qk=mf(),Bk=Fc(),Uk=qc(),hv=Lf(),Hk=[Fk.default,qk.default,(0,Bk.default)(),Uk.default,hv.metadataVocabulary,hv.contentVocabulary];jf.default=Hk});var gv=I(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.DiscrError=void 0;var Gk;(function(t){t.Tag="tag",t.Mapping="mapping"})(Gk=Ms.DiscrError||(Ms.DiscrError={}))});var Ds=I(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});var ji=B(),qf=gv(),yv=Ss(),Vk=te(),zk={message:({params:{discrError:t,tagName:e}})=>t===qf.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,ji._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Wk={keyword:"discriminator",type:"object",schemaType:"object",error:zk,code(t){let{gen:e,data:r,schema:n,parentSchema:i,it:o}=t,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");let c=e.let("valid",!1),u=e.const("tag",(0,ji._)`${r}${(0,ji.getProperty)(a)}`);e.if((0,ji._)`typeof ${u} == "string"`,()=>l(),()=>t.error(!1,{discrError:qf.DiscrError.Tag,tag:u,tagName:a})),t.ok(c);function l(){let p=f();e.if(!1);for(let m in p)e.elseIf((0,ji._)`${u} === ${m}`),e.assign(c,d(p[m]));e.else(),t.error(!1,{discrError:qf.DiscrError.Mapping,tag:u,tagName:a}),e.endIf()}function d(p){let m=e.name("valid"),_=t.subschema({keyword:"oneOf",schemaProp:p},m);return t.mergeEvaluated(_,ji.Name),m}function f(){var p;let m={},_=y(i),b=!0;for(let O=0;O<s.length;O++){let k=s[O];k!=null&&k.$ref&&!(0,Vk.schemaHasRulesButRef)(k,o.self.RULES)&&(k=yv.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,k==null?void 0:k.$ref),k instanceof yv.SchemaEnv&&(k=k.schema));let P=(p=k==null?void 0:k.properties)===null||p===void 0?void 0:p[a];if(typeof P!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);b=b&&(_||y(k)),w(P,O)}if(!b)throw new Error(`discriminator: "${a}" must be required`);return m;function y({required:O}){return Array.isArray(O)&&O.includes(a)}function w(O,k){if(O.const)R(O.const,k);else if(O.enum)for(let P of O.enum)R(P,k);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function R(O,k){if(typeof O!="string"||O in m)throw new Error(`discriminator: "${a}" values must be unique strings`);m[O]=k}}}};Bf.default=Wk});var _v=I((z3,Kk)=>{Kk.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Uf=I((Fe,bv)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.MissingRefError=Fe.ValidationError=Fe.CodeGen=Fe.Name=Fe.nil=Fe.stringify=Fe.str=Fe._=Fe.KeywordCxt=void 0;var Yk=dn(),Jk=Ff(),Xk=Ds(),vv=_v(),Zk=["/properties"],Bc="http://json-schema.org/draft-07/schema",Uc=class extends Yk.default{_addVocabularies(){super._addVocabularies(),Jk.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Xk.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(vv,Zk):vv;this.addMetaSchema(e,Bc,!1),this.refs["http://json-schema.org/schema"]=Bc}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Bc)?Bc:void 0)}};bv.exports=Fe=Uc;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=Uc;var Qk=jn();Object.defineProperty(Fe,"KeywordCxt",{enumerable:!0,get:function(){return Qk.KeywordCxt}});var Fi=B();Object.defineProperty(Fe,"_",{enumerable:!0,get:function(){return Fi._}});Object.defineProperty(Fe,"str",{enumerable:!0,get:function(){return Fi.str}});Object.defineProperty(Fe,"stringify",{enumerable:!0,get:function(){return Fi.stringify}});Object.defineProperty(Fe,"nil",{enumerable:!0,get:function(){return Fi.nil}});Object.defineProperty(Fe,"Name",{enumerable:!0,get:function(){return Fi.Name}});Object.defineProperty(Fe,"CodeGen",{enumerable:!0,get:function(){return Fi.CodeGen}});var eC=Ai();Object.defineProperty(Fe,"ValidationError",{enumerable:!0,get:function(){return eC.default}});var tC=Pi();Object.defineProperty(Fe,"MissingRefError",{enumerable:!0,get:function(){return tC.default}})});var Sv=I(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});var rC=Is(),nC=["$schema","id","$defs",{keyword:"$comment"},"definitions",rC.default];Hf.default=nC});var Ev=I(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});var Gf=dn(),iC=B(),pn=iC.operators,Vf={maximum:{exclusive:"exclusiveMaximum",ops:[{okStr:"<=",ok:pn.LTE,fail:pn.GT},{okStr:"<",ok:pn.LT,fail:pn.GTE}]},minimum:{exclusive:"exclusiveMinimum",ops:[{okStr:">=",ok:pn.GTE,fail:pn.LT},{okStr:">",ok:pn.GT,fail:pn.LTE}]}},oC={message:t=>Gf.str`must be ${zf(t).okStr} ${t.schemaCode}`,params:t=>Gf._`{comparison: ${zf(t).okStr}, limit: ${t.schemaCode}}`},sC={keyword:Object.keys(Vf),type:"number",schemaType:"number",$data:!0,error:oC,code(t){let{data:e,schemaCode:r}=t;t.fail$data(Gf._`${e} ${zf(t).fail} ${r} || isNaN(${e})`)}};function zf(t){var e;let r=t.keyword,n=!((e=t.parentSchema)===null||e===void 0)&&e[Vf[r].exclusive]?1:0;return Vf[r].ops[n]}Wf.default=sC});var Tv=I(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});var wv={exclusiveMaximum:"maximum",exclusiveMinimum:"minimum"},aC={keyword:Object.keys(wv),type:"number",schemaType:"boolean",code({keyword:t,parentSchema:e}){let r=wv[t];if(e[r]===void 0)throw new Error(`${t} can only be used with ${r}`)}};Kf.default=aC});var Iv=I(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});var cC=Ev(),uC=Tv(),lC=Vd(),dC=Kd(),fC=Jd(),pC=Zd(),mC=ef(),hC=rf(),gC=af(),yC=lf(),_C=ff(),vC=[cC.default,uC.default,lC.default,dC.default,fC.default,pC.default,mC.default,hC.default,gC.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},yC.default,_C.default];Yf.default=vC});var $v=I(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var bC=Sv(),SC=Iv(),EC=Fc(),wC=qc(),TC=["title","description","default"],IC=[bC.default,SC.default,EC.default(),wC.default,TC];Jf.default=IC});var Rv=I((Z3,$C)=>{$C.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}});var Cv=I((Ye,kv)=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.CodeGen=Ye.Name=Ye.nil=Ye.stringify=Ye.str=Ye._=Ye.KeywordCxt=void 0;var RC=dn(),OC=$v(),kC=Ds(),Ov=Rv(),CC=["/properties"],Hc="http://json-schema.org/draft-04/schema",Gc=class extends RC.default{constructor(e={}){super(C(g({},e),{schemaId:"id"}))}_addVocabularies(){super._addVocabularies(),OC.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(kC.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Ov,CC):Ov;this.addMetaSchema(e,Hc,!1),this.refs["http://json-schema.org/schema"]=Hc}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Hc)?Hc:void 0)}};kv.exports=Ye=Gc;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=Gc;var xC=dn();Object.defineProperty(Ye,"KeywordCxt",{enumerable:!0,get:function(){return xC.KeywordCxt}});var qi=dn();Object.defineProperty(Ye,"_",{enumerable:!0,get:function(){return qi._}});Object.defineProperty(Ye,"str",{enumerable:!0,get:function(){return qi.str}});Object.defineProperty(Ye,"stringify",{enumerable:!0,get:function(){return qi.stringify}});Object.defineProperty(Ye,"nil",{enumerable:!0,get:function(){return qi.nil}});Object.defineProperty(Ye,"Name",{enumerable:!0,get:function(){return qi.Name}});Object.defineProperty(Ye,"CodeGen",{enumerable:!0,get:function(){return qi.CodeGen}})});var Zf=I(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.dynamicAnchor=void 0;var Xf=B(),AC=Vt(),xv=Ss(),PC=Is(),NC={keyword:"$dynamicAnchor",schemaType:"string",code:t=>Av(t,t.schema)};function Av(t,e){let{gen:r,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;let i=(0,Xf._)`${AC.default.dynamicAnchors}${(0,Xf.getProperty)(e)}`,o=n.errSchemaPath==="#"?n.validateName:MC(t);r.if((0,Xf._)`!${i}`,()=>r.assign(i,o))}Ls.dynamicAnchor=Av;function MC(t){let{schemaEnv:e,schema:r,self:n}=t.it,{root:i,baseId:o,localRefs:s,meta:a}=e.root,{schemaId:c}=n.opts,u=new xv.SchemaEnv({schema:r,schemaId:c,root:i,baseId:o,localRefs:s,meta:a});return xv.compileSchema.call(n,u),(0,PC.getValidate)(t,u)}Ls.default=NC});var Qf=I(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.dynamicRef=void 0;var Pv=B(),DC=Vt(),Nv=Is(),LC={keyword:"$dynamicRef",schemaType:"string",code:t=>Mv(t,t.schema)};function Mv(t,e){let{gen:r,keyword:n,it:i}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);let o=e.slice(1);if(i.allErrors)s();else{let c=r.let("valid",!1);s(c),t.ok(c)}function s(c){if(i.schemaEnv.root.dynamicAnchors[o]){let u=r.let("_v",(0,Pv._)`${DC.default.dynamicAnchors}${(0,Pv.getProperty)(o)}`);r.if(u,a(u,c),a(i.validateName,c))}else a(i.validateName,c)()}function a(c,u){return u?()=>r.block(()=>{(0,Nv.callRef)(t,c),r.let(u,!0)}):()=>(0,Nv.callRef)(t,c)}}js.dynamicRef=Mv;js.default=LC});var Dv=I(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});var jC=Zf(),FC=te(),qC={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,jC.dynamicAnchor)(t,""):(0,FC.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};ep.default=qC});var Lv=I(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});var BC=Qf(),UC={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,BC.dynamicRef)(t,t.schema)};tp.default=UC});var np=I(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});var HC=Zf(),GC=Qf(),VC=Dv(),zC=Lv(),WC=[HC.default,GC.default,VC.default,zC.default];rp.default=WC});var Fv=I(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var jv=Pc(),KC={keyword:"dependentRequired",type:"object",schemaType:"object",error:jv.error,code:t=>(0,jv.validatePropertyDeps)(t)};ip.default=KC});var qv=I(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});var YC=Pc(),JC={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,YC.validateSchemaDeps)(t)};op.default=JC});var Bv=I(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});var XC=te(),ZC={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:r}){e.contains===void 0&&(0,XC.checkStrictMode)(r,`"${t}" without "contains" is ignored`)}};sp.default=ZC});var cp=I(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});var QC=Fv(),ex=qv(),tx=Bv(),rx=[QC.default,ex.default,tx.default];ap.default=rx});var Hv=I(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});var mn=B(),Uv=te(),nx=Vt(),ix={message:"must NOT have unevaluated properties",params:({params:t})=>(0,mn._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},ox={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:ix,code(t){let{gen:e,schema:r,data:n,errsCount:i,it:o}=t;if(!i)throw new Error("ajv implementation error");let{allErrors:s,props:a}=o;a instanceof mn.Name?e.if((0,mn._)`${a} !== true`,()=>e.forIn("key",n,d=>e.if(u(a,d),()=>c(d)))):a!==!0&&e.forIn("key",n,d=>a===void 0?c(d):e.if(l(a,d),()=>c(d))),o.props=!0,t.ok((0,mn._)`${i} === ${nx.default.errors}`);function c(d){if(r===!1){t.setParams({unevaluatedProperty:d}),t.error(),s||e.break();return}if(!(0,Uv.alwaysValidSchema)(o,r)){let f=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:d,dataPropType:Uv.Type.Str},f),s||e.if((0,mn.not)(f),()=>e.break())}}function u(d,f){return(0,mn._)`!${d} || !${d}[${f}]`}function l(d,f){let p=[];for(let m in d)d[m]===!0&&p.push((0,mn._)`${f} !== ${m}`);return(0,mn.and)(...p)}}};up.default=ox});var Vv=I(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});var Hn=B(),Gv=te(),sx={message:({params:{len:t}})=>(0,Hn.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Hn._)`{limit: ${t}}`},ax={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:sx,code(t){let{gen:e,schema:r,data:n,it:i}=t,o=i.items||0;if(o===!0)return;let s=e.const("len",(0,Hn._)`${n}.length`);if(r===!1)t.setParams({len:o}),t.fail((0,Hn._)`${s} > ${o}`);else if(typeof r=="object"&&!(0,Gv.alwaysValidSchema)(i,r)){let c=e.var("valid",(0,Hn._)`${s} <= ${o}`);e.if((0,Hn.not)(c),()=>a(c,o)),t.ok(c)}i.items=!0;function a(c,u){e.forRange("i",u,s,l=>{t.subschema({keyword:"unevaluatedItems",dataProp:l,dataPropType:Gv.Type.Num},c),i.allErrors||e.if((0,Hn.not)(c),()=>e.break())})}}};lp.default=ax});var fp=I(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var cx=Hv(),ux=Vv(),lx=[cx.default,ux.default];dp.default=lx});var zv=I((fB,dx)=>{dx.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}}});var Wv=I((pB,fx)=>{fx.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}}});var Kv=I((mB,px)=>{px.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}}});var Yv=I((hB,mx)=>{mx.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}}});var Jv=I((gB,hx)=>{hx.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}}});var Xv=I((yB,gx)=>{gx.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}}});var Zv=I((_B,yx)=>{yx.exports={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}}});var Qv=I(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});var _x=zv(),vx=Wv(),bx=Kv(),Sx=Yv(),Ex=Jv(),wx=Xv(),Tx=Zv(),Ix=["/properties"];function $x(t){return[_x,vx,bx,Sx,e(this,Ex),wx,e(this,Tx)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,Ix):n}}pp.default=$x});var tb=I((qe,eb)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.MissingRefError=qe.ValidationError=qe.CodeGen=qe.Name=qe.nil=qe.stringify=qe.str=qe._=qe.KeywordCxt=void 0;var Rx=dn(),Ox=Ff(),kx=np(),Cx=cp(),xx=fp(),Ax=Ds(),Px=Qv(),mp="https://json-schema.org/draft/2019-09/schema",Vc=class extends Rx.default{constructor(e={}){super(C(g({},e),{dynamicRef:!0,next:!0,unevaluated:!0}))}_addVocabularies(){super._addVocabularies(),this.addVocabulary(kx.default),Ox.default.forEach(e=>this.addVocabulary(e)),this.addVocabulary(Cx.default),this.addVocabulary(xx.default),this.opts.discriminator&&this.addKeyword(Ax.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:e,meta:r}=this.opts;r&&(Px.default.call(this,e),this.refs["http://json-schema.org/schema"]=mp)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(mp)?mp:void 0)}};eb.exports=qe=Vc;Object.defineProperty(qe,"__esModule",{value:!0});qe.default=Vc;var Nx=jn();Object.defineProperty(qe,"KeywordCxt",{enumerable:!0,get:function(){return Nx.KeywordCxt}});var Bi=B();Object.defineProperty(qe,"_",{enumerable:!0,get:function(){return Bi._}});Object.defineProperty(qe,"str",{enumerable:!0,get:function(){return Bi.str}});Object.defineProperty(qe,"stringify",{enumerable:!0,get:function(){return Bi.stringify}});Object.defineProperty(qe,"nil",{enumerable:!0,get:function(){return Bi.nil}});Object.defineProperty(qe,"Name",{enumerable:!0,get:function(){return Bi.Name}});Object.defineProperty(qe,"CodeGen",{enumerable:!0,get:function(){return Bi.CodeGen}});var Mx=Ai();Object.defineProperty(qe,"ValidationError",{enumerable:!0,get:function(){return Mx.default}});var Dx=Pi();Object.defineProperty(qe,"MissingRefError",{enumerable:!0,get:function(){return Dx.default}})});var nb=I(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});var Lx=Ud(),jx=mf(),Fx=Fc(),qx=np(),Bx=cp(),Ux=fp(),Hx=qc(),rb=Lf(),Gx=[qx.default,Lx.default,jx.default,(0,Fx.default)(!0),Hx.default,rb.metadataVocabulary,rb.contentVocabulary,Bx.default,Ux.default];hp.default=Gx});var ib=I((EB,Vx)=>{Vx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}}});var ob=I((wB,zx)=>{zx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}}});var sb=I((TB,Wx)=>{Wx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}}});var ab=I((IB,Kx)=>{Kx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}}});var cb=I(($B,Yx)=>{Yx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}}});var ub=I((RB,Jx)=>{Jx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}}});var lb=I((OB,Xx)=>{Xx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}}});var db=I((kB,Zx)=>{Zx.exports={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}}});var fb=I(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});var Qx=ib(),eA=ob(),tA=sb(),rA=ab(),nA=cb(),iA=ub(),oA=lb(),sA=db(),aA=["/properties"];function cA(t){return[Qx,eA,tA,rA,nA,e(this,iA),oA,e(this,sA)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,aA):n}}gp.default=cA});var mb=I((Be,pb)=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.MissingRefError=Be.ValidationError=Be.CodeGen=Be.Name=Be.nil=Be.stringify=Be.str=Be._=Be.KeywordCxt=void 0;var uA=dn(),lA=nb(),dA=Ds(),fA=fb(),yp="https://json-schema.org/draft/2020-12/schema",zc=class extends uA.default{constructor(e={}){super(C(g({},e),{dynamicRef:!0,next:!0,unevaluated:!0}))}_addVocabularies(){super._addVocabularies(),lA.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(dA.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:e,meta:r}=this.opts;r&&(fA.default.call(this,e),this.refs["http://json-schema.org/schema"]=yp)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(yp)?yp:void 0)}};pb.exports=Be=zc;Object.defineProperty(Be,"__esModule",{value:!0});Be.default=zc;var pA=jn();Object.defineProperty(Be,"KeywordCxt",{enumerable:!0,get:function(){return pA.KeywordCxt}});var Ui=B();Object.defineProperty(Be,"_",{enumerable:!0,get:function(){return Ui._}});Object.defineProperty(Be,"str",{enumerable:!0,get:function(){return Ui.str}});Object.defineProperty(Be,"stringify",{enumerable:!0,get:function(){return Ui.stringify}});Object.defineProperty(Be,"nil",{enumerable:!0,get:function(){return Ui.nil}});Object.defineProperty(Be,"Name",{enumerable:!0,get:function(){return Ui.Name}});Object.defineProperty(Be,"CodeGen",{enumerable:!0,get:function(){return Ui.CodeGen}});var mA=Ai();Object.defineProperty(Be,"ValidationError",{enumerable:!0,get:function(){return mA.default}});var hA=Pi();Object.defineProperty(Be,"MissingRefError",{enumerable:!0,get:function(){return hA.default}})});var bb=I(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.formatNames=vr.fastFormats=vr.fullFormats=void 0;function Hi(t,e){return{validate:t,compare:e}}vr.fullFormats={date:Hi(yb,bp),time:Hi(_b,Sp),"date-time":Hi(vA,vb),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:EA,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:kA,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:wA,int32:{type:"number",validate:$A},int64:{type:"number",validate:RA},float:{type:"number",validate:gb},double:{type:"number",validate:gb},password:!0,binary:!0};vr.fastFormats=C(g({},vr.fullFormats),{date:Hi(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,bp),time:Hi(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Sp),"date-time":Hi(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,vb),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});vr.formatNames=Object.keys(vr.fullFormats);function gA(t){return t%4===0&&(t%100!==0||t%400===0)}var yA=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,_A=[0,31,28,31,30,31,30,31,31,30,31,30,31];function yb(t){let e=yA.exec(t);if(!e)return!1;let r=+e[1],n=+e[2],i=+e[3];return n>=1&&n<=12&&i>=1&&i<=(n===2&&gA(r)?29:_A[n])}function bp(t,e){if(t&&e)return t>e?1:t<e?-1:0}var _p=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function _b(t,e){let r=_p.exec(t);if(!r)return!1;let n=+r[1],i=+r[2],o=+r[3],s=r[5];return(n<=23&&i<=59&&o<=59||n===23&&i===59&&o===60)&&(!e||s!=="")}function Sp(t,e){if(!(t&&e))return;let r=_p.exec(t),n=_p.exec(e);if(r&&n)return t=r[1]+r[2]+r[3]+(r[4]||""),e=n[1]+n[2]+n[3]+(n[4]||""),t>e?1:t<e?-1:0}var vp=/t|\s/i;function vA(t){let e=t.split(vp);return e.length===2&&yb(e[0])&&_b(e[1],!0)}function vb(t,e){if(!(t&&e))return;let[r,n]=t.split(vp),[i,o]=e.split(vp),s=bp(r,i);if(s!==void 0)return s||Sp(n,o)}var bA=/\/|:/,SA=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function EA(t){return bA.test(t)&&SA.test(t)}var hb=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function wA(t){return hb.lastIndex=0,hb.test(t)}var TA=-(2**31),IA=2**31-1;function $A(t){return Number.isInteger(t)&&t<=IA&&t>=TA}function RA(t){return Number.isInteger(t)}function gb(){return!0}var OA=/[^\\]\\Z/;function kA(t){if(OA.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}}});var Sb=I(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.formatLimitDefinition=void 0;var CA=Uf(),sr=B(),hn=sr.operators,Wc={formatMaximum:{okStr:"<=",ok:hn.LTE,fail:hn.GT},formatMinimum:{okStr:">=",ok:hn.GTE,fail:hn.LT},formatExclusiveMaximum:{okStr:"<",ok:hn.LT,fail:hn.GTE},formatExclusiveMinimum:{okStr:">",ok:hn.GT,fail:hn.LTE}},xA={message:({keyword:t,schemaCode:e})=>sr.str`should be ${Wc[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>sr._`{comparison: ${Wc[t].okStr}, limit: ${e}}`};Gi.formatLimitDefinition={keyword:Object.keys(Wc),type:"string",schemaType:"string",$data:!0,error:xA,code(t){let{gen:e,data:r,schemaCode:n,keyword:i,it:o}=t,{opts:s,self:a}=o;if(!s.validateFormats)return;let c=new CA.KeywordCxt(o,a.RULES.all.format.definition,"format");c.$data?u():l();function u(){let f=e.scopeValue("formats",{ref:a.formats,code:s.code.formats}),p=e.const("fmt",sr._`${f}[${c.schemaCode}]`);t.fail$data(sr.or(sr._`typeof ${p} != "object"`,sr._`${p} instanceof RegExp`,sr._`typeof ${p}.compare != "function"`,d(p)))}function l(){let f=c.schema,p=a.formats[f];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${i}": format "${f}" does not define "compare" function`);let m=e.scopeValue("formats",{key:f,ref:p,code:s.code.formats?sr._`${s.code.formats}${sr.getProperty(f)}`:void 0});t.fail$data(d(m))}function d(f){return sr._`${f}.compare(${r}, ${n}) ${Wc[i].fail} 0`}},dependencies:["format"]};var AA=t=>(t.addKeyword(Gi.formatLimitDefinition),t);Gi.default=AA});var Ib=I((Fs,Tb)=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var Vi=bb(),PA=Sb(),Ep=B(),Eb=new Ep.Name("fullFormats"),NA=new Ep.Name("fastFormats"),wp=(t,e={keywords:!0})=>{if(Array.isArray(e))return wb(t,e,Vi.fullFormats,Eb),t;let[r,n]=e.mode==="fast"?[Vi.fastFormats,NA]:[Vi.fullFormats,Eb],i=e.formats||Vi.formatNames;return wb(t,i,r,n),e.keywords&&PA.default(t),t};wp.get=(t,e="full")=>{let n=(e==="fast"?Vi.fastFormats:Vi.fullFormats)[t];if(!n)throw new Error(`Unknown format "${t}"`);return n};function wb(t,e,r,n){var i,o;(i=(o=t.opts.code).formats)!==null&&i!==void 0||(o.formats=Ep._`require("ajv-formats/dist/formats").${n}`);for(let s of e)t.addFormat(s,r[s])}Tb.exports=Fs=wp;Object.defineProperty(Fs,"__esModule",{value:!0});Fs.default=wp});var Rb=I(Ip=>{"use strict";Ip.__esModule=!0;var Kc=function(t){return typeof t=="object"&&t!==null&&t.toString()==={}.toString()},Yc=function(t){return JSON.parse(JSON.stringify(t))},Tp=function(t,e){t=Yc(t);for(var r in e)e.hasOwnProperty(r)&&(Kc(t[r])&&Kc(e[r])?t[r]=Tp(t[r],e[r]):t[r]=e[r]);return t},$b=function(t,e){var r=t.replace(/^#\/definitions\//,"").split("/"),n=function(o,s){var a=o.shift();return a===void 0||!s[a]?{}:o.length?n(o,s[a]):s[a]},i=n(r,e);return Kc(i)?Yc(i):i},MA=function(t,e){for(var r=t.length,n=-1,i={};++n<r;){var o=t[n];o=typeof o.$ref!="undefined"?$b(o.$ref,e):o,i=Tp(i,o)}return i},zi=function(t,e){if(typeof t.default!="undefined")return t.default;if(typeof t.allOf!="undefined"){var r=MA(t.allOf,e);return zi(r,e)}else if(typeof t.$ref!="undefined"){var n=$b(t.$ref,e);return zi(n,e)}else if(t.type==="object"){if(!t.properties)return{};for(var i in t.properties)t.properties.hasOwnProperty(i)&&(t.properties[i]=zi(t.properties[i],e),typeof t.properties[i]=="undefined"&&delete t.properties[i]);return t.properties}else if(t.type==="array"){if(!t.items)return[];var o=t.minItems||0;if(t.items.constructor===Array){for(var s=t.items.map(function(u){return zi(u,e)}),a=s.length-1;a>=0&&typeof s[a]=="undefined";a--)a+1>o&&s.pop();return s}var c=zi(t.items,e);if(typeof c=="undefined")return[];for(var s=[],a=0;a<Math.max(1,o);a++)s.push(Yc(c));return s}};function DA(t,e){var r;return typeof e=="undefined"?e=(r=t.definitions)!==null&&r!==void 0?r:{}:Kc(t.definitions)&&(e=Tp(e,t.definitions)),zi(Yc(t),e)}Ip.default=DA});var Ob=I(Wi=>{"use strict";var LA=Wi&&Wi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});Wi.__esModule=!0;Wi.default=void 0;var jA=Rb();LA(Wi,jA,"default","default")});var ng=I((uK,Rw)=>{"use strict";Rw.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var gl=I((lK,Ow)=>{"use strict";var oF=ng();Ow.exports=function(){return oF()&&!!Symbol.toStringTag}});var xw=I((dK,Cw)=>{"use strict";var kw=typeof Symbol!="undefined"&&Symbol,sF=ng();Cw.exports=function(){return typeof kw!="function"||typeof Symbol!="function"||typeof kw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:sF()}});var Nw=I((fK,Pw)=>{"use strict";var Aw={foo:{}},aF=Object;Pw.exports=function(){return{__proto__:Aw}.foo===Aw.foo&&!({__proto__:null}instanceof aF)}});var Lw=I((pK,Dw)=>{"use strict";var cF="Function.prototype.bind called on incompatible ",uF=Object.prototype.toString,lF=Math.max,dF="[object Function]",Mw=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},fF=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},pF=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};Dw.exports=function(e){var r=this;if(typeof r!="function"||uF.apply(r)!==dF)throw new TypeError(cF+r);for(var n=fF(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,Mw(n,arguments));return Object(l)===l?l:this}return r.apply(e,Mw(n,arguments))},s=lF(0,r.length-n.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+pF(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var yl=I((mK,jw)=>{"use strict";var mF=Lw();jw.exports=Function.prototype.bind||mF});var qw=I((hK,Fw)=>{"use strict";var hF=Function.prototype.call,gF=Object.prototype.hasOwnProperty,yF=yl();Fw.exports=yF.call(hF,gF)});var di=I((gK,Vw)=>{"use strict";var ie,Bo=SyntaxError,Gw=Function,qo=TypeError,ig=function(t){try{return Gw('"use strict"; return ('+t+").constructor;")()}catch(e){}},ui=Object.getOwnPropertyDescriptor;if(ui)try{ui({},"")}catch(t){ui=null}var og=function(){throw new qo},_F=ui?function(){try{return arguments.callee,og}catch(t){try{return ui(arguments,"callee").get}catch(e){return og}}}():og,jo=xw()(),vF=Nw()(),nt=Object.getPrototypeOf||(vF?function(t){return t.__proto__}:null),Fo={},bF=typeof Uint8Array=="undefined"||!nt?ie:nt(Uint8Array),li={"%AggregateError%":typeof AggregateError=="undefined"?ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?ie:ArrayBuffer,"%ArrayIteratorPrototype%":jo&&nt?nt([][Symbol.iterator]()):ie,"%AsyncFromSyncIteratorPrototype%":ie,"%AsyncFunction%":Fo,"%AsyncGenerator%":Fo,"%AsyncGeneratorFunction%":Fo,"%AsyncIteratorPrototype%":Fo,"%Atomics%":typeof Atomics=="undefined"?ie:Atomics,"%BigInt%":typeof BigInt=="undefined"?ie:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?ie:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?ie:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?ie:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?ie:FinalizationRegistry,"%Function%":Gw,"%GeneratorFunction%":Fo,"%Int8Array%":typeof Int8Array=="undefined"?ie:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?ie:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":jo&&nt?nt(nt([][Symbol.iterator]())):ie,"%JSON%":typeof JSON=="object"?JSON:ie,"%Map%":typeof Map=="undefined"?ie:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!jo||!nt?ie:nt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?ie:Promise,"%Proxy%":typeof Proxy=="undefined"?ie:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?ie:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!jo||!nt?ie:nt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":jo&&nt?nt(""[Symbol.iterator]()):ie,"%Symbol%":jo?Symbol:ie,"%SyntaxError%":Bo,"%ThrowTypeError%":_F,"%TypedArray%":bF,"%TypeError%":qo,"%Uint8Array%":typeof Uint8Array=="undefined"?ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?ie:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?ie:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?ie:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?ie:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?ie:WeakSet};if(nt)try{null.error}catch(t){Bw=nt(nt(t)),li["%Error.prototype%"]=Bw}var Bw,SF=function t(e){var r;if(e==="%AsyncFunction%")r=ig("async function () {}");else if(e==="%GeneratorFunction%")r=ig("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ig("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&nt&&(r=nt(i.prototype))}return li[e]=r,r},Uw={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ka=yl(),_l=qw(),EF=Ka.call(Function.call,Array.prototype.concat),wF=Ka.call(Function.apply,Array.prototype.splice),Hw=Ka.call(Function.call,String.prototype.replace),vl=Ka.call(Function.call,String.prototype.slice),TF=Ka.call(Function.call,RegExp.prototype.exec),IF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$F=/\\(\\)?/g,RF=function(e){var r=vl(e,0,1),n=vl(e,-1);if(r==="%"&&n!=="%")throw new Bo("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Bo("invalid intrinsic syntax, expected opening `%`");var i=[];return Hw(e,IF,function(o,s,a,c){i[i.length]=a?Hw(c,$F,"$1"):s||o}),i},OF=function(e,r){var n=e,i;if(_l(Uw,n)&&(i=Uw[n],n="%"+i[0]+"%"),_l(li,n)){var o=li[n];if(o===Fo&&(o=SF(n)),typeof o=="undefined"&&!r)throw new qo("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Bo("intrinsic "+e+" does not exist!")};Vw.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new qo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new qo('"allowMissing" argument must be a boolean');if(TF(/^%?[^%]*%?$/,e)===null)throw new Bo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=RF(e),i=n.length>0?n[0]:"",o=OF("%"+i+"%",r),s=o.name,a=o.value,c=!1,u=o.alias;u&&(i=u[0],wF(n,EF([0,1],u)));for(var l=1,d=!0;l<n.length;l+=1){var f=n[l],p=vl(f,0,1),m=vl(f,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Bo("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(c=!0),i+="."+f,s="%"+i+"%",_l(li,s))a=li[s];else if(a!=null){if(!(f in a)){if(!r)throw new qo("base intrinsic for "+e+" exists, but the property is not available.");return}if(ui&&l+1>=n.length){var _=ui(a,f);d=!!_,d&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[f]}else d=_l(a,f),a=a[f];d&&!c&&(li[s]=a)}}return a}});var cg=I((yK,zw)=>{"use strict";var kF=di(),sg=kF("%Object.defineProperty%",!0),ag=function(){if(sg)try{return sg({},"a",{value:1}),!0}catch(e){return!1}return!1};ag.hasArrayLengthDefineBug=function(){if(!ag())return null;try{return sg([],"length",{value:1}).length!==1}catch(e){return!0}};zw.exports=ag});var Sl=I((_K,Ww)=>{"use strict";var CF=di(),bl=CF("%Object.getOwnPropertyDescriptor%",!0);if(bl)try{bl([],"length")}catch(t){bl=null}Ww.exports=bl});var Jw=I((vK,Yw)=>{"use strict";var xF=cg()(),ug=di(),Ya=xF&&ug("%Object.defineProperty%",!0);if(Ya)try{Ya({},"a",{value:1})}catch(t){Ya=!1}var AF=ug("%SyntaxError%"),Uo=ug("%TypeError%"),Kw=Sl();Yw.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Uo("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Uo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Uo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Uo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Uo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Uo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!Kw&&Kw(e,r);if(Ya)Ya(e,r,{configurable:s===null&&c?c.configurable:!s,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:o===null&&c?c.writable:!o});else if(a||!i&&!o&&!s)e[r]=n;else throw new AF("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var rT=I((bK,tT)=>{"use strict";var eT=di(),Xw=Jw(),PF=cg()(),Zw=Sl(),Qw=eT("%TypeError%"),NF=eT("%Math.floor%");tT.exports=function(e,r){if(typeof e!="function")throw new Qw("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||NF(r)!==r)throw new Qw("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&Zw){var s=Zw(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(PF?Xw(e,"length",r,!0,!0):Xw(e,"length",r)),e}});var dg=I((SK,El)=>{"use strict";var lg=yl(),Ho=di(),MF=rT(),DF=Ho("%TypeError%"),iT=Ho("%Function.prototype.apply%"),oT=Ho("%Function.prototype.call%"),sT=Ho("%Reflect.apply%",!0)||lg.call(oT,iT),Ja=Ho("%Object.defineProperty%",!0),LF=Ho("%Math.max%");if(Ja)try{Ja({},"a",{value:1})}catch(t){Ja=null}El.exports=function(e){if(typeof e!="function")throw new DF("a function is required");var r=sT(lg,oT,arguments);return MF(r,1+LF(0,e.length-(arguments.length-1)),!0)};var nT=function(){return sT(lg,iT,arguments)};Ja?Ja(El.exports,"apply",{value:nT}):El.exports.apply=nT});var fg=I((EK,uT)=>{"use strict";var aT=di(),cT=dg(),jF=cT(aT("String.prototype.indexOf"));uT.exports=function(e,r){var n=aT(e,!!r);return typeof n=="function"&&jF(e,".prototype.")>-1?cT(n):n}});var fT=I((wK,dT)=>{"use strict";var FF=gl()(),qF=fg(),pg=qF("Object.prototype.toString"),wl=function(e){return FF&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:pg(e)==="[object Arguments]"},lT=function(e){return wl(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&pg(e)!=="[object Array]"&&pg(e.callee)==="[object Function]"},BF=function(){return wl(arguments)}();wl.isLegacyArguments=lT;dT.exports=BF?wl:lT});var hT=I((TK,mT)=>{"use strict";var UF=Object.prototype.toString,HF=Function.prototype.toString,GF=/^\s*(?:function)?\*/,pT=gl()(),mg=Object.getPrototypeOf,VF=function(){if(!pT)return!1;try{return Function("return function*() {}")()}catch(t){}},hg;mT.exports=function(e){if(typeof e!="function")return!1;if(GF.test(HF.call(e)))return!0;if(!pT){var r=UF.call(e);return r==="[object GeneratorFunction]"}if(!mg)return!1;if(typeof hg=="undefined"){var n=VF();hg=n?mg(n):!1}return mg(e)===hg}});var vT=I((IK,_T)=>{"use strict";var yT=Function.prototype.toString,Go=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,yg,Tl;if(typeof Go=="function"&&typeof Object.defineProperty=="function")try{yg=Object.defineProperty({},"length",{get:function(){throw Tl}}),Tl={},Go(function(){throw 42},null,yg)}catch(t){t!==Tl&&(Go=null)}else Go=null;var zF=/^\s*class\b/,_g=function(e){try{var r=yT.call(e);return zF.test(r)}catch(n){return!1}},gg=function(e){try{return _g(e)?!1:(yT.call(e),!0)}catch(r){return!1}},Il=Object.prototype.toString,WF="[object Object]",KF="[object Function]",YF="[object GeneratorFunction]",JF="[object HTMLAllCollection]",XF="[object HTML document.all class]",ZF="[object HTMLCollection]",QF=typeof Symbol=="function"&&!!Symbol.toStringTag,eq=!(0 in[,]),vg=function(){return!1};typeof document=="object"&&(gT=document.all,Il.call(gT)===Il.call(document.all)&&(vg=function(e){if((eq||!e)&&(typeof e=="undefined"||typeof e=="object"))try{var r=Il.call(e);return(r===JF||r===XF||r===ZF||r===WF)&&e("")==null}catch(n){}return!1}));var gT;_T.exports=Go?function(e){if(vg(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Go(e,null,yg)}catch(r){if(r!==Tl)return!1}return!_g(e)&&gg(e)}:function(e){if(vg(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(QF)return gg(e);if(_g(e))return!1;var r=Il.call(e);return r!==KF&&r!==YF&&!/^\[object HTML/.test(r)?!1:gg(e)}});var ET=I(($K,ST)=>{"use strict";var tq=vT(),rq=Object.prototype.toString,bT=Object.prototype.hasOwnProperty,nq=function(e,r,n){for(var i=0,o=e.length;i<o;i++)bT.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},iq=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},oq=function(e,r,n){for(var i in e)bT.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},sq=function(e,r,n){if(!tq(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),rq.call(e)==="[object Array]"?nq(e,r,i):typeof e=="string"?iq(e,r,i):oq(e,r,i)};ST.exports=sq});var TT=I((RK,wT)=>{"use strict";var bg=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],aq=typeof globalThis=="undefined"?global:globalThis;wT.exports=function(){for(var e=[],r=0;r<bg.length;r++)typeof aq[bg[r]]=="function"&&(e[e.length]=bg[r]);return e}});var Ig=I((OK,OT)=>{"use strict";var Rl=ET(),cq=TT(),IT=dg(),wg=fg(),$l=Sl(),uq=wg("Object.prototype.toString"),RT=gl()(),$T=typeof globalThis=="undefined"?global:globalThis,Eg=cq(),Tg=wg("String.prototype.slice"),Sg=Object.getPrototypeOf,lq=wg("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Ol={__proto__:null};RT&&$l&&Sg?Rl(Eg,function(t){var e=new $T[t];if(Symbol.toStringTag in e){var r=Sg(e),n=$l(r,Symbol.toStringTag);if(!n){var i=Sg(r);n=$l(i,Symbol.toStringTag)}Ol["$"+t]=IT(n.get)}}):Rl(Eg,function(t){var e=new $T[t],r=e.slice||e.set;r&&(Ol["$"+t]=IT(r))});var dq=function(e){var r=!1;return Rl(Ol,function(n,i){if(!r)try{"$"+n(e)===i&&(r=Tg(i,1))}catch(o){}}),r},fq=function(e){var r=!1;return Rl(Ol,function(n,i){if(!r)try{n(e),r=Tg(i,1)}catch(o){}}),r};OT.exports=function(e){if(!e||typeof e!="object")return!1;if(!RT){var r=Tg(uq(e),8,-1);return lq(Eg,r)>-1?r:r!=="Object"?!1:fq(e)}return $l?dq(e):null}});var CT=I((kK,kT)=>{"use strict";var pq=Ig();kT.exports=function(e){return!!pq(e)}});var GT=I(re=>{"use strict";var mq=fT(),hq=hT(),pr=Ig(),xT=CT();function Vo(t){return t.call.bind(t)}var AT=typeof BigInt!="undefined",PT=typeof Symbol!="undefined",tr=Vo(Object.prototype.toString),gq=Vo(Number.prototype.valueOf),yq=Vo(String.prototype.valueOf),_q=Vo(Boolean.prototype.valueOf);AT&&(NT=Vo(BigInt.prototype.valueOf));var NT;PT&&(MT=Vo(Symbol.prototype.valueOf));var MT;function Za(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch(r){return!1}}re.isArgumentsObject=mq;re.isGeneratorFunction=hq;re.isTypedArray=xT;function vq(t){return typeof Promise!="undefined"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}re.isPromise=vq;function bq(t){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(t):xT(t)||LT(t)}re.isArrayBufferView=bq;function Sq(t){return pr(t)==="Uint8Array"}re.isUint8Array=Sq;function Eq(t){return pr(t)==="Uint8ClampedArray"}re.isUint8ClampedArray=Eq;function wq(t){return pr(t)==="Uint16Array"}re.isUint16Array=wq;function Tq(t){return pr(t)==="Uint32Array"}re.isUint32Array=Tq;function Iq(t){return pr(t)==="Int8Array"}re.isInt8Array=Iq;function $q(t){return pr(t)==="Int16Array"}re.isInt16Array=$q;function Rq(t){return pr(t)==="Int32Array"}re.isInt32Array=Rq;function Oq(t){return pr(t)==="Float32Array"}re.isFloat32Array=Oq;function kq(t){return pr(t)==="Float64Array"}re.isFloat64Array=kq;function Cq(t){return pr(t)==="BigInt64Array"}re.isBigInt64Array=Cq;function xq(t){return pr(t)==="BigUint64Array"}re.isBigUint64Array=xq;function kl(t){return tr(t)==="[object Map]"}kl.working=typeof Map!="undefined"&&kl(new Map);function Aq(t){return typeof Map=="undefined"?!1:kl.working?kl(t):t instanceof Map}re.isMap=Aq;function Cl(t){return tr(t)==="[object Set]"}Cl.working=typeof Set!="undefined"&&Cl(new Set);function Pq(t){return typeof Set=="undefined"?!1:Cl.working?Cl(t):t instanceof Set}re.isSet=Pq;function xl(t){return tr(t)==="[object WeakMap]"}xl.working=typeof WeakMap!="undefined"&&xl(new WeakMap);function Nq(t){return typeof WeakMap=="undefined"?!1:xl.working?xl(t):t instanceof WeakMap}re.isWeakMap=Nq;function Rg(t){return tr(t)==="[object WeakSet]"}Rg.working=typeof WeakSet!="undefined"&&Rg(new WeakSet);function Mq(t){return Rg(t)}re.isWeakSet=Mq;function Al(t){return tr(t)==="[object ArrayBuffer]"}Al.working=typeof ArrayBuffer!="undefined"&&Al(new ArrayBuffer);function DT(t){return typeof ArrayBuffer=="undefined"?!1:Al.working?Al(t):t instanceof ArrayBuffer}re.isArrayBuffer=DT;function Pl(t){return tr(t)==="[object DataView]"}Pl.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Pl(new DataView(new ArrayBuffer(1),0,1));function LT(t){return typeof DataView=="undefined"?!1:Pl.working?Pl(t):t instanceof DataView}re.isDataView=LT;var $g=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Xa(t){return tr(t)==="[object SharedArrayBuffer]"}function jT(t){return typeof $g=="undefined"?!1:(typeof Xa.working=="undefined"&&(Xa.working=Xa(new $g)),Xa.working?Xa(t):t instanceof $g)}re.isSharedArrayBuffer=jT;function Dq(t){return tr(t)==="[object AsyncFunction]"}re.isAsyncFunction=Dq;function Lq(t){return tr(t)==="[object Map Iterator]"}re.isMapIterator=Lq;function jq(t){return tr(t)==="[object Set Iterator]"}re.isSetIterator=jq;function Fq(t){return tr(t)==="[object Generator]"}re.isGeneratorObject=Fq;function qq(t){return tr(t)==="[object WebAssembly.Module]"}re.isWebAssemblyCompiledModule=qq;function FT(t){return Za(t,gq)}re.isNumberObject=FT;function qT(t){return Za(t,yq)}re.isStringObject=qT;function BT(t){return Za(t,_q)}re.isBooleanObject=BT;function UT(t){return AT&&Za(t,NT)}re.isBigIntObject=UT;function HT(t){return PT&&Za(t,MT)}re.isSymbolObject=HT;function Bq(t){return FT(t)||qT(t)||BT(t)||UT(t)||HT(t)}re.isBoxedPrimitive=Bq;function Uq(t){return typeof Uint8Array!="undefined"&&(DT(t)||jT(t))}re.isAnyArrayBuffer=Uq;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(re,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var zT=I((xK,VT)=>{VT.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var WT=I((AK,Og)=>{typeof Object.create=="function"?Og.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Og.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var ZT=I(ne=>{var KT=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},Hq=/%[sdj%]/g;ne.format=function(t){if(!Fl(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Rn(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(Hq,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(c){return"[Circular]"}default:return a}}),s=n[r];r<i;s=n[++r])jl(s)||!zo(s)?o+=" "+s:o+=" "+Rn(s);return o};ne.deprecate=function(t,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return t;if(typeof process=="undefined")return function(){return ne.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var Nl={},Gq=/^$/;ne.debuglog=function(t){if(t=t.toUpperCase(),!Nl[t])if(Gq.test(t)){var e=process.pid;Nl[t]=function(){var r=ne.format.apply(ne,arguments);console.error("%s %d: %s",t,e,r)}}else Nl[t]=function(){};return Nl[t]};function Rn(t,e){var r={seen:[],stylize:zq};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ag(e)?r.showHidden=e:e&&ne._extend(r,e),pi(r.showHidden)&&(r.showHidden=!1),pi(r.depth)&&(r.depth=2),pi(r.colors)&&(r.colors=!1),pi(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Vq),Dl(r,t,r.depth)}ne.inspect=Rn;Rn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Rn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Vq(t,e){var r=Rn.styles[e];return r?"\x1B["+Rn.colors[r][0]+"m"+t+"\x1B["+Rn.colors[r][1]+"m":t}function zq(t,e){return t}function Wq(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function Dl(t,e,r){if(t.customInspect&&e&&Ml(e.inspect)&&e.inspect!==ne.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return Fl(n)||(n=Dl(t,n,r)),n}var i=Kq(t,e);if(i)return i;var o=Object.keys(e),s=Wq(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),ec(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return kg(e);if(o.length===0){if(Ml(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(Qa(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ll(e))return t.stylize(Date.prototype.toString.call(e),"date");if(ec(e))return kg(e)}var c="",u=!1,l=["{","}"];if(YT(e)&&(u=!0,l=["[","]"]),Ml(e)){var d=e.name?": "+e.name:"";c=" [Function"+d+"]"}if(Qa(e)&&(c=" "+RegExp.prototype.toString.call(e)),Ll(e)&&(c=" "+Date.prototype.toUTCString.call(e)),ec(e)&&(c=" "+kg(e)),o.length===0&&(!u||e.length==0))return l[0]+c+l[1];if(r<0)return Qa(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var f;return u?f=Yq(t,e,r,s,o):f=o.map(function(p){return xg(t,e,r,s,p,u)}),t.seen.pop(),Jq(f,c,l)}function Kq(t,e){if(pi(e))return t.stylize("undefined","undefined");if(Fl(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(JT(e))return t.stylize(""+e,"number");if(Ag(e))return t.stylize(""+e,"boolean");if(jl(e))return t.stylize("null","null")}function kg(t){return"["+Error.prototype.toString.call(t)+"]"}function Yq(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)XT(e,String(s))?o.push(xg(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(c){c.match(/^\d+$/)||o.push(xg(t,e,r,n,c,!0))}),o}function xg(t,e,r,n,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),XT(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(jl(r)?a=Dl(t,c.value,null):a=Dl(t,c.value,r-1),a.indexOf(`
`)>-1&&(o?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=t.stylize("[Circular]","special")),pi(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function Jq(t,e,r){var n=0,i=t.reduce(function(o,s){return n++,s.indexOf(`
`)>=0&&n++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}ne.types=GT();function YT(t){return Array.isArray(t)}ne.isArray=YT;function Ag(t){return typeof t=="boolean"}ne.isBoolean=Ag;function jl(t){return t===null}ne.isNull=jl;function Xq(t){return t==null}ne.isNullOrUndefined=Xq;function JT(t){return typeof t=="number"}ne.isNumber=JT;function Fl(t){return typeof t=="string"}ne.isString=Fl;function Zq(t){return typeof t=="symbol"}ne.isSymbol=Zq;function pi(t){return t===void 0}ne.isUndefined=pi;function Qa(t){return zo(t)&&Pg(t)==="[object RegExp]"}ne.isRegExp=Qa;ne.types.isRegExp=Qa;function zo(t){return typeof t=="object"&&t!==null}ne.isObject=zo;function Ll(t){return zo(t)&&Pg(t)==="[object Date]"}ne.isDate=Ll;ne.types.isDate=Ll;function ec(t){return zo(t)&&(Pg(t)==="[object Error]"||t instanceof Error)}ne.isError=ec;ne.types.isNativeError=ec;function Ml(t){return typeof t=="function"}ne.isFunction=Ml;function Qq(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t=="undefined"}ne.isPrimitive=Qq;ne.isBuffer=zT();function Pg(t){return Object.prototype.toString.call(t)}function Cg(t){return t<10?"0"+t.toString(10):t.toString(10)}var e9=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function t9(){var t=new Date,e=[Cg(t.getHours()),Cg(t.getMinutes()),Cg(t.getSeconds())].join(":");return[t.getDate(),e9[t.getMonth()],e].join(" ")}ne.log=function(){console.log("%s - %s",t9(),ne.format.apply(ne,arguments))};ne.inherits=WT();ne._extend=function(t,e){if(!e||!zo(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function XT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var fi=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;ne.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(fi&&e[fi]){var r=e[fi];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,fi,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(c,u){n=c,i=u}),s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);s.push(function(c,u){c?i(c):n(u)});try{e.apply(this,s)}catch(c){i(c)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),fi&&Object.defineProperty(r,fi,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,KT(e))};ne.promisify.custom=fi;function r9(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function n9(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(a){process.nextTick(s.bind(null,null,a))},function(a){process.nextTick(r9.bind(null,a,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,KT(t)),e}ne.callbackify=n9});var cy=jr(ay()),Ti=class{constructor(){this._emitter=new cy.EventEmitter}addListener(e,r){this._emitter.addListener(e,r)}on(e,r){this._emitter.on(e,r)}off(e,r){this._emitter.off(e,r)}removeListener(e,r){this._emitter.removeListener(e,r)}emit(e,...r){this._emitter.emit(e,...r)}once(e,r){this._emitter.once(e,r)}setMaxListeners(e){this._emitter.setMaxListeners(e)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}};var{version:D1}=uy(),os=class extends Ti{constructor(r){super();this._messageHandlers=[];this.bundleName=r.name,this.bundleConfig=r.config,this.bundleVersion=r.version,this.bundleGit=r.git}static waitForReplicants(...r){return F(this,null,function*(){return new Promise(n=>{let i=r.length,o=0;r.forEach(s=>{s.once("change",()=>{o++,o>=i&&n()})})})})}listenFor(r,n,i){let o;if(typeof n=="string"?o=n:(o=this.bundleName,i=n),typeof i!="function")throw new Error(`argument "handler" must be a function, but you provided a(n) ${typeof i}`);this.log.trace("Listening for %s from bundle %s",r,n),this._messageHandlers.push({messageName:r,bundleName:o,func:i})}unlisten(r,n,i){let{bundleName:o}=this,s=i;if(typeof n=="string"?o=n:s=n,typeof s!="function")throw new Error(`argument "handler" must be a function, but you provided a(n) ${typeof s}`);this.log.trace("[%s] Removing listener for %s from bundle %s",this.bundleName,r,o);let a=this._messageHandlers.findIndex(c=>c.messageName===r&&c.bundleName===o&&c.func===s);return a>=0?(this._messageHandlers.splice(a,1),!0):!1}Replicant(r,n,i){let o;typeof n=="string"?o=n:o=this.bundleName,typeof n!="string"&&(i=n);let s={};return i=i!=null?i:s,typeof i.schemaPath=="undefined"&&(i.schemaPath=`bundles/${encodeURIComponent(o)}/schemas/${encodeURIComponent(r)}.json`),this._replicantFactory(r,o,i)}};os.version=D1;var L1=Object.getOwnPropertyNames,j1=Object.getOwnPropertySymbols,F1=Object.prototype.hasOwnProperty;function ly(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function uc(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var c=t(r,n,i);return o.delete(r),o.delete(n),c}}function dy(t){return L1(t).concat(j1(t))}var _y=Object.hasOwn||function(t,e){return F1.call(t,e)};function Ii(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var vy="_owner",fy=Object.getOwnPropertyDescriptor,py=Object.keys;function q1(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function B1(t,e){return Ii(t.getTime(),e.getTime())}function my(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),o=0,s,a;(s=i.next())&&!s.done;){for(var c=e.entries(),u=!1,l=0;(a=c.next())&&!a.done;){var d=s.value,f=d[0],p=d[1],m=a.value,_=m[0],b=m[1];!u&&!n[l]&&(u=r.equals(f,_,o,l,t,e,r)&&r.equals(p,b,f,_,t,e,r))&&(n[l]=!0),l++}if(!u)return!1;o++}return!0}function U1(t,e,r){var n=py(t),i=n.length;if(py(e).length!==i)return!1;for(var o;i-- >0;)if(o=n[i],o===vy&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!_y(e,o)||!r.equals(t[o],e[o],o,o,t,e,r))return!1;return!0}function ss(t,e,r){var n=dy(t),i=n.length;if(dy(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],o===vy&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!_y(e,o)||!r.equals(t[o],e[o],o,o,t,e,r)||(s=fy(t,o),a=fy(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function H1(t,e){return Ii(t.valueOf(),e.valueOf())}function G1(t,e){return t.source===e.source&&t.flags===e.flags}function hy(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),o,s;(o=i.next())&&!o.done;){for(var a=e.values(),c=!1,u=0;(s=a.next())&&!s.done;)!c&&!n[u]&&(c=r.equals(o.value,s.value,o.value,s.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function V1(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var z1="[object Arguments]",W1="[object Boolean]",K1="[object Date]",Y1="[object Map]",J1="[object Number]",X1="[object Object]",Z1="[object RegExp]",Q1="[object Set]",eI="[object String]",tI=Array.isArray,gy=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yy=Object.assign,rI=Object.prototype.toString.call.bind(Object.prototype.toString);function nI(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,a=t.areSetsEqual,c=t.areTypedArraysEqual;return function(l,d,f){if(l===d)return!0;if(l==null||d==null||typeof l!="object"||typeof d!="object")return l!==l&&d!==d;var p=l.constructor;if(p!==d.constructor)return!1;if(p===Object)return i(l,d,f);if(tI(l))return e(l,d,f);if(gy!=null&&gy(l))return c(l,d,f);if(p===Date)return r(l,d,f);if(p===RegExp)return s(l,d,f);if(p===Map)return n(l,d,f);if(p===Set)return a(l,d,f);var m=rI(l);return m===K1?r(l,d,f):m===Z1?s(l,d,f):m===Y1?n(l,d,f):m===Q1?a(l,d,f):m===X1?typeof l.then!="function"&&typeof d.then!="function"&&i(l,d,f):m===z1?i(l,d,f):m===W1||m===J1||m===eI?o(l,d,f):!1}}function iI(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?ss:q1,areDatesEqual:B1,areMapsEqual:n?ly(my,ss):my,areObjectsEqual:n?ss:U1,arePrimitiveWrappersEqual:H1,areRegExpsEqual:G1,areSetsEqual:n?ly(hy,ss):hy,areTypedArraysEqual:n?ss:V1};if(r&&(i=yy({},i,r(i))),e){var o=uc(i.areArraysEqual),s=uc(i.areMapsEqual),a=uc(i.areObjectsEqual),c=uc(i.areSetsEqual);i=yy({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:c})}return i}function oI(t){return function(e,r,n,i,o,s,a){return t(e,r,a)}}function sI(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(c,u){var l=n(),d=l.cache,f=d===void 0?e?new WeakMap:void 0:d,p=l.meta;return r(c,u,{cache:f,equals:i,meta:p,strict:o})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,u){return r(c,u,s)}}var by=nn(),S9=nn({strict:!0}),E9=nn({circular:!0}),w9=nn({circular:!0,strict:!0}),T9=nn({createInternalComparator:function(){return Ii}}),I9=nn({strict:!0,createInternalComparator:function(){return Ii}}),$9=nn({circular:!0,createInternalComparator:function(){return Ii}}),R9=nn({circular:!0,createInternalComparator:function(){return Ii},strict:!0});function nn(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=iI(t),c=nI(a),u=n?n(c):oI(c);return sI({circular:r,comparator:c,createState:i,equals:u,strict:s})}function Ht(t){var e,r,n;if(Array.isArray(t)){for(r=Array(e=t.length);e--;)r[e]=(n=t[e])&&typeof n=="object"?Ht(n):n;return r}if(Object.prototype.toString.call(t)==="[object Object]"){r={};for(e in t)e==="__proto__"?Object.defineProperty(r,e,{value:Ht(t[e]),configurable:!0,enumerable:!0,writable:!0}):r[e]=(n=t[e])&&typeof n=="object"?Ht(n):n;return r}return t}var Ur=jr(Ey());function Yl(t,e=!1){let r=aI(t);return e||!r.stack?r.message:`${r.message}, ${r.stack}`}function aI(t){let e,r;if(typeof t=="string")e=t;else if(t===null)e="null";else if(t===void 0)e="undefined";else if(t&&typeof t=="object")if(typeof t.error=="object"&&t.error.message)e=t.error.message,r=t.error.stack;else if(t.reason)t.reason.message?(e=t.reason.message,r=t.reason.stack||t.reason.reason):(e=t.reason,r=t.stack);else if(t.message)e=t.message,r=t.stack;else if(t.details)e=t.details;else try{e=JSON.stringify(t)}catch(n){e=`${t} (stringifyError: ${n})`}else e=`${t}`;return e=`${e}`,{message:e,stack:r}}var kb=jr(Uf()),Cb=jr(Cv()),xb=jr(tb()),Ab=jr(mb()),qs=jr(Ib()),FA=jr(Ob());var Jc={allErrors:!0,verbose:!0,strict:"log"},gn={draft04:(0,qs.default)(new Cb.default(Jc)),draft07:(0,qs.default)(new kb.default(Jc)),"draft2019-09":(0,qs.default)(new xb.default(Jc)),"draft2020-12":(0,qs.default)(new Ab.default(Jc))};function Pb(t){let e=Mb(t);if(e.includes("draft-04"))return gn.draft04.compile(t);if(e.includes("draft-07"))return gn.draft07.compile(t);if(e.includes("draft/2019-09"))return gn["draft2019-09"].compile(t);if(e.includes("draft/2020-12"))return gn["draft2020-12"].compile(t);throw new Error(`Unsupported JSON Schema version "${e}"`)}function Nb(t,e){let r=Mb(t);if(r.includes("draft-04"))return gn.draft04.errorsText(e).replace(/^data\//gm,"");if(r.includes("draft-07"))return gn.draft07.errorsText(e).replace(/^data\//gm,"");if(r.includes("draft/2019-09"))return gn["draft2019-09"].errorsText(e).replace(/^data\//gm,"");if(r.includes("draft/2020-12"))return gn["draft2020-12"].errorsText(e).replace(/^data\//gm,"");throw new Error(`Unsupported JSON Schema version "${r}"`)}function Mb(t){let e="https://json-schema.org/draft-04/schema",r=t.$schema;return typeof r=="string"?r:e}function Ki(){return typeof globalThis.window!="undefined"}var Xc=class extends Ti{constructor(r,n,i={}){super();this.revision=0;this.status="undeclared";this.validationErrors=[];this._operationQueue=[];this._pendingOperationFlush=!1;this.validate=()=>!0;if(!r||typeof r!="string")throw new Error("Must supply a name when instantiating a Replicant");if(!n||typeof n!="string")throw new Error("Must supply a namespace when instantiating a Replicant");typeof i.persistent=="undefined"&&(i.persistent=!0),typeof i.persistenceInterval=="undefined"&&(i.persistenceInterval=qA),this.name=r,this.namespace=n,this.opts=i;let o=this.once.bind(this);this.once=(s,a)=>{if(s==="change"&&this.status==="declared"){a(this.value);return}return o(s,a)},this.on("newListener",(s,a)=>{s==="change"&&this.status==="declared"&&a(this.value)})}_applyOperation(r){Lb(this);let n,i=Bs(r.path);if(Db.includes(r.method)){if(typeof this.value!="object"||this.value===null)throw new Error(`expected replicant "${this.namespace}:${this.name}" to have a value with type "object", got "${typeof this.value}" instead`);let o=Ur.default.get(this.value,i);if(!Array.isArray(o))throw new Error(`expected to find an array in replicant "${this.namespace}:${this.name}" at path "${r.path}"`);n=o[r.method].apply(o,"args"in r&&"mutatorArgs"in r.args?r.args.mutatorArgs:[]),yn(this,o,r.path)}else switch(r.method){case"overwrite":{let{newValue:o}=r.args;this[Ki()?"value":"_value"]=yn(this,o,r.path),n=!0;break}case"add":case"update":{i.push(r.args.prop);let{newValue:o}=r.args;typeof o=="object"&&(o=yn(this,o,HA(i))),n=Ur.default.set(this.value,i,o);break}case"delete":if(i.length===0||Ur.default.has(this.value,i)){let o=Ur.default.get(this.value,i);n=delete o[r.args.prop]}break;default:throw new Error(`Unexpected operation method "${r.method}"`)}return jb(this),n}_generateValidator(){let{schema:r}=this;if(!r)throw new Error("can't generate a validator for a replicant which lacks a schema");let n;try{n=Pb(r)}catch(i){throw new Error(`Error compiling JSON Schema for Replicant "${this.namespace}:${this.name}":
	${Yl(i)}`)}return function(i=this.value,{throwOnInvalid:o=!0}={}){let s=n(i);if(!s&&(this.validationErrors=n.errors,o))throw new Error(`Invalid value rejected for replicant "${this.name}" in namespace "${this.namespace}":
${Nb(r,n.errors)}`);return s}}},$p=new WeakMap,Hr=new WeakMap,Rp=new WeakSet,Op=new WeakSet,Db=["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"],qA=100;function Lb(t){Op.add(t)}function jb(t){Op.delete(t)}function Yi(t){return Op.has(t)}var Fb=function(t,e){let r=Hr.get(t);if(!r)throw new Error("arrived at delete trap without any metadata");let{replicant:n}=r;if(Yi(n))return delete t[e];if(!{}.hasOwnProperty.call(t,e))return!0;if(n.schema){let i=Ht(n.value),o=Ur.default.get(i,Bs(r.path));delete o[e],n.validate(i)}if(n._addOperation({path:r.path,method:"delete",args:{prop:e}}),!Ki())return delete t[e]},BA={get(t,e){let r=Hr.get(t);if(!r)throw new Error("arrived at get trap without any metadata");let{replicant:n}=r;return Yi(n)?t[e]:{}.hasOwnProperty.call(Array.prototype,e)&&typeof Array.prototype[e]=="function"&&t[e]===Array.prototype[e]&&Db.includes(e)?(...i)=>{if(n.schema){let o=Ht(n.value),s=Ur.default.get(o,Bs(r.path));s[e].apply(s,i),n.validate(o)}if(Ki())r.replicant._addOperation({path:r.path,method:e,args:{mutatorArgs:Array.prototype.slice.call(i)}});else{Lb(n),r.replicant._addOperation({path:r.path,method:e,args:{mutatorArgs:Array.prototype.slice.call(i)}});let o=t[e].apply(t,i);return jb(n),yn(n,t,r.path),o}}:t[e]},set(t,e,r){if(t[e]===r)return!0;let n=Hr.get(t);if(!n)throw new Error("arrived at set trap without any metadata");let{replicant:i}=n;if(Yi(i))return t[e]=r,!0;if(i.schema){let o=Ht(i.value),s=Ur.default.get(o,Bs(n.path));s[e]=r,i.validate(o)}return{}.hasOwnProperty.call(t,e)?i._addOperation({path:n.path,method:"update",args:{prop:e,newValue:r}}):i._addOperation({path:n.path,method:"add",args:{prop:e,newValue:r}}),Ki()||(t[e]=yn(n.replicant,r,kp(n.path,e))),!0},deleteProperty:Fb},UA={get(t,e){let r=t[e],n=Object.prototype.toString.call(r);return e!=="constructor"&&(n==="[object Function]"||n==="[object AsyncFunction]"||n==="[object GeneratorFunction]")?r.bind(t):r},set(t,e,r){if(t[e]===r)return!0;let n=Hr.get(t);if(!n)throw new Error("arrived at set trap without any metadata");let{replicant:i}=n;if(Yi(i))return t[e]=r,!0;if(i.schema){let o=Ht(i.value),s=Ur.default.get(o,Bs(n.path));s[e]=r,i.validate(o)}return{}.hasOwnProperty.call(t,e)?i._addOperation({path:n.path,method:"update",args:{prop:e,newValue:r}}):i._addOperation({path:n.path,method:"add",args:{prop:e,newValue:r}}),Ki()||(t[e]=yn(n.replicant,r,kp(n.path,e))),!0},deleteProperty:Fb};function yn(t,e,r){if(typeof e=="object"&&e!==null){let n;if(GA(t,e),Rp.has(e)){n=e;let i=$p.get(e);i.path=r}else if(Hr.has(e)){let i=Hr.get(e);if(!i)throw new Error("metadata unexpectedly not found");n=i.proxy,i.path=r}else{let i=Array.isArray(e)?BA:UA;n=new Proxy(e,i),Rp.add(n);let o={replicant:t,path:r,proxy:n};Hr.set(e,o),$p.set(n,o)}for(let i in e){if(!{}.hasOwnProperty.call(e,i))continue;let o=i.replace(/\//g,"~1");if(r){let s=kp(r,o);e[i]=yn(t,e[i],s)}else e[i]=yn(t,e[i],o)}return n}return e}function kp(t,e){return t.endsWith("/")?`${t}${e}`:`${t}/${e}`}function Bs(t){let e=t.substr(1).split("/").map(r=>r.replace(/~1/g,"/"));return e.length===1&&e[0]===""?[]:e}function HA(t){let e=t.join("/");return e.startsWith("/")?e:`/${e}`}function GA(t,e){let r;if(Rp.has(e))r=$p.get(e);else if(Hr.has(e))r=Hr.get(e);else return;if(r.replicant!==t)throw new Error(`This object belongs to another Replicant, ${r.replicant.namespace}::${r.replicant.name}.
A given object cannot belong to multiple Replicants. Object value:
${JSON.stringify(e,null,2)}`)}var rg={};Wl(rg,{Breadcrumbs:()=>_o,BrowserClient:()=>mo,BrowserProfilingIntegration:()=>Iw,BrowserTracing:()=>xa,Dedupe:()=>So,Feedback:()=>Va,FunctionToString:()=>Ea,GlobalHandlers:()=>go,HttpContext:()=>bo,Hub:()=>Zn,InboundFilters:()=>wa,Integrations:()=>iF,LinkedErrors:()=>vo,ModuleMetadata:()=>Ym,Replay:()=>Ua,SDK_VERSION:()=>_n,Scope:()=>er,TryCatch:()=>yo,WINDOW:()=>D,addBreadcrumb:()=>jt,addEventProcessor:()=>Sa,addGlobalEventProcessor:()=>da,addIntegration:()=>Fm,addTracingExtensions:()=>ya,captureEvent:()=>po,captureException:()=>vn,captureMessage:()=>hm,captureUserFeedback:()=>ES,chromeStackLineParser:()=>rh,close:()=>Tm,configureScope:()=>gm,continueTrace:()=>xm,createTransport:()=>ri,createUserFeedbackEnvelope:()=>Pu,defaultIntegrations:()=>sh,defaultRequestInstrumentationOptions:()=>oi,defaultStackLineParsers:()=>oh,defaultStackParser:()=>Du,eventFromException:()=>Cu,eventFromMessage:()=>xu,exceptionFromError:()=>Ta,extractTraceparentData:()=>fm,flush:()=>wm,forceLoad:()=>vS,geckoStackLineParser:()=>nh,getActiveSpan:()=>Su,getActiveTransaction:()=>Ct,getClient:()=>H,getCurrentHub:()=>X,getCurrentScope:()=>Ve,getHubFromCarrier:()=>so,init:()=>yS,instrumentOutgoingRequests:()=>Ca,lastEventId:()=>Im,makeBrowserOfflineTransport:()=>aw,makeFetchTransport:()=>Nu,makeMain:()=>pa,makeMultiplexedTransport:()=>Wm,makeXHRTransport:()=>Mu,metrics:()=>Jm,onLoad:()=>bS,onProfilingStartRouteTransaction:()=>ww,opera10StackLineParser:()=>Q0,opera11StackLineParser:()=>eS,setContext:()=>ga,setExtra:()=>_m,setExtras:()=>ym,setMeasurement:()=>Nm,setTag:()=>bm,setTags:()=>vm,setUser:()=>Sm,showReportDialog:()=>_S,spanStatusfromHttpCode:()=>vu,startInactiveSpan:()=>Cm,startSpan:()=>Om,startSpanManual:()=>km,startTransaction:()=>Em,trace:()=>Rm,winjsStackLineParser:()=>ih,withScope:()=>Er,wrap:()=>SS});var qb=Object.prototype.toString;function Us(t){switch(qb.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Mt(t,Error)}}function Ji(t,e){return qb.call(t)===`[object ${e}]`}function Xi(t){return Ji(t,"ErrorEvent")}function Zc(t){return Ji(t,"DOMError")}function Cp(t){return Ji(t,"DOMException")}function pt(t){return Ji(t,"String")}function Gn(t){return t===null||typeof t!="object"&&typeof t!="function"}function ar(t){return Ji(t,"Object")}function Vn(t){return typeof Event!="undefined"&&Mt(t,Event)}function xp(t){return typeof Element!="undefined"&&Mt(t,Element)}function Ap(t){return Ji(t,"RegExp")}function Yt(t){return!!(t&&t.then&&typeof t.then=="function")}function Pp(t){return ar(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Hs(t){return typeof t=="number"&&t!==t}function Mt(t,e){try{return t instanceof e}catch(r){return!1}}function Gs(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function br(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Qc(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let i=t[n];try{Gs(i)?r.push("[VueViewModel]"):r.push(String(i))}catch(o){r.push("[value cannot be serialized]")}}return r.join(e)}function Bb(t,e,r=!1){return pt(t)?Ap(e)?e.test(t):pt(e)?r?t===e:t.includes(e):!1:!1}function Sr(t,e=[],r=!1){return e.some(n=>Bb(t,n,r))}function Vs(t,e,r=250,n,i,o,s){if(!o.exception||!o.exception.values||!s||!Mt(s.originalException,Error))return;let a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=VA(Np(t,e,i,s.originalException,n,o.exception.values,a,0),r))}function Np(t,e,r,n,i,o,s,a){if(o.length>=r+1)return o;let c=[...o];if(Mt(n[i],Error)){Ub(s,a);let u=t(e,n[i]),l=c.length;Hb(u,i,l,a),c=Np(t,e,r,n[i],i,[u,...c],u,l)}return Array.isArray(n.errors)&&n.errors.forEach((u,l)=>{if(Mt(u,Error)){Ub(s,a);let d=t(e,u),f=c.length;Hb(d,`errors[${l}]`,f,a),c=Np(t,e,r,u,i,[d,...c],d,f)}}),c}function Ub(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=C(g({},t.mechanism),{is_exception_group:!0,exception_id:e})}function Hb(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism=C(g({},t.mechanism),{type:"chained",source:e,exception_id:r,parent_id:n})}function VA(t,e){return t.map(r=>(r.value&&(r.value=br(r.value,e)),r))}function eu(t){return t&&t.Math==Math?t:void 0}var j=typeof globalThis=="object"&&eu(globalThis)||typeof window=="object"&&eu(window)||typeof self=="object"&&eu(self)||typeof global=="object"&&eu(global)||function(){return this}()||{};function Gr(){return j}function zs(t,e,r){let n=r||j,i=n.__SENTRY__=n.__SENTRY__||{};return i[t]||(i[t]=e())}var Zi=Gr(),zA=80;function Jt(t,e={}){if(!t)return"<unknown>";try{let r=t,n=5,i=[],o=0,s=0,a=" > ",c=a.length,u,l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||zA;for(;r&&o++<n&&(u=WA(r,l),!(u==="html"||o>1&&s+i.length*c+u.length>=d));)i.push(u),s+=u.length,r=r.parentNode;return i.reverse().join(a)}catch(r){return"<unknown>"}}function WA(t,e){let r=t,n=[],i,o,s,a,c;if(!r||!r.tagName)return"";if(Zi.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());let u=e&&e.length?e.filter(d=>r.getAttribute(d)).map(d=>[d,r.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{n.push(`[${d[0]}="${d[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&pt(i))for(o=i.split(/\s+/),c=0;c<o.length;c++)n.push(`.${o[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)s=l[c],a=r.getAttribute(s),a&&n.push(`[${s}="${a}"]`);return n.join("")}function Ws(){try{return Zi.document.location.href}catch(t){return""}}function Mp(t){return Zi.document&&Zi.document.querySelector?Zi.document.querySelector(t):null}function Ks(t){if(!Zi.HTMLElement)return null;let e=t,r=5;for(let n=0;n<r;n++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}var Xt=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var KA="Sentry Logger ",Ys=["debug","info","warn","error","log","assert","trace"],Qi={};function Zt(t){if(!("console"in j))return t();let e=j.console,r={},n=Object.keys(Qi);n.forEach(i=>{let o=Qi[i];r[i]=e[i],e[i]=o});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function YA(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Xt?Ys.forEach(r=>{e[r]=(...n)=>{t&&Zt(()=>{j.console[r](`${KA}[${r}]:`,...n)})}}):Ys.forEach(r=>{e[r]=()=>{}}),e}var S=YA();var JA=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function XA(t){return t==="http"||t==="https"}function Dt(t,e=!1){let{host:r,path:n,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n&&`${n}/`}${s}`}function tu(t){let e=JA.exec(t);if(!e){Zt(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,n,i="",o,s="",a]=e.slice(1),c="",u=a,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let d=u.match(/^\d+/);d&&(u=d[0])}return Gb({host:o,pass:i,path:c,projectId:u,port:s,protocol:r,publicKey:n})}function Gb(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ZA(t){if(!Xt)return!0;let{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(S.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:r.match(/^\d+$/)?XA(n)?e&&isNaN(parseInt(e,10))?(S.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(S.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(S.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function Js(t){let e=typeof t=="string"?tu(t):Gb(t);if(!(!e||!ZA(e)))return e}var mt=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};function Re(t,e,r){if(!(e in t))return;let n=t[e],i=r(n);typeof i=="function"&&ru(i,n),t[e]=i}function Vr(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch(n){Xt&&S.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function ru(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,Vr(t,"__sentry_original__",e)}catch(r){}}function zn(t){return t.__sentry_original__}function Lp(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function nu(t){if(Us(t))return g({message:t.message,name:t.name,stack:t.stack},zb(t));if(Vn(t)){let e=g({type:t.type,target:Vb(t.target),currentTarget:Vb(t.currentTarget)},zb(t));return typeof CustomEvent!="undefined"&&Mt(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Vb(t){try{return xp(t)?Jt(t):Object.prototype.toString.call(t)}catch(e){return"<unknown>"}}function zb(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function jp(t,e=40){let r=Object.keys(nu(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return br(r[0],e);for(let n=r.length;n>0;n--){let i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:br(i,e)}return""}function Ge(t){return Dp(t,new Map)}function Dp(t,e){if(ar(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.keys(t))typeof t[i]!="undefined"&&(n[i]=Dp(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(Dp(i,e))}),n}return t}var Yb=50,Wb=/\(error: (.*)\)/,Kb=/captureMessage|captureException/;function iu(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{let i=[],o=r.split(`
`);for(let s=n;s<o.length;s++){let a=o[s];if(a.length>1024)continue;let c=Wb.test(a)?a.replace(Wb,"$1"):a;if(!c.match(/\S*Error: /)){for(let u of e){let l=u(c);if(l){i.push(l);break}}if(i.length>=Yb)break}}return Jb(i)}}function qp(t){return Array.isArray(t)?iu(...t):t}function Jb(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Kb.test(e[e.length-1].function||"")&&(e.pop(),Kb.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,Yb).map(r=>C(g({},r),{filename:r.filename||e[e.length-1].filename,function:r.function||"?"}))}var Fp="<anonymous>";function It(t){try{return!t||typeof t!="function"?Fp:t.name||Fp}catch(e){return Fp}}var ou={},Xb={};function $t(t,e){ou[t]=ou[t]||[],ou[t].push(e)}function Rt(t,e){Xb[t]||(e(),Xb[t]=!0)}function rt(t,e){let r=t&&ou[t];if(r)for(let n of r)try{n(e)}catch(i){Xt&&S.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${It(n)}
Error:`,i)}}function Bp(t){let e="console";$t(e,t),Rt(e,QA)}function QA(){"console"in j&&Ys.forEach(function(t){t in j.console&&Re(j.console,t,function(e){return Qi[t]=e,function(...r){rt("console",{args:r,level:t});let i=Qi[t];i&&i.apply(j.console,r)}})})}function ge(){let t=j,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Zb(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function cr(t){let{message:e,event_id:r}=t;if(e)return e;let n=Zb(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function eo(t,e,r){let n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=r||"Error")}function zr(t,e){let r=Zb(t);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism=g(g(g({},n),i),e),e&&"data"in e){let o=g(g({},i&&i.data),e.data);r.mechanism.data=o}}function su(t){if(t&&t.__sentry_captured__)return!0;try{Vr(t,"__sentry_captured__",!0)}catch(e){}return!1}function Xs(t){return Array.isArray(t)?t:[t]}var to=j,eP=1e3,Qb,Up,Hp;function Zs(t){let e="dom";$t(e,t),Rt(e,tP)}function tP(){if(!to.document)return;let t=rt.bind(null,"dom"),e=e0(t,!0);to.document.addEventListener("click",e,!1),to.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let n=to[r]&&to[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Re(n,"addEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[o]=u[o]||{refCount:0};if(!l.handler){let d=e0(t);l.handler=d,i.call(this,o,d,a)}l.refCount++}catch(c){}return i.call(this,o,s,a)}}),Re(n,"removeEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[o];l&&(l.refCount--,l.refCount<=0&&(i.call(this,o,l.handler,a),l.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return i.call(this,o,s,a)}}))})}function rP(t){if(t.type!==Up)return!1;try{if(!t.target||t.target._sentryId!==Hp)return!1}catch(e){}return!0}function nP(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function e0(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let n=iP(r);if(nP(r.type,n))return;Vr(r,"_sentryCaptured",!0),n&&!n._sentryId&&Vr(n,"_sentryId",ge());let i=r.type==="keypress"?"input":r.type;rP(r)||(t({event:r,name:i,global:e}),Up=r.type,Hp=n?n._sentryId:void 0),clearTimeout(Qb),Qb=to.setTimeout(()=>{Hp=void 0,Up=void 0},eP)}}function iP(t){try{return t.target}catch(e){return null}}var Gp=Gr();function au(){if(!("fetch"in Gp))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function Qs(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Vp(){if(typeof EdgeRuntime=="string")return!0;if(!au())return!1;if(Qs(Gp.fetch))return!0;let t=!1,e=Gp.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Qs(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){Xt&&S.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function Wn(t){let e="fetch";$t(e,t),Rt(e,oP)}function oP(){Vp()&&Re(j,"fetch",function(t){return function(...e){let{method:r,url:n}=sP(e),i={args:e,fetchData:{method:r,url:n},startTimestamp:Date.now()};return rt("fetch",g({},i)),t.apply(j,e).then(o=>{let s=C(g({},i),{endTimestamp:Date.now(),response:o});return rt("fetch",s),o},o=>{let s=C(g({},i),{endTimestamp:Date.now(),error:o});throw rt("fetch",s),o})}})}function zp(t,e){return!!t&&typeof t=="object"&&!!t[e]}function t0(t){return typeof t=="string"?t:t?zp(t,"url")?t.url:t.toString?t.toString():"":""}function sP(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,n]=t;return{url:t0(r),method:zp(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:t0(e),method:zp(e,"method")?String(e.method).toUpperCase():"GET"}}var cu=null;function ea(t){let e="error";$t(e,t),Rt(e,aP)}function aP(){cu=j.onerror,j.onerror=function(t,e,r,n,i){return rt("error",{column:n,error:i,line:r,msg:t,url:e}),cu&&!cu.__SENTRY_LOADER__?cu.apply(this,arguments):!1},j.onerror.__SENTRY_INSTRUMENTED__=!0}var uu=null;function ta(t){let e="unhandledrejection";$t(e,t),Rt(e,cP)}function cP(){uu=j.onunhandledrejection,j.onunhandledrejection=function(t){return rt("unhandledrejection",t),uu&&!uu.__SENTRY_LOADER__?uu.apply(this,arguments):!0},j.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var lu=Gr();function r0(){let t=lu.chrome,e=t&&t.app&&t.app.runtime,r="history"in lu&&!!lu.history.pushState&&!!lu.history.replaceState;return!e&&r}var ra=j,du;function Wr(t){let e="history";$t(e,t),Rt(e,uP)}function uP(){if(!r0())return;let t=ra.onpopstate;ra.onpopstate=function(...r){let n=ra.location.href,i=du;if(du=n,rt("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch(s){}};function e(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let o=du,s=String(i);du=s,rt("history",{from:o,to:s})}return r.apply(this,n)}}Re(ra.history,"pushState",e),Re(ra.history,"replaceState",e)}var lP=j,Qt="__sentry_xhr_v3__";function Kn(t){let e="xhr";$t(e,t),Rt(e,dP)}function dP(){if(!lP.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;Re(t,"open",function(e){return function(...r){let n=Date.now(),i=pt(r[0])?r[0].toUpperCase():void 0,o=fP(r[1]);if(!i||!o)return e.apply(this,r);this[Qt]={method:i,url:o,request_headers:{}},i==="POST"&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let a=this[Qt];if(a&&this.readyState===4){try{a.status_code=this.status}catch(u){}let c={args:[i,o],endTimestamp:Date.now(),startTimestamp:n,xhr:this};rt("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Re(this,"onreadystatechange",function(a){return function(...c){return s(),a.apply(this,c)}}):this.addEventListener("readystatechange",s),Re(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,d=this[Qt];return d&&pt(u)&&pt(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),e.apply(this,r)}}),Re(t,"send",function(e){return function(...r){let n=this[Qt];if(!n)return e.apply(this,r);r[0]!==void 0&&(n.body=r[0]);let i={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return rt("xhr",i),e.apply(this,r)}})}function fP(t){if(pt(t))return t;try{return t.toString()}catch(e){}}function Wp(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function Kp(){return"npm"}function fu(){return!Wp()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function n0(t,e){return t.require(e)}function ro(){return typeof window!="undefined"&&(!fu()||pP())}function pP(){return j.process!==void 0&&j.process.type==="renderer"}function i0(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[r,n]}function Ot(t,e=100,r=1/0){try{return pu("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function mu(t,e=3,r=100*1024){let n=Ot(t,e);return yP(n)>r?mu(t,e-1,r):n}function pu(t,e,r=1/0,n=1/0,i=i0()){let[o,s]=i;if(e==null||["number","boolean","string"].includes(typeof e)&&!Hs(e))return e;let a=mP(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;let c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(o(e))return"[Circular ~]";let u=e;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return pu("",p,c-1,n,i)}catch(p){}let l=Array.isArray(e)?[]:{},d=0,f=nu(e);for(let p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=n){l[p]="[MaxProperties ~]";break}let m=f[p];l[p]=pu(p,m,c-1,n,i),d++}return s(e),l}function mP(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&e===global)return"[Global]";if(typeof window!="undefined"&&e===window)return"[Window]";if(typeof document!="undefined"&&e===document)return"[Document]";if(Gs(e))return"[VueViewModel]";if(Pp(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${It(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=hP(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function hP(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function gP(t){return~-encodeURI(t).split(/%..|./).length}function yP(t){return gP(JSON.stringify(t))}var Kr;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(Kr||(Kr={}));function ur(t){return new Lt(e=>{e(t)})}function Yn(t){return new Lt((e,r)=>{r(t)})}var Lt=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=Kr.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(s){i(s)}},o=>{if(!r)i(o);else try{n(r(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,o;return this.then(s=>{o=!1,i=s,e&&e()},s=>{o=!0,i=s,e&&e()}).then(()=>{if(o){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(Kr.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Kr.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===Kr.PENDING){if(Yt(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Kr.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Kr.RESOLVED&&r[1](this._value),this._state===Kr.REJECTED&&r[2](this._value),r[0]=!0)})}}};function Yp(t){let e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]}function i(s){if(!r())return Yn(new mt("Not adding Promise because buffer limit was reached."));let a=s();return e.indexOf(a)===-1&&e.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function o(s){return new Lt((a,c)=>{let u=e.length;if(!u)return a(!0);let l=setTimeout(()=>{s&&s>0&&a(!1)},s);e.forEach(d=>{ur(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:e,add:i,drain:o}}function na(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}var o0=["fatal","error","warning","log","info","debug"];function Jp(t){return t==="warn"?"warning":o0.includes(t)?t:"log"}var a0=Gr(),Zp={nowSeconds:()=>Date.now()/1e3};function _P(){let{performance:t}=a0;if(!t||!t.now)return;let e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function vP(){try{return n0(module,"perf_hooks").performance}catch(t){return}}var Xp=fu()?vP():_P(),s0=Xp===void 0?Zp:{nowSeconds:()=>(Xp.timeOrigin+Xp.now())/1e3},Yr=Zp.nowSeconds.bind(Zp),lt=s0.nowSeconds.bind(s0);var ia,Je=(()=>{let{performance:t}=a0;if(!t||!t.now){ia="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=i<e,s=t.timing&&t.timing.navigationStart,c=typeof s=="number"?Math.abs(s+r-n):e,u=c<e;return o||u?i<=c?(ia="timeOrigin",t.timeOrigin):(ia="navigationStart",s):(ia="dateNow",n)})();var no="baggage",Qp="sentry-",u0=/^sentry-/,l0=8192;function em(t){if(!pt(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((n,i)=>{let o=c0(i);return g(g({},n),o)},{});else{if(!t)return;e=c0(t)}let r=Object.entries(e).reduce((n,[i,o])=>{if(i.match(u0)){let s=i.slice(Qp.length);n[s]=o}return n},{});if(Object.keys(r).length>0)return r}function io(t){if(!t)return;let e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${Qp}${n}`]=i),r),{});return bP(e)}function c0(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(e[r]=n,e),{})}function bP(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{let o=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,s=i===0?o:`${e},${o}`;return s.length>l0?(Xt&&S.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s},"")}var d0=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function hu(t){if(!t)return;let e=t.match(d0);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function oa(t,e){let r=hu(t),n=em(e),{traceId:i,parentSpanId:o,parentSampled:s}=r||{},a={traceId:i||ge(),spanId:ge().substring(16),sampled:s};return o&&(a.parentSpanId=o),n&&(a.dsc=n),{traceparentData:r,dynamicSamplingContext:n,propagationContext:a}}function Jn(t=ge(),e=ge().substring(16),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}function kt(t,e=[]){return[t,e]}function rm(t,e){let[r,n]=t;return[r,[...n,e]]}function lr(t,e){let r=t[1];for(let n of r){let i=n[0].type;if(e(n,i))return!0}return!1}function nm(t,e){return lr(t,(r,n)=>e.includes(n))}function tm(t,e){return(e||new TextEncoder).encode(t)}function sa(t,e){let[r,n]=t,i=JSON.stringify(r);function o(s){typeof i=="string"?i=typeof s=="string"?i+s:[tm(i,e),s]:i.push(typeof s=="string"?tm(s,e):s)}for(let s of n){let[a,c]=s;if(o(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)o(c);else{let u;try{u=JSON.stringify(c)}catch(l){u=JSON.stringify(Ot(c))}o(u)}}return typeof i=="string"?i:SP(i)}function SP(t){let e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}function im(t,e,r){let n=typeof t=="string"?e.encode(t):t;function i(c){let u=n.subarray(0,c);return n=n.subarray(c+1),u}function o(){let c=n.indexOf(10);return c<0&&(c=n.length),JSON.parse(r.decode(i(c)))}let s=o(),a=[];for(;n.length;){let c=o(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?i(u):o()])}return[s,a]}function om(t,e){let r=typeof t.data=="string"?tm(t.data,e):t.data;return[Ge({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var EP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function gu(t){return EP[t]}function oo(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function aa(t,e,r,n){let i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return g(g(g({event_id:t.event_id,sent_at:new Date().toISOString()},e&&{sdk:e}),!!r&&n&&{dsn:Dt(n)}),i&&{trace:Ge(g({},i))})}function sm(t,e,r){let n=[{type:"client_report"},{timestamp:r||Yr(),discarded_events:t}];return kt(e?{dsn:e}:{},[n])}function yu(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}function f0(t,e){return t[e]||t.all||0}function ca(t,e,r=Date.now()){return f0(t,e)>r}function ua(t,{statusCode:e,headers:r},n=Date.now()){let i=g({},t),o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(let a of o.trim().split(",")){let[c,u]=a.split(":",2),l=parseInt(c,10),d=(isNaN(l)?60:l)*1e3;if(!u)i.all=n+d;else for(let f of u.split(";"))i[f]=n+d}else s?i.all=n+yu(s,n):e===429&&(i.all=n+60*1e3);return i}function p0(t,e){return t(e.stack||"",1)}function am(t,e){let r={type:e.name||e.constructor.name,value:e.message},n=p0(t,e);return n.length&&(r.stacktrace={frames:n}),r}var A=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var Jr="production";function la(){return zs("globalEventProcessors",()=>[])}function da(t){la().push(t)}function Xn(t,e,r,n=0){return new Lt((i,o)=>{let s=t[n];if(e===null||typeof s!="function")i(e);else{let a=s(g({},e),r);A&&s.id&&a===null&&S.log(`Event processor "${s.id}" dropped event`),Yt(a)?a.then(c=>Xn(t,c,r,n+1).then(i)).then(null,o):Xn(t,a,r,n+1).then(i).then(null,o)}})}function m0(t){let e=lt(),r={sid:ge(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>wP(r)};return t&&Xr(r,t),r}function Xr(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||lt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:ge()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function h0(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Xr(t,r)}function wP(t){return Ge({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}function _u(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:o,propagationContext:s}=e;TP(t,e),n&&RP(t,n),OP(t,r),IP(t,i),$P(t,o,s)}function cm(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:p,span:m}=e;fa(t,"extra",r),fa(t,"tags",n),fa(t,"user",i),fa(t,"contexts",o),fa(t,"sdkProcessingMetadata",a),s&&(t.level=s),p&&(t.transactionName=p),m&&(t.span=m),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext=g(g({},t.propagationContext),f)}function fa(t,e,r){r&&Object.keys(r).length&&(t[e]=g(g({},t[e]),r))}function TP(t,e){let{extra:r,tags:n,user:i,contexts:o,level:s,transactionName:a}=e;r&&Object.keys(r).length&&(t.extra=g(g({},r),t.extra)),n&&Object.keys(n).length&&(t.tags=g(g({},n),t.tags)),i&&Object.keys(i).length&&(t.user=g(g({},i),t.user)),o&&Object.keys(o).length&&(t.contexts=g(g({},o),t.contexts)),s&&(t.level=s),a&&(t.transaction=a)}function IP(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function $P(t,e,r){t.sdkProcessingMetadata=C(g(g({},t.sdkProcessingMetadata),e),{propagationContext:r})}function RP(t,e){t.contexts=g({trace:e.getTraceContext()},t.contexts);let r=e.transaction;if(r){t.sdkProcessingMetadata=g({dynamicSamplingContext:r.getDynamicSamplingContext()},t.sdkProcessingMetadata);let n=r.name;n&&(t.tags=g({transaction:n},t.tags))}}function OP(t,e){t.fingerprint=t.fingerprint?Xs(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}var kP=100,um,er=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=g0()}static clone(e){return e?e.clone():new t}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags=g({},this._tags),e._extra=g({},this._extra),e._contexts=g({},this._contexts),e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata=g({},this._sdkProcessingMetadata),e._propagationContext=g({},this._propagationContext),e}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Xr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags=g(g({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,r){return this._tags=C(g({},this._tags),{[e]:r}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=g(g({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,r){return this._extra=C(g({},this._extra),{[e]:r}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){let r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=g(g({},this._tags),e._tags),this._extra=g(g({},this._extra),e._extra),this._contexts=g(g({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):ar(e)&&(e=e,this._tags=g(g({},this._tags),e.tags),this._extra=g(g({},this._extra),e.extra),this._contexts=g(g({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=g0(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:kP;if(n<=0)return this;let i=g({timestamp:Yr()},e),o=this._breadcrumbs;return o.push(i),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:r,_contexts:n,_tags:i,_extra:o,_user:s,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:f,_span:p}=this;return{breadcrumbs:e,attachments:r,contexts:n,tags:i,extra:o,user:s,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:f,span:p}}applyToEvent(e,r={},n=[]){_u(e,this.getScopeData());let i=[...n,...la(),...this._eventProcessors];return Xn(i,e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=g(g({},this._sdkProcessingMetadata),e),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function lm(){return um||(um=new er),um}function g0(){return{traceId:ge(),spanId:ge().substring(16)}}var _n="7.91.0";var y0=parseFloat(_n),CP=100,Zn=class{constructor(e,r=new er,n=new er,i=y0){this._version=i,this._stack=[{scope:r}],e&&this.bindClient(e),this._isolationScope=n}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope();try{return e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let n=this._lastEventId=r&&r.event_id?r.event_id:ge(),i=new Error("Sentry syntheticException");return this._withClient((o,s)=>{o.captureException(e,C(g({originalException:e,syntheticException:i},r),{event_id:n}),s)}),n}captureMessage(e,r,n){let i=this._lastEventId=n&&n.event_id?n.event_id:ge(),o=new Error(e);return this._withClient((s,a)=>{s.captureMessage(e,r,C(g({originalException:e,syntheticException:o},n),{event_id:i}),a)}),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:ge();return e.type||(this._lastEventId=n),this._withClient((i,o)=>{i.captureEvent(e,C(g({},r),{event_id:n}),o)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:n,client:i}=this.getStackTop();if(!i)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:s=CP}=i.getOptions&&i.getOptions()||{};if(s<=0)return;let a=Yr(),c=g({timestamp:a},e),u=o?Zt(()=>o(c,r)):c;u!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,s))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r)}configureScope(e){let{scope:r,client:n}=this.getStackTop();n&&e(r)}run(e){let r=pa(this);try{e(this)}finally{pa(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return A&&S.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){let n=this._callExtensionMethod("startTransaction",e,r);return A&&!n&&(this.getClient()?S.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):S.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&h0(n),this._sendSessionUpdate(),r.setSession()}startSession(e){let{scope:r,client:n}=this.getStackTop(),{release:i,environment:o=Jr}=n&&n.getOptions()||{},{userAgent:s}=j.navigator||{},a=m0(g(g({release:i,environment:o,user:r.getUser()},s&&{userAgent:s}),e)),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&Xr(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop(),n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(e){let{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){let i=Qn().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,r);A&&S.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Qn(){return j.__SENTRY__=j.__SENTRY__||{extensions:{},hub:void 0},j}function pa(t){let e=Qn(),r=so(e);return dm(e,t),r}function X(){let t=Qn();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return xP(t)}function ei(){return X().getIsolationScope()}function xP(t=Qn()){return(!AP(t)||so(t).isOlderThan(y0))&&dm(t,new Zn),so(t)}function AP(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function so(t){return zs("hub",()=>new Zn,t)}function dm(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}function Ct(t){return(t||X()).getScope().getTransaction()}var fm=hu;function ao(t){return t>9999999999?t/1e3:t}var _0=!1;function v0(){_0||(_0=!0,ea(pm),ta(pm))}function pm(){let t=Ct();if(t){let e="internal_error";A&&S.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}pm.tag="sentry_tracingErrorCallback";var co=class{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},ma=class t{constructor(e={}){this.traceId=e.traceId||ge(),this.spanId=e.spanId||ge().substring(16),this.startTimestamp=e.startTimestamp||lt(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}get name(){return this.description||""}set name(e){this.setName(e)}startChild(e){let r=new t(C(g({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,A&&r.transaction){let n=e&&e.op||"< unknown op >",i=r.transaction.name||"< unknown name >",o=r.transaction.spanId,s=`[Tracing] Starting '${n}' span on transaction '${i}' (${o}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:s},S.log(s)}return r}setTag(e,r){return this.tags=C(g({},this.tags),{[e]:r}),this}setData(e,r){return this.data=C(g({},this.data),{[e]:r}),this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);let r=vu(e);return r!=="unknown_error"&&this.setStatus(r),this}setName(e){this.description=e}isSuccess(){return this.status==="ok"}finish(e){return this.end(e)}end(e){if(A&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&S.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?ao(e):lt()}toTraceparent(){return Jn(this.traceId,this.spanId,this.sampled)}toContext(){return Ge({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return Ge({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return Ge({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}};function vu(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Zr(t,e,r){let n=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:o}=r&&r.getUser()||{},s=Ge({environment:n.environment||Jr,release:n.release,user_segment:o,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",s),s}var uo=class extends ma{constructor(e,r){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=r||X(),this._name=e.name||"",this.metadata=C(g({source:"custom"},e.metadata),{spanMetadata:{}}),this._trimEnd=e.trimEnd,this.transaction=this;let n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext=g({},n))}get name(){return this._name}set name(e){this.setName(e)}setName(e,r="custom"){this._name=e,this.metadata.source=r}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new co(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,n=""){this._measurements[e]={value:r,unit:n}}setMetadata(e){this.metadata=g(g({},this.metadata),e)}end(e){let r=typeof e=="number"?ao(e):lt(),n=this._finishTransaction(r);if(n)return this._hub.captureEvent(n)}toContext(){let e=super.toContext();return Ge(C(g({},e),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let e=this._hub||X(),r=e.getClient();if(!r)return{};let n=e.getScope(),i=Zr(this.traceId,r,n),o=this.metadata.sampleRate;o!==void 0&&(i.sample_rate=`${o}`);let s=this.metadata.source;return s&&s!=="url"&&(i.transaction=this.name),this.sampled!==void 0&&(i.sampled=String(this.sampled)),i}setHub(e){this._hub=e}_finishTransaction(e){if(this.endTimestamp!==void 0)return;this.name||(A&&S.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.end(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this.sampled!==!0){A&&S.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);let i=this.metadata,o=g({contexts:C(g({},this._contexts),{trace:this.getTraceContext()}),spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:C(g({},i),{dynamicSamplingContext:this.getDynamicSamplingContext()})},i.source&&{transaction_info:{source:i.source}});return Object.keys(this._measurements).length>0&&(A&&S.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),A&&S.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),o}};var fo={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},PP="finishReason",lo=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],mm=class extends co{constructor(e,r,n,i){super(i),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=n}add(e){if(e.spanId!==this.transactionSpanId){let r=e.end;e.end=(...n)=>(this._popActivity(e.spanId),r.apply(e,n)),e.endTimestamp===void 0&&this._pushActivity(e.spanId)}super.add(e)}},ha=class extends uo{constructor(e,r,n=fo.idleTimeout,i=fo.finalTimeout,o=fo.heartbeatInterval,s=!1){super(e,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=o,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=lo[4],s&&(A&&S.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=lo[3],this.end())},this._finalTimeout)}end(e=lt()){let r=ao(e);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(PP,this._finishReason),this.spanRecorder){A&&S.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);for(let n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=r,n.setStatus("cancelled"),A&&S.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));let i=n.startTimestamp<r,o=(this._finalTimeout+this._idleTimeout)/1e3,s=n.endTimestamp-this.startTimestamp<o;if(A){let a=JSON.stringify(n,void 0,2);i?s||S.log("[Tracing] discarding Span since it finished after Transaction final timeout",a):S.log("[Tracing] discarding Span since it happened after Transaction was finished",a)}return i&&s}),A&&S.log("[Tracing] flushing IdleTransaction")}else A&&S.log("[Tracing] No active IdleTransaction");if(this._onScope){let n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let r=i=>{this._finished||this._pushActivity(i)},n=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new mm(r,n,this.spanId,e),A&&S.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=lo[5],this.end(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=lo[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),A&&S.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,A&&S.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(A&&S.log(`[Tracing] popActivity ${e}`),delete this.activities[e],A&&S.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=lt();this._idleTimeoutCanceledPermanently?(this._finishReason=lo[5],this.end(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(A&&S.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=lo[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){A&&S.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function ti(t,e,r,n,i,o){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=t,c=C(g({},e),{event_id:e.event_id||r.event_id||ge(),timestamp:e.timestamp||Yr()}),u=r.integrations||t.integrations.map(b=>b.name);NP(c,t),LP(c,u),e.type===void 0&&MP(c,t.stackParser);let l=FP(n,r.captureContext);r.mechanism&&zr(c,r.mechanism);let d=i&&i.getEventProcessors?i.getEventProcessors():[],f=lm().getScopeData();if(o){let b=o.getScopeData();cm(f,b)}if(l){let b=l.getScopeData();cm(f,b)}let p=[...r.attachments||[],...f.attachments];p.length&&(r.attachments=p),_u(c,f);let m=[...d,...la(),...f.eventProcessors];return Xn(m,c,r).then(b=>(b&&DP(b),typeof s=="number"&&s>0?jP(b,s,a):b))}function NP(t,e){let{environment:r,release:n,dist:i,maxValueLength:o=250}=e;"environment"in t||(t.environment="environment"in e?r:Jr),t.release===void 0&&n!==void 0&&(t.release=n),t.dist===void 0&&i!==void 0&&(t.dist=i),t.message&&(t.message=br(t.message,o));let s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=br(s.value,o));let a=t.request;a&&a.url&&(a.url=br(a.url,o))}var b0=new WeakMap;function MP(t,e){let r=j._sentryDebugIds;if(!r)return;let n,i=b0.get(e);i?n=i:(n=new Map,b0.set(e,n));let o=Object.keys(r).reduce((s,a)=>{let c,u=n.get(a);u?c=u:(c=e(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){let d=c[l];if(d.filename){s[d.filename]=r[a];break}}return s},{});try{t.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})})}catch(s){}}function DP(t){let e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch(n){}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.keys(e).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:e[n]})})}function LP(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function jP(t,e,r){if(!t)return null;let n=g(g(g(g(g({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>g(g({},i),i.data&&{data:Ot(i.data,e,r)}))}),t.user&&{user:Ot(t.user,e,r)}),t.contexts&&{contexts:Ot(t.contexts,e,r)}),t.extra&&{extra:Ot(t.extra,e,r)});return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Ot(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>(i.data&&(i.data=Ot(i.data,e,r)),i))),n}function FP(t,e){if(!e)return t;let r=t?t.clone():new er;return r.update(e),r}function S0(t){if(t)return qP(t)?{captureContext:t}:UP(t)?{captureContext:t}:t}function qP(t){return t instanceof er||typeof t=="function"}var BP=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function UP(t){return Object.keys(t).some(e=>BP.includes(e))}function vn(t,e){return X().captureException(t,S0(e))}function hm(t,e){let r=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return X().captureMessage(t,r,n)}function po(t,e){return X().captureEvent(t,e)}function gm(t){X().configureScope(t)}function jt(t,e){X().addBreadcrumb(t,e)}function ga(t,e){X().setContext(t,e)}function ym(t){X().setExtras(t)}function _m(t,e){X().setExtra(t,e)}function vm(t){X().setTags(t)}function bm(t,e){X().setTag(t,e)}function Sm(t){X().setUser(t)}function Er(t){return X().withScope(t)}function Em(t,e){return X().startTransaction(g({},t),e)}function wm(t){return F(this,null,function*(){let e=H();return e?e.flush(t):(A&&S.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function Tm(t){return F(this,null,function*(){let e=H();return e?e.close(t):(A&&S.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function Im(){return X().lastEventId()}function H(){return X().getClient()}function Ve(){return X().getScope()}function wr(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=H(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function $m(t,e,r){if(!wr(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({sampleRate:Number(n)})):r.parentSampled!==void 0?n=r.parentSampled:typeof e.tracesSampleRate!="undefined"?(n=e.tracesSampleRate,t.setMetadata({sampleRate:Number(n)})):(n=1,t.setMetadata({sampleRate:n})),HP(n)?n?(t.sampled=Math.random()<n,t.sampled?(A&&S.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(A&&S.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):(A&&S.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(A&&S.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function HP(t){return Hs(t)||!(typeof t=="number"||typeof t=="boolean")?(A&&S.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(A&&S.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function GP(){let e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function VP(t,e){let r=this.getClient(),n=r&&r.getOptions()||{},i=n.instrumenter||"sentry",o=t.instrumenter||"sentry";i!==o&&(A&&S.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let s=new uo(t,this);return s=$m(s,n,g({parentSampled:t.parentSampled,transactionContext:t},e)),s.sampled&&s.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",s),s}function bu(t,e,r,n,i,o,s){let a=t.getClient(),c=a&&a.getOptions()||{},u=new ha(e,t,r,n,s,i);return u=$m(u,c,g({parentSampled:e.parentSampled,transactionContext:e},o)),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function ya(){let t=Qn();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=VP),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=GP),v0())}function Rm(t,e,r=()=>{},n=()=>{}){let i=Pm(t),o=X(),s=Ve(),a=s.getSpan(),c=Am(o,a,i);s.setSpan(c);function u(){c&&c.end(),s.setSpan(a)}let l;try{l=e(c)}catch(d){throw c&&c.setStatus("internal_error"),r(d,c),u(),n(),d}return Yt(l)?l.then(d=>(u(),n(),d),d=>{throw c&&c.setStatus("internal_error"),r(d,c),u(),n(),d}):(u(),n(),l)}function Om(t,e){let r=Pm(t);return Er(n=>{let i=X(),o=n.getSpan(),s=Am(i,o,r);n.setSpan(s);function a(){s&&s.end()}let c;try{c=e(s)}catch(u){throw s&&s.setStatus("internal_error"),a(),u}return Yt(c)?c.then(u=>(a(),u),u=>{throw s&&s.setStatus("internal_error"),a(),u}):(a(),c)})}function km(t,e){let r=Pm(t);return Er(n=>{let i=X(),o=n.getSpan(),s=Am(i,o,r);n.setSpan(s);function a(){s&&s.end()}let c;try{c=e(s,a)}catch(u){throw s&&s.setStatus("internal_error"),u}return Yt(c)?c.then(u=>u,u=>{throw s&&s.setStatus("internal_error"),u}):c})}function Cm(t){if(!wr())return;let e=g({},t);e.name!==void 0&&e.description===void 0&&(e.description=e.name);let r=X(),n=Su();return n?n.startChild(e):r.startTransaction(e)}function Su(){return Ve().getSpan()}function xm({sentryTrace:t,baggage:e},r){let n=Ve(),{traceparentData:i,dynamicSamplingContext:o,propagationContext:s}=oa(t,e);n.setPropagationContext(s),A&&i&&S.log(`[Tracing] Continuing trace ${i.traceId}.`);let a=C(g({},i),{metadata:Ge({dynamicSamplingContext:i&&!o?{}:o})});return r?r(a):a}function Am(t,e,r){if(wr())return e?e.startChild(r):t.startTransaction(r)}function Pm(t){let e=g({},t);return e.name!==void 0&&e.description===void 0&&(e.description=e.name),e}function Nm(t,e,r){let n=Ct();n&&n.setMeasurement(t,e,r)}function zP(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Mm(t,e,r,n){let i=oo(r),o=g(g({sent_at:new Date().toISOString()},i&&{sdk:i}),!!n&&e&&{dsn:Dt(e)}),s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return kt(o,[s])}function _a(t,e,r,n){let i=oo(r),o=t.type&&t.type!=="replay_event"?t.type:"event";zP(t,r&&r.sdk);let s=aa(t,i,n,e);return delete t.sdkProcessingMetadata,kt(s,[[{type:o},t]])}var WP="7";function E0(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function KP(t){return`${E0(t)}${t.projectId}/envelope/`}function YP(t,e){return Lp(g({sentry_key:t.publicKey,sentry_version:WP},e&&{sentry_client:`${e.name}/${e.version}`}))}function va(t,e={}){let r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${KP(t)}?${YP(t,n)}`}function Dm(t,e){let r=Js(t);if(!r)return"";let n=`${E0(r)}embed/error-page/`,i=`dsn=${Dt(r)}`;for(let o in e)if(o!=="dsn"&&o!=="onClose")if(o==="user"){let s=e.user;if(!s)continue;s.name&&(i+=`&name=${encodeURIComponent(s.name)}`),s.email&&(i+=`&email=${encodeURIComponent(s.email)}`)}else i+=`&${encodeURIComponent(o)}=${encodeURIComponent(e[o])}`;return`${n}?${i}`}var w0=[];function JP(t){let e={};return t.forEach(r=>{let{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.keys(e).map(r=>e[r])}function Lm(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...e,...r]:typeof r=="function"?n=Xs(r(e)):n=e;let i=JP(n),o=XP(i,s=>s.name==="Debug");if(o!==-1){let[s]=i.splice(o,1);i.push(s)}return i}function T0(t,e){let r={};return e.forEach(n=>{n&&jm(t,n,r)}),r}function jm(t,e,r){if(r[e.name]=e,w0.indexOf(e.name)===-1&&(e.setupOnce(da,X),w0.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,o)=>n(i,o,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){let n=e.processEvent.bind(e),i=Object.assign((o,s)=>n(o,s,t),{id:e.name});t.addEventProcessor(i)}A&&S.log(`Integration installed: ${e.name}`)}function Fm(t){let e=H();if(!e||!e.addIntegration){A&&S.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`);return}e.addIntegration(t)}function XP(t,e){for(let r=0;r<t.length;r++)if(e(t[r])===!0)return r;return-1}function Pe(t,e){return Object.assign(function(...n){return g({setupOnce:()=>{}},e(...n))},{id:t})}var Eu="c",wu="g",Tu="s",Iu="d",$u=/[^a-zA-Z0-9_/.-]+/g,I0=/[^\w\d_:/@.{}[\]$-]+/g;function $0(t,e,r,n){let i=Object.entries(Ge(n)).sort((o,s)=>o[0].localeCompare(s[0]));return`${t}${e}${r}${i}`}function R0(t){let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e>>>0}function O0(t){let e="";for(let r of t){let n=Object.entries(r.tags),i=n.length>0?`|#${n.map(([o,s])=>`${o}:${s}`).join(",")}`:"";e+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${i}|T${r.timestamp}
`}return e}function k0(t){let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let n=r.replace($u,"_");e[n]=String(t[r]).replace(I0,"_")}return e}function C0(t,e,r,n){let i={sent_at:new Date().toISOString()};r&&r.sdk&&(i.sdk={name:r.sdk.name,version:r.sdk.version}),n&&e&&(i.dsn=Dt(e));let o=ZP(t);return kt(i,[o])}function ZP(t){let e=O0(t);return[{type:"statsd",length:e.length},e]}var x0="Not capturing exception because it's already been captured.",ba=class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Js(e.dsn):A&&S.warn("No DSN provided, client will not send events."),this._dsn){let r=va(this._dsn,e);this._transport=e.transport(C(g({recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:r}))}}captureException(e,r,n){if(su(e)){A&&S.log(x0);return}let i=r&&r.event_id;return this._process(this.eventFromException(e,r).then(o=>this._captureEvent(o,r,n)).then(o=>{i=o})),i}captureMessage(e,r,n,i){let o=n&&n.event_id,s=Gn(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(s.then(a=>this._captureEvent(a,n,i)).then(a=>{o=a})),o}captureEvent(e,r,n){if(r&&r.originalException&&su(r.originalException)){A&&S.log(x0);return}let i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(o=>{i=o})),i}captureSession(e){typeof e.release!="string"?A&&S.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Xr(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i))):ur(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=T0(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(r){return A&&S.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){jm(this,e,this._integrations)}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=_a(e,this._dsn,this._options._metadata,this._options.tunnel);for(let o of r.attachments||[])n=rm(n,om(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));let i=this._sendEnvelope(n);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){let r=Mm(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let i=`${e}:${r}`;A&&S.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(e){A&&S.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);let r=C0(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(n=>n(...r))}_updateSessionFromEvent(e,r){let n=!1,i=!1,o=r.exception&&r.exception.values;if(o){i=!0;for(let c of o){let u=c.mechanism;if(u&&u.handled===!1){n=!0;break}}}let s=e.status==="ok";(s&&e.errors===0||s&&n)&&(Xr(e,C(g({},n&&{status:"crashed"}),{errors:e.errors||Number(i||n)})),this.captureSession(e))}_isClientDoneProcessing(e){return new Lt(r=>{let n=0,i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=i,e&&n>=e&&(clearInterval(o),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n,i=ei()){let o=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",e,r),ti(o,e,r,n,this,i).then(a=>{if(a===null)return a;let{propagationContext:c}=a.sdkProcessingMetadata||{};if(!(a.contexts&&a.contexts.trace)&&c){let{traceId:l,spanId:d,parentSpanId:f,dsc:p}=c;a.contexts=g({trace:{trace_id:l,span_id:d,parent_span_id:f}},a.contexts);let m=p||Zr(l,this,n);a.sdkProcessingMetadata=g({dynamicSamplingContext:m},a.sdkProcessingMetadata)}return a})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{if(A){let o=i;o.logLevel==="log"?S.log(o.message):S.warn(o)}})}_processEvent(e,r,n){let i=this.getOptions(),{sampleRate:o}=i,s=P0(e),a=A0(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&typeof o=="number"&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),Yn(new mt(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let l=c==="replay_event"?"replay":c;return this._prepareEvent(e,r,n).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",l,e),new mt("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return d;let p=eN(i,d,r);return QP(p,u)}).then(d=>{if(d===null)throw this.recordDroppedEvent("before_send",l,e),new mt(`${u} returned \`null\`, will not send event.`,"log");let f=n&&n.getSession();!s&&f&&this._updateSessionFromEvent(f,d);let p=d.transaction_info;if(s&&p&&d.transaction!==e.transaction){let m="custom";d.transaction_info=C(g({},p),{source:m})}return this.sendEvent(d,r),d}).then(null,d=>{throw d instanceof mt?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),new mt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,r=>{A&&S.error("Error while sending event:",r)});A&&S.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{let[n,i]=r.split(":");return{reason:n,category:i,quantity:e[r]}})}};function QP(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Yt(t))return t.then(n=>{if(!ar(n)&&n!==null)throw new mt(r);return n},n=>{throw new mt(`${e} rejected with ${n}`)});if(!ar(t)&&t!==null)throw new mt(r);return t}function eN(t,e,r){let{beforeSend:n,beforeSendTransaction:i}=t;return A0(e)&&n?n(e,r):P0(e)&&i?i(e,r):e}function A0(t){return t.type===void 0}function P0(t){return t.type==="transaction"}function Sa(t){let e=H();!e||!e.addEventProcessor||e.addEventProcessor(t)}var qm=class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},Bm=class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},Um=class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},Hm=class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map(e=>typeof e=="string"?R0(e):e).join(":")}},N0={[Eu]:qm,[wu]:Bm,[Iu]:Um,[Tu]:Hm};function Gm(t,e){e.debug===!0&&(A?S.enable():Zt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));let r=X();r.getScope().update(e.initialScope);let i=new t(e);r.bindClient(i)}var tN=30;function ri(t,e,r=Yp(t.bufferSize||tN)){let n={},i=s=>r.drain(s);function o(s){let a=[];if(lr(s,(d,f)=>{let p=gu(f);if(ca(n,p)){let m=M0(d,f);t.recordDroppedEvent("ratelimit_backoff",p,m)}else a.push(d)}),a.length===0)return ur();let c=kt(s[0],a),u=d=>{lr(c,(f,p)=>{let m=M0(f,p);t.recordDroppedEvent(d,gu(p),m)})},l=()=>e({body:sa(c,t.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&A&&S.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),n=ua(n,d),d),d=>{throw u("network_error"),d});return r.add(l).then(d=>d,d=>{if(d instanceof mt)return A&&S.error("Skipped sending event because buffer is full."),u("queue_overflow"),ur();throw d})}return o.__sentry__baseTransport__=!0,{send:o,flush:i}}function M0(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}var rN=100,D0=5e3,nN=36e5;function Vm(t,e){A&&S.info(`[Offline]: ${t}`,e)}function zm(t){return e=>{let r=t(e),n=e.createStore?e.createStore(e):void 0,i=D0,o;function s(l,d,f){return nm(l,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(l,d,f):!0}function a(l){n&&(o&&clearTimeout(o),o=setTimeout(()=>F(this,null,function*(){o=void 0;let d=yield n.pop();d&&(Vm("Attempting to send previously queued event"),u(d).catch(f=>{Vm("Failed to retry sending",f)}))}),l),typeof o!="number"&&o.unref&&o.unref())}function c(){o||(a(i),i=Math.min(i*2,nN))}function u(l){return F(this,null,function*(){try{let d=yield r.send(l),f=rN;if(d){if(d.headers&&d.headers["retry-after"])f=yu(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),i=D0,d}catch(d){if(n&&(yield s(l,d,i)))return yield n.insert(l),c(),Vm("Error sending. Event queued",d),{};throw d}})}return e.flushAtStartup&&c(),{send:u,flush:l=>r.flush(l)}}}function L0(t,e){let r;return lr(t,(n,i)=>(e.includes(i)&&(r=Array.isArray(n)?n[1]:void 0),!!r)),r}function iN(t,e){return r=>{let n=t(r);return{send:i=>F(this,null,function*(){let o=L0(i,["event","transaction","profile","replay_event"]);return o&&(o.release=e),n.send(i)}),flush:i=>n.flush(i)}}}function Wm(t,e){return r=>{let n=t(r),i={};function o(c,u){let l=u?`${c}:${u}`:c;if(!i[l]){let d=tu(c);if(!d)return;let f=va(d);i[l]=u?iN(t,u)(C(g({},r),{url:f})):t(C(g({},r),{url:f}))}return i[l]}function s(c){return F(this,null,function*(){function u(f){let p=f&&f.length?f:["event"];return L0(c,p)}let l=e({envelope:c,getEvent:u}).map(f=>typeof f=="string"?o(f,void 0):o(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(n),(yield Promise.all(l.map(f=>f.send(c))))[0]})}function a(c){return F(this,null,function*(){let u=[...Object.keys(i).map(d=>i[d]),n];return(yield Promise.all(u.map(d=>d.flush(c)))).every(d=>d)})}return{send:s,flush:a}}}var ni={};Wl(ni,{FunctionToString:()=>Ea,InboundFilters:()=>wa,LinkedErrors:()=>U0});var j0,F0="FunctionToString",oN=()=>({name:F0,setupOnce(){j0=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=zn(this)||this;return j0.apply(e,t)}}catch(t){}}}),Ea=Pe(F0,oN);var sN=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],aN=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],q0="InboundFilters",cN=t=>({name:q0,processEvent(e,r,n){let i=n.getOptions(),o=uN(t,i);return lN(e,o)?null:e}}),wa=Pe(q0,cN);function uN(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:sN],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:aN],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function lN(t,e){return e.ignoreInternal&&gN(t)?(A&&S.warn(`Event dropped due to being internal Sentry Error.
Event: ${cr(t)}`),!0):dN(t,e.ignoreErrors)?(A&&S.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${cr(t)}`),!0):fN(t,e.ignoreTransactions)?(A&&S.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${cr(t)}`),!0):pN(t,e.denyUrls)?(A&&S.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${cr(t)}.
Url: ${Ru(t)}`),!0):mN(t,e.allowUrls)?!1:(A&&S.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${cr(t)}.
Url: ${Ru(t)}`),!0)}function dN(t,e){return t.type||!e||!e.length?!1:hN(t).some(r=>Sr(r,e))}function fN(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?Sr(r,e):!1}function pN(t,e){if(!e||!e.length)return!1;let r=Ru(t);return r?Sr(r,e):!1}function mN(t,e){if(!e||!e.length)return!0;let r=Ru(t);return r?Sr(r,e):!0}function hN(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch(n){}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),A&&e.length===0&&S.error(`Could not extract message for event ${cr(t)}`),e}function gN(t){try{return t.exception.values[0].type==="SentryError"}catch(e){}return!1}function yN(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Ru(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(r){}return e?yN(e):null}catch(e){return A&&S.error(`Cannot extract url for event ${cr(t)}`),null}}var _N="cause",vN=5,B0="LinkedErrors",bN=(t={})=>{let e=t.limit||vN,r=t.key||_N;return{name:B0,preprocessEvent(n,i,o){let s=o.getOptions();Vs(am,s.stackParser,s.maxValueLength,r,e,n,i)}}},U0=Pe(B0,bN);function Km(t,e){let r=e&&wN(e)?e.getClient():e,n=r&&r.getDsn(),i=r&&r.getOptions().tunnel;return EN(t,n)||SN(t,i)}function SN(t,e){return e?H0(t)===H0(e):!1}function EN(t,e){return e?t.includes(e.host):!1}function H0(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function wN(t){return t.getClient!==void 0}var V0=new Map,G0=new Set;function TN(t){if(j._sentryModuleMetadata)for(let e of Object.keys(j._sentryModuleMetadata)){let r=j._sentryModuleMetadata[e];if(G0.has(e))continue;G0.add(e);let n=t(e);for(let i of n.reverse())if(i.filename){V0.set(i.filename,r);break}}}function IN(t,e){return TN(t),V0.get(e)}function z0(t,e){try{e.exception.values.forEach(r=>{if(r.stacktrace)for(let n of r.stacktrace.frames||[]){if(!n.filename)continue;let i=IN(t,n.filename);i&&(n.module_metadata=i)}})}catch(r){}}function W0(t){try{t.exception.values.forEach(e=>{if(e.stacktrace)for(let r of e.stacktrace.frames||[])delete r.module_metadata})}catch(e){}}var K0="ModuleMetadata",$N=()=>({name:K0,setup(t){typeof t.on=="function"&&t.on("beforeEnvelope",e=>{lr(e,(r,n)=>{if(n==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(W0(i),r[1]=i)}})})},processEvent(t,e,r){let n=r.getOptions().stackParser;return z0(n,t),t}}),Ym=Pe(K0,$N);var Ou=class{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(e,r,n,i="none",o={},s=lt()){let a=Math.floor(s),c=r.replace($u,"_"),u=k0(o),l=$0(e,c,i,u),d=this._buckets.get(l);d?(d.metric.add(n),d.timestamp<a&&(d.timestamp=a)):this._buckets.set(l,{metric:new N0[e](n),timestamp:a,metricType:e,name:c,unit:i,tags:u})}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){let e=Array.from(this._buckets).map(([,r])=>r);this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}};var Y0="MetricsAggregator",ON=()=>({name:Y0,setup(t){t.metricsAggregator=new Ou(t)}}),J0=Pe(Y0,ON);function ku(t,e,r,n={}){let i=H(),o=Ve();if(i){if(!i.metricsAggregator){A&&S.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:s,tags:a,timestamp:c}=n,{release:u,environment:l}=i.getOptions(),d=o.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=d.name),A&&S.log(`Adding value of ${r} to ${t} metric ${e}`),i.metricsAggregator.add(t,e,r,s,g(g({},f),a),c)}}function kN(t,e=1,r){ku(Eu,t,e,r)}function CN(t,e,r){ku(Iu,t,e,r)}function xN(t,e,r){ku(Tu,t,e,r)}function AN(t,e,r){ku(wu,t,e,r)}var Jm={increment:kN,distribution:CN,set:xN,gauge:AN,MetricsAggregator:J0};var D=j,Xm=0;function Zm(){return Xm>0}function PN(){Xm++,setTimeout(()=>{Xm--})}function Qr(t,e={},r){if(typeof t!="function")return t;try{let i=t.__sentry_wrapped__;if(i)return i;if(zn(t))return t}catch(i){return t}let n=function(){let i=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);let o=i.map(s=>Qr(s,e));return t.apply(this,o)}catch(o){throw PN(),Er(s=>{s.addEventProcessor(a=>(e.mechanism&&(eo(a,void 0,void 0),zr(a,e.mechanism)),a.extra=C(g({},a.extra),{arguments:i}),a)),vn(o)}),o}};try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch(i){}ru(n,t),Vr(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch(i){}return n}var V=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Ta(t,e){let r=th(t,e),n={type:e&&e.name,value:LN(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function NN(t,e,r,n){let i=H(),o=i&&i.getOptions().normalizeDepth,s={exception:{values:[{type:Vn(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:jN(e,{isUnhandledRejection:n})}]},extra:{__serialized__:mu(e,o)}};if(r){let a=th(t,r);a.length&&(s.exception.values[0].stacktrace={frames:a})}return s}function Qm(t,e){return{exception:{values:[Ta(t,e)]}}}function th(t,e){let r=e.stacktrace||e.stack||"",n=DN(e);try{return t(r,n)}catch(i){}return[]}var MN=/Minified React error #\d+;/i;function DN(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(MN.test(t.message))return 1}return 0}function LN(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Cu(t,e,r,n){let i=r&&r.syntheticException||void 0,o=Au(t,e,i,n);return zr(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),ur(o)}function xu(t,e,r="info",n,i){let o=n&&n.syntheticException||void 0,s=eh(t,e,o,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),ur(s)}function Au(t,e,r,n,i){let o;if(Xi(e)&&e.error)return Qm(t,e.error);if(Zc(e)||Cp(e)){let s=e;if("stack"in e)o=Qm(t,e);else{let a=s.name||(Zc(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;o=eh(t,c,r,n),eo(o,c)}return"code"in s&&(o.tags=C(g({},o.tags),{"DOMException.code":`${s.code}`})),o}return Us(e)?Qm(t,e):ar(e)||Vn(e)?(o=NN(t,e,r,i),zr(o,{synthetic:!0}),o):(o=eh(t,e,r,n),eo(o,`${e}`,void 0),zr(o,{synthetic:!0}),o)}function eh(t,e,r,n){let i={message:e};if(n&&r){let o=th(t,r);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]})}return i}function jN(t,{isUnhandledRejection:e}){let r=jp(t),n=e?"promise rejection":"exception";return Xi(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:Vn(t)?`Event \`${FN(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function FN(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(e){}}function Pu(t,{metadata:e,tunnel:r,dsn:n}){let i=g(g({event_id:t.event_id,sent_at:new Date().toISOString()},e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}}),!!r&&!!n&&{dsn:Dt(n)}),o=qN(t);return kt(i,[o])}function qN(t){return[{type:"user_report"},t]}var mo=class extends ba{constructor(e){let r=D.SENTRY_SDK_SOURCE||Kp();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${r}:@sentry/browser`,version:_n}],version:_n},super(e),e.sendClientReports&&D.document&&D.document.addEventListener("visibilitychange",()=>{D.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return Cu(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return xu(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){V&&S.warn("SDK not enabled, will not capture user feedback.");return}let r=Pu(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}_flushOutcomes(){let e=this._clearOutcomes();if(e.length===0){V&&S.log("No outcomes to send");return}if(!this._dsn){V&&S.log("No dsn provided, will not send outcomes");return}V&&S.log("Sending outcomes:",e);let r=sm(e,this._options.tunnel&&Dt(this._dsn));this._sendEnvelope(r)}};var Ia;function X0(){if(Ia)return Ia;if(Qs(D.fetch))return Ia=D.fetch.bind(D);let t=D.document,e=D.fetch;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);let n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(r){V&&S.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Ia=e.bind(D)}function Z0(){Ia=void 0}function Nu(t,e=X0()){let r=0,n=0;function i(o){let s=o.body.length;r+=s,n++;let a=g({body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15},t.fetchOptions);try{return e(t.url,a).then(c=>(r-=s,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Z0(),r-=s,n--,Yn(c)}}return ri(t,i)}var BN=4;function Mu(t){function e(r){return new Lt((n,i)=>{let o=new XMLHttpRequest;o.onerror=i,o.onreadystatechange=()=>{o.readyState===BN&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",t.url);for(let s in t.headers)Object.prototype.hasOwnProperty.call(t.headers,s)&&o.setRequestHeader(s,t.headers[s]);o.send(r.body)})}return ri(t,e)}var ho="?",UN=10,HN=20,GN=30,VN=40,zN=50;function $a(t,e,r,n){let i={filename:t,function:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var WN=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,KN=/\((\S*)(?::(\d+))(?::(\d+))\)/,YN=t=>{let e=WN.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){let o=KN.exec(e[2]);o&&(e[2]=o[1],e[3]=o[2],e[4]=o[3])}let[n,i]=tS(e[1]||ho,e[2]);return $a(i,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},rh=[GN,YN],JN=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,XN=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ZN=t=>{let e=JN.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let o=XN.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],i=e[1]||ho;return[i,n]=tS(i,n),$a(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},nh=[zN,ZN],QN=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,eM=t=>{let e=QN.exec(t);return e?$a(e[2],e[1]||ho,+e[3],e[4]?+e[4]:void 0):void 0},ih=[VN,eM],tM=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,rM=t=>{let e=tM.exec(t);return e?$a(e[2],e[3]||ho,+e[1]):void 0},Q0=[UN,rM],nM=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,iM=t=>{let e=nM.exec(t);return e?$a(e[5],e[3]||e[4]||ho,+e[1],+e[2]):void 0},eS=[HN,iM],oh=[rh,nh,ih],Du=iu(...oh),tS=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:ho,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var nS="GlobalHandlers",oM=(t={})=>{let e=g({onerror:!0,onunhandledrejection:!0},t);return{name:nS,setupOnce(){Error.stackTraceLimit=50},setup(r){e.onerror&&(sM(r),rS("onerror")),e.onunhandledrejection&&(aM(r),rS("onunhandledrejection"))}}},go=Pe(nS,oM);function sM(t){ea(e=>{let{stackParser:r,attachStacktrace:n}=oS();if(H()!==t||Zm())return;let{msg:i,url:o,line:s,column:a,error:c}=e,u=c===void 0&&pt(i)?lM(i,o,s,a):iS(Au(r,c||i,void 0,n,!1),o,s,a);u.level="error",po(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function aM(t){ta(e=>{let{stackParser:r,attachStacktrace:n}=oS();if(H()!==t||Zm())return;let i=cM(e),o=Gn(i)?uM(i):Au(r,i,void 0,n,!0);o.level="error",po(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function cM(t){if(Gn(t))return t;let e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(r){}return t}function uM(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function lM(t,e,r,n){let i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=Xi(t)?t.message:t,s="Error",a=o.match(i);return a&&(s=a[1],o=a[2]),iS({exception:{values:[{type:s,value:o}]}},e,r,n)}function iS(t,e,r,n){let i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,d=pt(e)&&e.length>0?e:Ws();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),t}function rS(t){V&&S.log(`Global Handler attached: ${t}`)}function oS(){let t=H();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var dM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],aS="TryCatch",fM=(t={})=>{let e=g({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t);return{name:aS,setupOnce(){e.setTimeout&&Re(D,"setTimeout",sS),e.setInterval&&Re(D,"setInterval",sS),e.requestAnimationFrame&&Re(D,"requestAnimationFrame",pM),e.XMLHttpRequest&&"XMLHttpRequest"in D&&Re(XMLHttpRequest.prototype,"send",mM);let r=e.eventTarget;r&&(Array.isArray(r)?r:dM).forEach(hM)}}},yo=Pe(aS,fM);function sS(t){return function(...e){let r=e[0];return e[0]=Qr(r,{mechanism:{data:{function:It(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function pM(t){return function(e){return t.apply(this,[Qr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:It(t)},handled:!1,type:"instrument"}})])}}function mM(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Re(r,i,function(o){let s={mechanism:{data:{function:i,handler:It(o)},handled:!1,type:"instrument"}},a=zn(o);return a&&(s.mechanism.data.handler=It(a)),Qr(o,s)})}),t.apply(this,e)}}function hM(t){let e=D,r=e[t]&&e[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Re(r,"addEventListener",function(n){return function(i,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=Qr(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:It(o),target:t},handled:!1,type:"instrument"}}))}catch(a){}return n.apply(this,[i,Qr(o,{mechanism:{data:{function:"addEventListener",handler:It(o),target:t},handled:!1,type:"instrument"}}),s])}}),Re(r,"removeEventListener",function(n){return function(i,o,s){let a=o;try{let c=a&&a.__sentry_wrapped__;c&&n.call(this,i,c,s)}catch(c){}return n.call(this,i,a,s)}}))}var Lu=1024,cS="Breadcrumbs",gM=(t={})=>{let e=g({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t);return{name:cS,setup(r){e.console&&Bp(vM(r)),e.dom&&Zs(_M(r,e.dom)),e.xhr&&Kn(bM(r)),e.fetch&&Wn(SM(r)),e.history&&Wr(EM(r)),e.sentry&&r.on&&r.on("beforeSendEvent",yM(r))}}},_o=Pe(cS,gM);function yM(t){return function(r){H()===t&&jt({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:cr(r)},{event:r})}}function _M(t,e){return function(n){if(H()!==t)return;let i,o,s=typeof e=="object"?e.serializeAttribute:void 0,a=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;a&&a>Lu&&(V&&S.warn(`\`dom.maxStringLength\` cannot exceed ${Lu}, but a value of ${a} was configured. Sentry will use ${Lu} instead.`),a=Lu),typeof s=="string"&&(s=[s]);try{let u=n.event,l=wM(u)?u.target:u;i=Jt(l,{keyAttrs:s,maxStringLength:a}),o=Ks(l)}catch(u){i="<unknown>"}if(i.length===0)return;let c={category:`ui.${n.name}`,message:i};o&&(c.data={"ui.component_name":o}),jt(c,{event:n.event,name:n.name,global:n.global})}}function vM(t){return function(r){if(H()!==t)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:Jp(r.level),message:Qc(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${Qc(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;jt(n,{input:r.args,level:r.level})}}function bM(t){return function(r){if(H()!==t)return;let{startTimestamp:n,endTimestamp:i}=r,o=r.xhr[Qt];if(!n||!i||!o)return;let{method:s,url:a,status_code:c,body:u}=o,l={method:s,url:a,status_code:c},d={xhr:r.xhr,input:u,startTimestamp:n,endTimestamp:i};jt({category:"xhr",data:l,type:"http"},d)}}function SM(t){return function(r){if(H()!==t)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let o=r.fetchData,s={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};jt({category:"fetch",data:o,level:"error",type:"http"},s)}else{let o=r.response,s=C(g({},r.fetchData),{status_code:o&&o.status}),a={input:r.args,response:o,startTimestamp:n,endTimestamp:i};jt({category:"fetch",data:s,type:"http"},a)}}}function EM(t){return function(r){if(H()!==t)return;let n=r.from,i=r.to,o=na(D.location.href),s=n?na(n):void 0,a=na(i);(!s||!s.path)&&(s=o),o.protocol===a.protocol&&o.host===a.host&&(i=a.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),jt({category:"navigation",data:{from:n,to:i}})}}function wM(t){return!!t&&!!t.target}var TM="cause",IM=5,uS="LinkedErrors",$M=(t={})=>{let e=t.limit||IM,r=t.key||TM;return{name:uS,preprocessEvent(n,i,o){let s=o.getOptions();Vs(Ta,s.stackParser,s.maxValueLength,r,e,n,i)}}},vo=Pe(uS,$M);var lS="HttpContext",RM=()=>({name:lS,preprocessEvent(t){if(!D.navigator&&!D.location&&!D.document)return;let e=t.request&&t.request.url||D.location&&D.location.href,{referrer:r}=D.document||{},{userAgent:n}=D.navigator||{},i=g(g(g({},t.request&&t.request.headers),r&&{Referer:r}),n&&{"User-Agent":n}),o=C(g(g({},t.request),e&&{url:e}),{headers:i});t.request=o}}),bo=Pe(lS,RM);var pS="Dedupe",OM=()=>{let t;return{name:pS,processEvent(e){if(e.type)return e;try{if(kM(e,t))return V&&S.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){}return t=e}}},So=Pe(pS,OM);function kM(t,e){return e?!!(CM(t,e)||xM(t,e)):!1}function CM(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!hS(t,e)||!mS(t,e))}function xM(t,e){let r=dS(e),n=dS(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!hS(t,e)||!mS(t,e))}function mS(t,e){let r=fS(t),n=fS(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let o=n[i],s=r[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function hS(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch(i){return!1}}function dS(t){return t.exception&&t.exception.values&&t.exception.values[0]}function fS(t){let e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(r){return}}var sh=[new ni.InboundFilters,new ni.FunctionToString,new yo,new _o,new go,new vo,new So,new bo];function yS(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=sh),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),D.SENTRY_RELEASE&&D.SENTRY_RELEASE.id&&(t.release=D.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);let e=C(g({},t),{stackParser:qp(t.stackParser||Du),integrations:Lm(t),transport:t.transport||(au()?Nu:Mu)});Gm(mo,e),t.autoSessionTracking&&AM()}function _S(t={},e=X()){if(!D.document){V&&S.error("Global document not defined in showReportDialog call");return}let{client:r,scope:n}=e.getStackTop(),i=t.dsn||r&&r.getDsn();if(!i){V&&S.error("DSN not configured for showReportDialog call");return}n&&(t.user=g(g({},n.getUser()),t.user)),t.eventId||(t.eventId=e.lastEventId());let o=D.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=Dm(i,t),t.onLoad&&(o.onload=t.onLoad);let{onClose:s}=t;if(s){let c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{s()}finally{D.removeEventListener("message",c)}};D.addEventListener("message",c)}let a=D.document.head||D.document.body;a?a.appendChild(o):V&&S.error("Not injecting report dialog. No injection point found in HTML")}function vS(){}function bS(t){t()}function SS(t){return Qr(t)()}function gS(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function AM(){if(typeof D.document=="undefined"){V&&S.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}let t=X();t.captureSession&&(gS(t),Wr(({from:e,to:r})=>{e!==void 0&&e!==r&&gS(X())}))}function ES(t){let e=H();e&&e.captureUserFeedback(t)}var ah={};Wl(ah,{Breadcrumbs:()=>_o,Dedupe:()=>So,GlobalHandlers:()=>go,HttpContext:()=>bo,LinkedErrors:()=>vo,TryCatch:()=>yo});var Se=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;var ae=j;function wS(){ae&&ae.document?ae.document.addEventListener("visibilitychange",()=>{let t=Ct();if(ae.document.hidden&&t){let e="cancelled";Se&&S.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):Se&&S.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Eo=(t,e,r)=>{let n,i;return o=>{e.value>=0&&(o||r)&&(i=e.value-(n||0),(i||n===void 0)&&(n=e.value,e.delta=i,t(e)))}};var TS=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var PM=()=>{let t=ae.performance.timing,e=ae.performance.navigation.type,r={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let n in t)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(t[n]-t.navigationStart,0));return r},ju=()=>ae.__WEB_VITALS_POLYFILL__?ae.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||PM()):ae.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var Fu=()=>{let t=ju();return t&&t.activationStart||0};var wo=(t,e)=>{let r=ju(),n="navigate";return r&&(ae.document.prerendering||Fu()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:t,value:typeof e=="undefined"?-1:e,rating:"good",delta:0,entries:[],id:TS(),navigationType:n}};var bn=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(i=>{e(i.getEntries())});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch(n){}};var Sn=(t,e)=>{let r=n=>{(n.type==="pagehide"||ae.document.visibilityState==="hidden")&&(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)};var IS=t=>{let e=wo("CLS",0),r,n=0,i=[],o=a=>{a.forEach(c=>{if(!c.hadRecentInput){let u=i[0],l=i[i.length-1];n&&i.length!==0&&c.startTime-l.startTime<1e3&&c.startTime-u.startTime<5e3?(n+=c.value,i.push(c)):(n=c.value,i=[c]),n>e.value&&(e.value=n,e.entries=i,r&&r())}})},s=bn("layout-shift",o);if(s){r=Eo(t,e);let a=()=>{o(s.takeRecords()),r(!0)};return Sn(a),a}};var qu=-1,NM=()=>ae.document.visibilityState==="hidden"&&!ae.document.prerendering?0:1/0,MM=()=>{Sn(({timeStamp:t})=>{qu=t},!0)},To=()=>(qu<0&&(qu=NM(),MM()),{get firstHiddenTime(){return qu}});var $S=t=>{let e=To(),r=wo("FID"),n,i=a=>{a.startTime<e.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),n(!0))},o=a=>{a.forEach(i)},s=bn("first-input",o);n=Eo(t,r),s&&Sn(()=>{o(s.takeRecords()),s.disconnect()},!0)};var RS={},OS=t=>{let e=To(),r=wo("LCP"),n,i=s=>{let a=s[s.length-1];if(a){let c=Math.max(a.startTime-Fu(),0);c<e.firstHiddenTime&&(r.value=c,r.entries=[a],n())}},o=bn("largest-contentful-paint",i);if(o){n=Eo(t,r);let s=()=>{RS[r.id]||(i(o.takeRecords()),o.disconnect(),RS[r.id]=!0,n(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,s,{once:!0,capture:!0})}),Sn(s,!0),s}};var Ra={},Bu={},kS,CS,xS;function ch(t){return lh("cls",t,DM,kS)}function Oa(t){return lh("lcp",t,jM,xS)}function uh(t){return lh("fid",t,LM,CS)}function En(t,e){return AS(t,e),Bu[t]||(FM(t),Bu[t]=!0),PS(t,e)}function Uu(t,e){let r=Ra[t];if(!(!r||!r.length))for(let n of r)try{n(e)}catch(i){Se&&S.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${It(n)}
Error:`,i)}}function DM(){IS(t=>{Uu("cls",{metric:t}),kS=t})}function LM(){$S(t=>{Uu("fid",{metric:t}),CS=t})}function jM(){OS(t=>{Uu("lcp",{metric:t}),xS=t})}function lh(t,e,r,n){return AS(t,e),Bu[t]||(r(),Bu[t]=!0),n&&e({metric:n}),PS(t,e)}function FM(t){let e={};t==="event"&&(e.durationThreshold=0),bn(t,r=>{Uu(t,{entries:r})},e)}function AS(t,e){Ra[t]=Ra[t]||[],Ra[t].push(e)}function PS(t,e){return()=>{let r=Ra[t];if(!r)return;let n=r.indexOf(e);n!==-1&&r.splice(n,1)}}function Hu(t){return typeof t=="number"&&isFinite(t)}function ii(t,n){var i=n,{startTimestamp:e}=i,r=is(i,["startTimestamp"]);return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild(g({startTimestamp:e},r))}var qM=2147483647;function Xe(t){return t/1e3}function MS(){return ae&&ae.addEventListener&&ae.performance}var NS=0,Ue={},Tr,ka;function DS(){let t=MS();if(t&&Je){t.mark&&ae.performance.mark("sentry-tracing-init");let e=HM(),r=BM(),n=UM();return()=>{e(),r(),n()}}return()=>{}}function LS(){En("longtask",({entries:t})=>{for(let e of t){let r=Ct();if(!r)return;let n=Xe(Je+e.startTime),i=Xe(e.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+i})}})}function jS(){En("event",({entries:t})=>{for(let e of t){let r=Ct();if(!r)return;if(e.name==="click"){let n=Xe(Je+e.startTime),i=Xe(e.duration),o={description:Jt(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+i},s=Ks(e.target);s&&(o.data={"ui.component_name":s}),r.startChild(o)}}})}function BM(){return ch(({metric:t})=>{let e=t.entries.pop();e&&(Se&&S.log("[Measurements] Adding CLS"),Ue.cls={value:t.value,unit:""},ka=e)})}function UM(){return Oa(({metric:t})=>{let e=t.entries.pop();e&&(Se&&S.log("[Measurements] Adding LCP"),Ue.lcp={value:t.value,unit:"millisecond"},Tr=e)})}function HM(){return uh(({metric:t})=>{let e=t.entries.pop();if(!e)return;let r=Xe(Je),n=Xe(e.startTime);Se&&S.log("[Measurements] Adding FID"),Ue.fid={value:t.value,unit:"millisecond"},Ue["mark.fid"]={value:r+n,unit:"second"}})}function FS(t){let e=MS();if(!e||!ae.performance.getEntries||!Je)return;Se&&S.log("[Tracing] Adding & adjusting spans using Performance API");let r=Xe(Je),n=e.getEntries(),i,o;if(n.slice(NS).forEach(s=>{let a=Xe(s.startTime),c=Xe(s.duration);if(!(t.op==="navigation"&&r+a<t.startTimestamp))switch(s.entryType){case"navigation":{VM(t,s,r),i=r+Xe(s.responseStart),o=r+Xe(s.requestStart);break}case"mark":case"paint":case"measure":{GM(t,s,a,c,r);let u=To(),l=s.startTime<u.firstHiddenTime;s.name==="first-paint"&&l&&(Se&&S.log("[Measurements] Adding FP"),Ue.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&l&&(Se&&S.log("[Measurements] Adding FCP"),Ue.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{let u=s.name.replace(ae.location.origin,"");WM(t,s,u,a,c,r);break}}}),NS=Math.max(n.length-1,0),KM(t),t.op==="pageload"){typeof i=="number"&&(Se&&S.log("[Measurements] Adding TTFB"),Ue.ttfb={value:(i-t.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=i&&(Ue["ttfb.requestTime"]={value:(i-o)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!Ue[a]||r>=t.startTimestamp)return;let c=Ue[a].value,u=r+Xe(c),l=Math.abs((u-t.startTimestamp)*1e3),d=l-c;Se&&S.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),Ue[a].value=l});let s=Ue["mark.fid"];s&&Ue.fid&&(ii(t,{description:"first input delay",endTimestamp:s.value+Xe(Ue.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:s.value}),delete Ue["mark.fid"]),"fcp"in Ue||delete Ue.cls,Object.keys(Ue).forEach(a=>{t.setMeasurement(a,Ue[a].value,Ue[a].unit)}),YM(t)}Tr=void 0,ka=void 0,Ue={}}function GM(t,e,r,n,i){let o=i+r,s=o+n;return ii(t,{description:e.name,endTimestamp:s,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o}),o}function VM(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{Gu(t,e,n,r)}),Gu(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),Gu(t,e,"fetch",r,"cache","domainLookupStart"),Gu(t,e,"domainLookup",r,"DNS"),zM(t,e,r)}function Gu(t,e,r,n,i,o){let s=o?e[o]:e[`${r}End`],a=e[`${r}Start`];!a||!s||ii(t,{op:"browser",origin:"auto.browser.browser.metrics",description:i||r,startTimestamp:n+Xe(a),endTimestamp:n+Xe(s)})}function zM(t,e,r){ii(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+Xe(e.requestStart),endTimestamp:r+Xe(e.responseEnd)}),ii(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+Xe(e.responseStart),endTimestamp:r+Xe(e.responseEnd)})}function WM(t,e,r,n,i,o){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let s={};dh(s,e,"transferSize","http.response_transfer_size"),dh(s,e,"encodedBodySize","http.response_content_length"),dh(s,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);let a=o+n,c=a+i;ii(t,{description:r,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:s})}function KM(t){let e=ae.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Hu(r.rtt)&&(Ue["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Hu(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Hu(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function YM(t){Tr&&(Se&&S.log("[Measurements] Adding LCP Data"),Tr.element&&t.setTag("lcp.element",Jt(Tr.element)),Tr.id&&t.setTag("lcp.id",Tr.id),Tr.url&&t.setTag("lcp.url",Tr.url.trim().slice(0,200)),t.setTag("lcp.size",Tr.size)),ka&&ka.sources&&(Se&&S.log("[Measurements] Adding CLS Data"),ka.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,Jt(e.node))))}function dh(t,e,r,n){let i=e[r];i!=null&&i<qM&&(t[n]=i)}function qS(t,e,r,n,i="auto.http.browser"){if(!wr()||!t.fetchData)return;let o=e(t.fetchData.url);if(t.endTimestamp&&o){let f=t.fetchData.__span;if(!f)return;let p=n[f];if(p){if(t.response){p.setHttpStatus(t.response.status);let m=t.response&&t.response.headers&&t.response.headers.get("content-length");if(m){let _=parseInt(m);_>0&&p.setData("http.response_content_length",_)}}else t.error&&p.setStatus("internal_error");p.end(),delete n[f]}return}let s=Ve(),a=H(),c=s.getSpan(),{method:u,url:l}=t.fetchData,d=o&&c?c.startChild({data:{url:l,type:"fetch","http.method":u},description:`${u} ${l}`,op:"http.client",origin:i}):void 0;if(d&&(t.fetchData.__span=d.spanId,n[d.spanId]=d),r(t.fetchData.url)&&a){let f=t.args[0];t.args[1]=t.args[1]||{};let p=t.args[1];p.headers=JM(f,a,s,p,d)}return d}function JM(t,e,r,n,i){let o=i||r.getSpan(),s=o&&o.transaction,{traceId:a,sampled:c,dsc:u}=r.getPropagationContext(),l=o?o.toTraceparent():Jn(a,void 0,c),d=s?s.getDynamicSamplingContext():u||Zr(a,e,r),f=io(d),p=typeof Request!="undefined"&&Mt(t,Request)?t.headers:n.headers;if(p)if(typeof Headers!="undefined"&&Mt(p,Headers)){let m=new Headers(p);return m.append("sentry-trace",l),f&&m.append(no,f),m}else if(Array.isArray(p)){let m=[...p,["sentry-trace",l]];return f&&m.push([no,f]),m}else{let m="baggage"in p?p.baggage:void 0,_=[];return Array.isArray(m)?_.push(...m):m&&_.push(m),f&&_.push(f),C(g({},p),{"sentry-trace":l,baggage:_.length>0?_.join(","):void 0})}else return{"sentry-trace":l,baggage:f}}var fh=["localhost",/^\/(?!\/)/],oi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:fh,tracePropagationTargets:fh};function Ca(t){let{traceFetch:e,traceXHR:r,tracePropagationTargets:n,tracingOrigins:i,shouldCreateSpanForRequest:o,enableHTTPTimings:s}=g({traceFetch:oi.traceFetch,traceXHR:oi.traceXHR},t),a=typeof o=="function"?o:l=>!0,c=l=>eD(l,n||i),u={};e&&Wn(l=>{let d=qS(l,a,c,u);s&&d&&BS(d)}),r&&Kn(l=>{let d=tD(l,a,c,u);s&&d&&BS(d)})}function XM(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function BS(t){let e=t.data.url;if(!e)return;let r=En("resource",({entries:n})=>{n.forEach(i=>{XM(i)&&i.name.endsWith(e)&&(QM(i).forEach(s=>t.setData(...s)),setTimeout(r))})})}function ZM(t){let e="unknown",r="unknown",n="";for(let i of t){if(i==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e=n==="h"?"http":n,r=t.split(n)[1];break}n+=i}return n===t&&(e=n),{name:e,version:r}}function Ir(t=0){return((Je||performance.timeOrigin)+t)/1e3}function QM(t){let{name:e,version:r}=ZM(t.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",e]),Je?[...n,["http.request.redirect_start",Ir(t.redirectStart)],["http.request.fetch_start",Ir(t.fetchStart)],["http.request.domain_lookup_start",Ir(t.domainLookupStart)],["http.request.domain_lookup_end",Ir(t.domainLookupEnd)],["http.request.connect_start",Ir(t.connectStart)],["http.request.secure_connection_start",Ir(t.secureConnectionStart)],["http.request.connection_end",Ir(t.connectEnd)],["http.request.request_start",Ir(t.requestStart)],["http.request.response_start",Ir(t.responseStart)],["http.request.response_end",Ir(t.responseEnd)]]:n}function eD(t,e){return Sr(t,e||fh)}function tD(t,e,r,n){let i=t.xhr,o=i&&i[Qt];if(!wr()||!i||i.__sentry_own_request__||!o)return;let s=e(o.url);if(t.endTimestamp&&s){let l=i.__sentry_xhr_span_id__;if(!l)return;let d=n[l];d&&o.status_code!==void 0&&(d.setHttpStatus(o.status_code),d.end(),delete n[l]);return}let a=Ve(),c=a.getSpan(),u=s&&c?c.startChild({data:{type:"xhr","http.method":o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(u&&(i.__sentry_xhr_span_id__=u.spanId,n[i.__sentry_xhr_span_id__]=u),i.setRequestHeader&&r(o.url))if(u){let l=u&&u.transaction,d=l&&l.getDynamicSamplingContext(),f=io(d);US(i,u.toTraceparent(),f)}else{let l=H(),{traceId:d,sampled:f,dsc:p}=a.getPropagationContext(),m=Jn(d,void 0,f),_=p||(l?Zr(d,l,a):void 0),b=io(_);US(i,m,b)}return u}function US(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader(no,r)}catch(n){}}function HS(t,e=!0,r=!0){if(!ae||!ae.location){Se&&S.warn("Could not initialize routing instrumentation due to invalid location");return}let n=ae.location.href,i;e&&(i=t({name:ae.location.pathname,startTimestamp:Je?Je/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&Wr(({to:o,from:s})=>{if(s===void 0&&n&&n.indexOf(o)!==-1){n=void 0;return}s!==o&&(n=void 0,i&&(Se&&S.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.end()),i=t({name:ae.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}var VS="BrowserTracing",rD=g(C(g({},fo),{markBackgroundTransactions:!0,routingInstrumentation:HS,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{}}),oi),xa=class{constructor(e){this.name=VS,this._hasSetTracePropagationTargets=!1,ya(),Se&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options=g(g({},rD),e),this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=DS(),this.options.enableLongTask&&LS(),this.options._experiments.enableInteractions&&jS()}setupOnce(e,r){this._getCurrentHub=r;let i=r().getClient(),o=i&&i.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:m}=this.options,_=o&&o.tracePropagationTargets,b=_||this.options.tracePropagationTargets;Se&&this._hasSetTracePropagationTargets&&_&&S.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s(y=>{let w=this._createRouteTransaction(y);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(w,y,r),w},c,a),u&&wS(),m.enableInteractions&&this._registerInteractionListener(),Ca({traceFetch:l,traceXHR:d,tracePropagationTargets:b,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(e){if(!this._getCurrentHub){Se&&S.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let r=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:i,finalTimeout:o,heartbeatInterval:s}=this.options,a=e.op==="pageload",c=a?GS("sentry-trace"):"",u=a?GS("baggage"):"",{traceparentData:l,dynamicSamplingContext:d,propagationContext:f}=oa(c,u),p=C(g(g({},e),l),{metadata:C(g({},e.metadata),{dynamicSamplingContext:l&&!d?{}:d}),trimEnd:!0}),m=typeof n=="function"?n(p):p,_=m===void 0?C(g({},p),{sampled:!1}):m;_.metadata=_.name!==p.name?C(g({},_.metadata),{source:"custom"}):_.metadata,this._latestRouteName=_.name,this._latestRouteSource=_.metadata&&_.metadata.source,_.sampled===!1&&Se&&S.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),Se&&S.log(`[Tracing] Starting ${_.op} transaction on scope`);let{location:b}=ae,y=bu(r,_,i,o,!0,{location:b},s),w=r.getScope();return a&&l?w.setPropagationContext(f):w.setPropagationContext({traceId:y.traceId,spanId:y.spanId,parentSpanId:y.parentSpanId,sampled:y.sampled}),y.registerBeforeFinishCallback(R=>{this._collectWebVitals(),FS(R)}),y}_registerInteractionListener(){let e,r=()=>{let{idleTimeout:n,finalTimeout:i,heartbeatInterval:o}=this.options,s="ui.action.click",a=Ct();if(a&&a.op&&["navigation","pageload"].includes(a.op)){Se&&S.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub){Se&&S.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){Se&&S.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:u}=ae,l={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=bu(c,l,n,i,!0,{location:u},o)};["click"].forEach(n=>{addEventListener(n,r,{once:!1,capture:!0})})}};function GS(t){let e=Mp(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}var ke=j,Fh="sentryReplaySession",nD="replay_event",qh="Unable to send Replay",iD=3e5,oD=9e5,sD=5e3,aD=5500,cD=6e4,uD=5e3,lD=3,zS=15e4,Vu=5e3,dD=3e3,fD=300,Bh=2e7,pD=4999,mD=15e3,WS=36e5,KS={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Ze;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Ze||(Ze={}));function hD(t){return t.nodeType===t.ELEMENT_NODE}function Pa(t){let e=t==null?void 0:t.host;return(e==null?void 0:e.shadowRoot)===t}function Na(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function gD(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function yD(t){let{cssText:e}=t;if(e.split('"').length<3)return e;let r=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}function Ku(t){try{let e=t.rules||t.cssRules;return e?gD(Array.from(e,pE).join("")):null}catch(e){return null}}function pE(t){let e;if(vD(t))try{e=Ku(t.styleSheet)||yD(t)}catch(r){}else if(bD(t)&&t.selectorText.includes(":"))return _D(t.cssText);return e||t.cssText}function _D(t){let e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function vD(t){return"styleSheet"in t}function bD(t){return"selectorText"in t}var Yu=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var r;if(!e)return-1;let n=(r=this.getMeta(e))===null||r===void 0?void 0:r.id;return n!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,r){let n=r.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,r)}replace(e,r){let n=this.getNode(e);if(n){let i=this.nodeMetaMap.get(n);i&&this.nodeMetaMap.set(r,i)}this.idNodeMap.set(e,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function SD(){return new Yu}function al({maskInputOptions:t,tagName:e,type:r}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||r&&t[r]||r==="password"||e==="INPUT"&&!r&&t.text)}function Da({isMasked:t,element:e,value:r,maskInputFn:n}){let i=r||"";return t?(n&&(i=n(i,e)),"*".repeat(i.length)):i}function Ao(t){return t.toLowerCase()}function gh(t){return t.toUpperCase()}var YS="__rrweb_original__";function ED(t){let e=t.getContext("2d");if(!e)return!0;let r=50;for(let n=0;n<t.width;n+=r)for(let i=0;i<t.height;i+=r){let o=e.getImageData,s=YS in o?o[YS]:o;if(new Uint32Array(s.call(e,n,i,Math.min(r,t.width-n),Math.min(r,t.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function Uh(t){let e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Ao(e):null}function Ju(t,e,r){return e==="INPUT"&&(r==="radio"||r==="checkbox")?t.getAttribute("value")||"":t.value}var wD=1,TD=new RegExp("[^a-z0-9-_:]"),La=-2;function Hh(){return wD++}function ID(t){if(t instanceof HTMLFormElement)return"form";let e=Ao(t.tagName);return TD.test(e)?"div":e}function $D(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}var Io,JS,RD=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,OD=/^(?:[a-z+]+:)?\/\//i,kD=/^www\..*/i,CD=/^(data:)([^,]*),(.*)/i;function Xu(t,e){return(t||"").replace(RD,(r,n,i,o,s,a)=>{let c=i||s||a,u=n||o||"";if(!c)return r;if(OD.test(c)||kD.test(c))return`url(${u}${c}${u})`;if(CD.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${$D(e)+c}${u})`;let l=e.split("/"),d=c.split("/");l.pop();for(let f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}var xD=/^[^ \t\n\r\u000c]+/,AD=/^[, \t\n\r\u000c]+/;function PD(t,e){if(e.trim()==="")return e;let r=0;function n(o){let s,a=o.exec(e.substring(r));return a?(s=a[0],r+=s.length,s):""}let i=[];for(;n(AD),!(r>=e.length);){let o=n(xD);if(o.slice(-1)===",")o=Ro(t,o.substring(0,o.length-1)),i.push(o);else{let s="";o=Ro(t,o);let a=!1;for(;;){let c=e.charAt(r);if(c===""){i.push((o+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){r+=1,i.push((o+s).trim());break}else c==="("&&(a=!0);s+=c,r+=1}}}return i.join(", ")}function Ro(t,e){if(!e||e.trim()==="")return e;let r=t.createElement("a");return r.href=e,r.href}function ND(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Gh(){let t=document.createElement("a");return t.href="",t.href}function mE(t,e,r,n,i,o){return n&&(r==="src"||r==="href"&&!(e==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(e==="table"||e==="td"||e==="th")?Ro(t,n):r==="srcset"?PD(t,n):r==="style"?Xu(n,Gh()):e==="object"&&r==="data"?Ro(t,n):typeof o=="function"?o(r,n,i):n)}function hE(t,e,r){return(t==="video"||t==="audio")&&e==="autoplay"}function MD(t,e,r,n){try{if(n&&t.matches(n))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let i=t.classList.length;i--;){let o=t.classList[i];if(e.test(o))return!0}if(r)return t.matches(r)}catch(i){}return!1}function DD(t,e){for(let r=t.classList.length;r--;){let n=t.classList[r];if(e.test(n))return!0}return!1}function si(t,e,r=1/0,n=0){return!t||t.nodeType!==t.ELEMENT_NODE||n>r?-1:e(t)?n:si(t.parentNode,e,r,n+1)}function Oo(t,e){return r=>{let n=r;if(n===null)return!1;if(t){if(typeof t=="string"){if(n.matches(`.${t}`))return!0}else if(DD(n,t))return!0}return!!(e&&n.matches(e))}}function Po(t,e,r,n,i,o){try{let s=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(s===null)return!1;let a=-1,c=-1;if(o){if(c=si(s,Oo(n,i)),c<0)return!0;a=si(s,Oo(e,r),c>=0?c:1/0)}else{if(a=si(s,Oo(e,r)),a<0)return!1;c=si(s,Oo(n,i),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch(s){}return!!o}function LD(t,e,r){let n=t.contentWindow;if(!n)return;let i=!1,o;try{o=n.document.readyState}catch(a){return}if(o!=="complete"){let a=setTimeout(()=>{i||(e(),i=!0)},r);t.addEventListener("load",()=>{clearTimeout(a),i=!0,e()});return}let s="about:blank";if(n.location.href!==s||t.src===s||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function jD(t,e,r){let n=!1,i;try{i=t.sheet}catch(s){return}if(i)return;let o=setTimeout(()=>{n||(e(),n=!0)},r);t.addEventListener("load",()=>{clearTimeout(o),n=!0,e()})}function FD(t,e){let{doc:r,mirror:n,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:_,maskInputFn:b,dataURLOptions:y={},inlineImages:w,recordCanvas:R,keepIframeSrcFn:O,newlyAddedElement:k=!1}=e,P=qD(r,n);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:Ze.Document,childNodes:[],compatMode:t.compatMode}:{type:Ze.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Ze.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:P};case t.ELEMENT_NODE:return UD(t,{doc:r,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:m,maskInputFn:b,dataURLOptions:y,inlineImages:w,recordCanvas:R,keepIframeSrcFn:O,newlyAddedElement:k,rootId:P,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case t.TEXT_NODE:return BD(t,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:m,maskInputFn:b,rootId:P});case t.CDATA_SECTION_NODE:return{type:Ze.CDATA,textContent:"",rootId:P};case t.COMMENT_NODE:return{type:Ze.Comment,textContent:t.textContent||"",rootId:P};default:return!1}}function qD(t,e){if(!e.hasNode(t))return;let r=e.getId(t);return r===1?void 0:r}function BD(t,e){var r;let{maskAllText:n,maskTextClass:i,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:u,maskInputFn:l,rootId:d}=e,f=t.parentNode&&t.parentNode.tagName,p=t.textContent,m=f==="STYLE"?!0:void 0,_=f==="SCRIPT"?!0:void 0,b=f==="TEXTAREA"?!0:void 0;if(m&&p){try{t.nextSibling||t.previousSibling||!((r=t.parentNode.sheet)===null||r===void 0)&&r.cssRules&&(p=Ku(t.parentNode.sheet))}catch(w){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${w}`,t)}p=Xu(p,Gh())}_&&(p="SCRIPT_PLACEHOLDER");let y=Po(t,i,s,o,a,n);if(!m&&!_&&!b&&p&&y&&(p=c?c(p):p.replace(/[\S]/g,"*")),b&&p&&(u.textarea||y)&&(p=l?l(p,t.parentNode):p.replace(/[\S]/g,"*")),f==="OPTION"&&p){let w=al({type:null,tagName:f,maskInputOptions:u});p=Da({isMasked:Po(t,i,s,o,a,w),element:t,value:p,maskInputFn:l})}return{type:Ze.Text,textContent:p||"",isStyle:m,rootId:d}}function UD(t,e){let{doc:r,blockClass:n,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:_,maskAllText:b,maskTextClass:y,unmaskTextClass:w,maskTextSelector:R,unmaskTextSelector:O}=e,k=MD(t,n,i,o),P=ID(t),N={},G=t.attributes.length;for(let x=0;x<G;x++){let q=t.attributes[x];hE(P,q.name,q.value)||(N[q.name]=mE(r,P,Ao(q.name),q.value,t,c))}if(P==="link"&&s){let x=Array.from(r.styleSheets).find(ee=>ee.href===t.href),q=null;x&&(q=Ku(x)),q&&(delete N.rel,delete N.href,N._cssText=Xu(q,x.href))}if(P==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){let x=Ku(t.sheet);x&&(N._cssText=Xu(x,Gh()))}if(P==="input"||P==="textarea"||P==="select"||P==="option"){let x=t,q=Uh(x),ee=Ju(x,gh(P),q),Ce=x.checked;if(q!=="submit"&&q!=="button"&&ee){let $e=Po(x,y,R,w,O,al({type:q,tagName:gh(P),maskInputOptions:a}));N.value=Da({isMasked:$e,element:x,value:ee,maskInputFn:u})}Ce&&(N.checked=Ce)}if(P==="option"&&(t.selected&&!a.select?N.selected=!0:delete N.selected),P==="canvas"&&f){if(t.__context==="2d")ED(t)||(N.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){let x=t.toDataURL(l.type,l.quality),q=document.createElement("canvas");q.width=t.width,q.height=t.height;let ee=q.toDataURL(l.type,l.quality);x!==ee&&(N.rr_dataURL=x)}}if(P==="img"&&d){Io||(Io=r.createElement("canvas"),JS=Io.getContext("2d"));let x=t,q=x.crossOrigin;x.crossOrigin="anonymous";let ee=()=>{x.removeEventListener("load",ee);try{Io.width=x.naturalWidth,Io.height=x.naturalHeight,JS.drawImage(x,0,0),N.rr_dataURL=Io.toDataURL(l.type,l.quality)}catch(Ce){console.warn(`Cannot inline img src=${x.currentSrc}! Error: ${Ce}`)}q?N.crossOrigin=q:x.removeAttribute("crossorigin")};x.complete&&x.naturalWidth!==0?ee():x.addEventListener("load",ee)}if((P==="audio"||P==="video")&&(N.rr_mediaState=t.paused?"paused":"played",N.rr_mediaCurrentTime=t.currentTime),m||(t.scrollLeft&&(N.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(N.rr_scrollTop=t.scrollTop)),k){let{width:x,height:q}=t.getBoundingClientRect();N={class:N.class,rr_width:`${x}px`,rr_height:`${q}px`}}P==="iframe"&&!p(N.src)&&(t.contentDocument||(N.rr_src=N.src),delete N.src);let oe;try{customElements.get(P)&&(oe=!0)}catch(x){}return{type:Ze.Element,tagName:P,attributes:N,childNodes:[],isSVG:ND(t)||void 0,needBlock:k,rootId:_,isCustom:oe}}function Oe(t){return t==null?"":t.toLowerCase()}function HD(t,e){if(e.comment&&t.type===Ze.Comment)return!0;if(t.type===Ze.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Oe(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Oe(t.attributes.name)==="application-name"||Oe(t.attributes.rel)==="icon"||Oe(t.attributes.rel)==="apple-touch-icon"||Oe(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&Oe(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Oe(t.attributes.property).match(/^(og|twitter|fb):/)||Oe(t.attributes.name).match(/^(og|twitter):/)||Oe(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Oe(t.attributes.name)==="robots"||Oe(t.attributes.name)==="googlebot"||Oe(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Oe(t.attributes.name)==="author"||Oe(t.attributes.name)==="generator"||Oe(t.attributes.name)==="framework"||Oe(t.attributes.name)==="publisher"||Oe(t.attributes.name)==="progid"||Oe(t.attributes.property).match(/^article:/)||Oe(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Oe(t.attributes.name)==="google-site-verification"||Oe(t.attributes.name)==="yandex-verification"||Oe(t.attributes.name)==="csrf-token"||Oe(t.attributes.name)==="p:domain_verify"||Oe(t.attributes.name)==="verify-v1"||Oe(t.attributes.name)==="verification"||Oe(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ko(t,e){let{doc:r,mirror:n,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:w,dataURLOptions:R={},inlineImages:O=!1,recordCanvas:k=!1,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:G=5e3,onStylesheetLoad:oe,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:q=()=>!1,newlyAddedElement:ee=!1}=e,{preserveWhiteSpace:Ce=!0}=e,$e=FD(t,{doc:r,mirror:n,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,dataURLOptions:R,inlineImages:O,recordCanvas:k,keepIframeSrcFn:q,newlyAddedElement:ee});if(!$e)return console.warn(t,"not serialized"),null;let Qe;n.hasNode(t)?Qe=n.getId(t):HD($e,w)||!Ce&&$e.type===Ze.Text&&!$e.isStyle&&!$e.textContent.replace(/^\s+|\s+$/gm,"").length?Qe=La:Qe=Hh();let ye=Object.assign($e,{id:Qe});if(n.add(t,ye),Qe===La)return null;P&&P(t);let qt=!f;if(ye.type===Ze.Element){qt=qt&&!ye.needBlock,delete ye.needBlock;let Ne=t.shadowRoot;Ne&&Na(Ne)&&(ye.isShadowHost=!0)}if((ye.type===Ze.Document||ye.type===Ze.Element)&&qt){w.headWhitespace&&ye.type===Ze.Element&&ye.tagName==="head"&&(Ce=!1);let Ne={doc:r,mirror:n,blockClass:i,blockSelector:o,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:w,dataURLOptions:R,inlineImages:O,recordCanvas:k,preserveWhiteSpace:Ce,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:G,onStylesheetLoad:oe,stylesheetLoadTimeout:x,keepIframeSrcFn:q};for(let it of Array.from(t.childNodes)){let xt=ko(it,Ne);xt&&ye.childNodes.push(xt)}if(hD(t)&&t.shadowRoot)for(let it of Array.from(t.shadowRoot.childNodes)){let xt=ko(it,Ne);xt&&(Na(t.shadowRoot)&&(xt.isShadow=!0),ye.childNodes.push(xt))}}return t.parentNode&&Pa(t.parentNode)&&Na(t.parentNode)&&(ye.isShadow=!0),ye.type===Ze.Element&&ye.tagName==="iframe"&&LD(t,()=>{let Ne=t.contentDocument;if(Ne&&N){let it=ko(Ne,{doc:Ne,mirror:n,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:w,dataURLOptions:R,inlineImages:O,recordCanvas:k,preserveWhiteSpace:Ce,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:G,onStylesheetLoad:oe,stylesheetLoadTimeout:x,keepIframeSrcFn:q});it&&N(t,it)}},G),ye.type===Ze.Element&&ye.tagName==="link"&&ye.attributes.rel==="stylesheet"&&jD(t,()=>{if(oe){let Ne=ko(t,{doc:r,mirror:n,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:w,dataURLOptions:R,inlineImages:O,recordCanvas:k,preserveWhiteSpace:Ce,onSerialize:P,onIframeLoad:N,iframeLoadTimeout:G,onStylesheetLoad:oe,stylesheetLoadTimeout:x,keepIframeSrcFn:q});Ne&&oe(t,Ne)}},x),ye}function GD(t,e){let{mirror:r=new Yu,blockClass:n="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOM:w=!1,dataURLOptions:R,preserveWhiteSpace:O,onSerialize:k,onIframeLoad:P,iframeLoadTimeout:N,onStylesheetLoad:G,stylesheetLoadTimeout:oe,keepIframeSrcFn:x=()=>!1}=e||{};return ko(t,{doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:y,slimDOMOptions:w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:w==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:w===!1?{}:w,dataURLOptions:R,inlineImages:f,recordCanvas:p,preserveWhiteSpace:O,onSerialize:k,onIframeLoad:P,iframeLoadTimeout:N,onStylesheetLoad:G,stylesheetLoadTimeout:oe,keepIframeSrcFn:x,newlyAddedElement:!1})}function bt(t,e,r=document){let n={capture:!0,passive:!0};return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e,n)}var $o=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,XS={map:{},getId(){return console.error($o),-1},getNode(){return console.error($o),null},removeNodeFromMap(){console.error($o)},has(){return console.error($o),!1},reset(){console.error($o)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(XS=new Proxy(XS,{get(t,e,r){return e==="map"&&console.error($o),Reflect.get(t,e,r)}}));function ja(t,e,r={}){let n=null,i=0;return function(...o){let s=Date.now();!i&&r.leading===!1&&(i=s);let a=e-(s-i),c=this;a<=0||a>e?(n&&(clearTimeout(n),n=null),i=s,t.apply(c,o)):!n&&r.trailing!==!1&&(n=setTimeout(()=>{i=r.leading===!1?0:Date.now(),n=null,t.apply(c,o)},a))}}function gE(t,e,r,n,i=window){let o=i.Object.getOwnPropertyDescriptor(t,e);return i.Object.defineProperty(t,e,n?r:{set(s){setTimeout(()=>{r.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>gE(t,e,o||{},!0)}function Vh(t,e,r){try{if(!(e in t))return()=>{};let n=t[e],i=r(n);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),t[e]=i,()=>{t[e]=n}}catch(n){return()=>{}}}var Zu=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Zu=()=>new Date().getTime());function yE(t){var e,r,n,i,o,s;let a=t.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((r=(e=a==null?void 0:a.body)===null||e===void 0?void 0:e.parentElement)===null||r===void 0?void 0:r.scrollLeft)||((n=a==null?void 0:a.body)===null||n===void 0?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((o=(i=a==null?void 0:a.body)===null||i===void 0?void 0:i.parentElement)===null||o===void 0?void 0:o.scrollTop)||((s=a==null?void 0:a.body)===null||s===void 0?void 0:s.scrollTop)||0}}function _E(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function vE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function fr(t,e,r,n,i){if(!t)return!1;let o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!o)return!1;let s=Oo(e,r);if(!i){let u=n&&o.matches(n);return s(o)&&!u}let a=si(o,s),c=-1;return a<0?!1:(n&&(c=si(o,Oo(null,n))),a>-1&&c<0?!0:a<c)}function VD(t,e){return e.getId(t)!==-1}function ph(t,e){return e.getId(t)===La}function bE(t,e){if(Pa(t))return!1;let r=e.getId(t);return e.has(r)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?bE(t.parentNode,e):!0:!0}function yh(t){return!!t.changedTouches}function zD(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let r=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function SE(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function EE(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function _h(t){return!!(t!=null&&t.shadowRoot)}var vh=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var r;return(r=this.styleIDMap.get(e))!==null&&r!==void 0?r:-1}has(e){return this.styleIDMap.has(e)}add(e,r){if(this.has(e))return this.getId(e);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function wE(t){var e,r;let n=null;return((r=(e=t.getRootNode)===null||e===void 0?void 0:e.call(t))===null||r===void 0?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(n=t.getRootNode().host),n}function WD(t){let e=t,r;for(;r=wE(e);)e=r;return e}function KD(t){let e=t.ownerDocument;if(!e)return!1;let r=WD(t);return e.contains(r)}function TE(t){let e=t.ownerDocument;return e?e.contains(t)||KD(t):!1}var Z=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Z||{}),Q=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Q||{}),_t=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(_t||{}),en=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(en||{});function ZS(t){return"__ln"in t}var bh=class{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<e;n++)r=(r==null?void 0:r.next)||null;return r}addNode(e){let r={value:e,previous:null,next:null};if(e.__ln=r,e.previousSibling&&ZS(e.previousSibling)){let n=e.previousSibling.__ln.next;r.next=n,r.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(e.nextSibling&&ZS(e.nextSibling)&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;r.previous=n,r.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(e){let r=e.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}},QS=(t,e)=>`${t}@${e}`,Sh=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],r=new Set,n=new bh,i=c=>{let u=c,l=La;for(;l===La;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},o=c=>{if(!c.parentNode||!TE(c))return;let u=Pa(c.parentNode)?this.mirror.getId(wE(c)):this.mirror.getId(c.parentNode),l=i(c);if(u===-1||l===-1)return n.addNode(c);let d=ko(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{SE(f,this.mirror)&&this.iframeManager.addIframe(f),EE(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),_h(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(e.push({parentId:u,nextId:l,node:d}),r.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)eE(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(let c of this.addedSet)!tE(this.droppedSet,c)&&!eE(this.removes,c,this.mirror)||tE(this.movedSet,c)?o(c):this.droppedSet.add(c);let s=null;for(;n.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),l=i(s.value);u!==-1&&l!==-1&&(c=s)}if(!c){let u=n.tail;for(;u;){let l=u;if(u=u.previous,l){let d=this.mirror.getId(l.value.parentNode);if(i(l.value)===-1)continue;if(d!==-1){c=l;break}else{let p=l.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let m=p.parentNode.host;if(this.mirror.getId(m)!==-1){c=l;break}}}}}}if(!c){for(;n.head;)n.removeNode(n.head.value);break}s=c.previous,n.removeNode(c.value),o(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:e};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(ph(e.target,this.mirror))return;let r;try{r=document.implementation.createHTMLDocument()}catch(n){r=this.doc}switch(e.type){case"characterData":{let n=e.target.textContent;!fr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:Po(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{let n=e.target,i=e.attributeName,o=e.target.getAttribute(i);if(i==="value"){let a=Uh(n),c=n.tagName;o=Ju(n,c,a);let u=al({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),l=Po(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);o=Da({isMasked:l,element:n,value:o,maskInputFn:this.maskInputFn})}if(fr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let s=this.attributes.find(a=>a.node===e.target);if(n.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(o))if(!n.contentDocument)i="rr_src";else return;if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s)),i==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!hE(n.tagName,i)&&(s.attributes[i]=mE(this.doc,Ao(n.tagName),Ao(i),o,n,this.maskAttributeFn),i==="style")){let a=r.createElement("span");e.oldValue&&a.setAttribute("style",e.oldValue);for(let c of Array.from(n.style)){let u=n.style.getPropertyValue(c),l=n.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||l!==a.style.getPropertyPriority(c)?l===""?s.styleDiff[c]=u:s.styleDiff[c]=[u,l]:s._unchangedStyles[c]=[u,l]}for(let c of Array.from(a.style))n.style.getPropertyValue(c)===""&&(s.styleDiff[c]=!1)}break}case"childList":{if(fr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{let i=this.mirror.getId(n),o=Pa(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);fr(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ph(n,this.mirror)||!VD(n,this.mirror)||(this.addedSet.has(n)?(Eh(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&i===-1||bE(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[QS(i,o)]?Eh(this.movedSet,n):this.removes.push({parentId:o,id:i,isShadow:Pa(e.target)&&Na(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,r)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(ph(e,this.mirror))return;this.movedSet.add(e);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[QS(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);fr(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(n=>this.genAdds(n)),_h(e)&&e.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=e[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Eh(t,e){t.delete(e),e.childNodes.forEach(r=>Eh(t,r))}function eE(t,e,r){return t.length===0?!1:IE(t,e,r)}function IE(t,e,r){let{parentNode:n}=e;if(!n)return!1;let i=r.getId(n);return t.some(o=>o.id===i)?!0:IE(t,n,r)}function tE(t,e){return t.size===0?!1:$E(t,e)}function $E(t,e){let{parentNode:r}=e;return r?t.has(r)?!0:$E(t,r):!1}var Ma;function YD(t){Ma=t}function JD(){Ma=void 0}var de=t=>Ma?(...r)=>{try{return t(...r)}catch(n){if(Ma&&Ma(n)===!0)return()=>{};throw n}}:t,Co=[];function Ha(t){try{if("composedPath"in t){let e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(e){}return t&&t.target}function RE(t,e){var r,n;let i=new Sh;Co.push(i),i.init(t);let o=window.MutationObserver||window.__rrMutationObserver,s=(n=(r=window==null?void 0:window.Zone)===null||r===void 0?void 0:r.__symbol__)===null||n===void 0?void 0:n.call(r,"MutationObserver");s&&window[s]&&(o=window[s]);let a=new o(de(c=>{t.onMutation&&t.onMutation(c)===!1||i.processMutations.bind(i)(c)}));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function XD({mousemoveCb:t,sampling:e,doc:r,mirror:n}){if(e.mousemove===!1)return()=>{};let i=typeof e.mousemove=="number"?e.mousemove:50,o=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500,s=[],a,c=ja(de(d=>{let f=Date.now()-a;t(s.map(p=>(p.timeOffset-=f,p)),d),s=[],a=null}),o),u=de(ja(de(d=>{let f=Ha(d),{clientX:p,clientY:m}=yh(d)?d.changedTouches[0]:d;a||(a=Zu()),s.push({x:p,y:m,id:n.getId(f),timeOffset:Zu()-a}),c(typeof DragEvent!="undefined"&&d instanceof DragEvent?Q.Drag:d instanceof MouseEvent?Q.MouseMove:Q.TouchMove)}),i,{trailing:!1})),l=[bt("mousemove",u,r),bt("touchmove",u,r),bt("drag",u,r)];return de(()=>{l.forEach(d=>d())})}function ZD({mouseInteractionCb:t,doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:o,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,l=d=>f=>{let p=Ha(f);if(fr(p,n,i,o,!0))return;let m=null,_=d;if("pointerType"in f){switch(f.pointerType){case"mouse":m=en.Mouse;break;case"touch":m=en.Touch;break;case"pen":m=en.Pen;break}m===en.Touch?_t[d]===_t.MouseDown?_="TouchStart":_t[d]===_t.MouseUp&&(_="TouchEnd"):en.Pen}else yh(f)&&(m=en.Touch);m!==null?(u=m,(_.startsWith("Touch")&&m===en.Touch||_.startsWith("Mouse")&&m===en.Mouse)&&(m=null)):_t[d]===_t.Click&&(m=u,u=null);let b=yh(f)?f.changedTouches[0]:f;if(!b)return;let y=r.getId(p),{clientX:w,clientY:R}=b;de(t)(Object.assign({type:_t[_],id:y,x:w,y:R},m!==null&&{pointerType:m}))};return Object.keys(_t).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=Ao(d),p=l(d);if(window.PointerEvent)switch(_t[d]){case _t.MouseDown:case _t.MouseUp:f=f.replace("mouse","pointer");break;case _t.TouchStart:case _t.TouchEnd:return}c.push(bt(f,p,e))}),de(()=>{c.forEach(d=>d())})}function OE({scrollCb:t,doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:o,sampling:s}){let a=de(ja(de(c=>{let u=Ha(c);if(!u||fr(u,n,i,o,!0))return;let l=r.getId(u);if(u===e&&e.defaultView){let d=yE(e.defaultView);t({id:l,x:d.left,y:d.top})}else t({id:l,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return bt("scroll",a,e)}function QD({viewportResizeCb:t},{win:e}){let r=-1,n=-1,i=de(ja(de(()=>{let o=_E(),s=vE();(r!==o||n!==s)&&(t({width:Number(s),height:Number(o)}),r=o,n=s)}),200));return bt("resize",i,e)}var e2=["INPUT","TEXTAREA","SELECT"],rE=new WeakMap;function t2({inputCb:t,doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:_}){function b(N){let G=Ha(N),oe=N.isTrusted,x=G&&gh(G.tagName);if(x==="OPTION"&&(G=G.parentElement),!G||!x||e2.indexOf(x)<0||fr(G,n,i,o,!0))return;let q=G;if(q.classList.contains(s)||a&&q.matches(a))return;let ee=Uh(G),Ce=Ju(q,x,ee),$e=!1,Qe=al({maskInputOptions:c,tagName:x,type:ee}),ye=Po(G,f,m,p,_,Qe);(ee==="radio"||ee==="checkbox")&&($e=G.checked),Ce=Da({isMasked:ye,element:G,value:Ce,maskInputFn:u}),y(G,d?{text:Ce,isChecked:$e,userTriggered:oe}:{text:Ce,isChecked:$e});let qt=G.name;ee==="radio"&&qt&&$e&&e.querySelectorAll(`input[type="radio"][name="${qt}"]`).forEach(Ne=>{if(Ne!==G){let it=Da({isMasked:ye,element:Ne,value:Ju(Ne,x,ee),maskInputFn:u});y(Ne,d?{text:it,isChecked:!$e,userTriggered:!1}:{text:it,isChecked:!$e})}})}function y(N,G){let oe=rE.get(N);if(!oe||oe.text!==G.text||oe.isChecked!==G.isChecked){rE.set(N,G);let x=r.getId(N);de(t)(Object.assign(Object.assign({},G),{id:x}))}}let R=(l.input==="last"?["change"]:["input","change"]).map(N=>bt(N,de(b),e)),O=e.defaultView;if(!O)return()=>{R.forEach(N=>N())};let k=O.Object.getOwnPropertyDescriptor(O.HTMLInputElement.prototype,"value"),P=[[O.HTMLInputElement.prototype,"value"],[O.HTMLInputElement.prototype,"checked"],[O.HTMLSelectElement.prototype,"value"],[O.HTMLTextAreaElement.prototype,"value"],[O.HTMLSelectElement.prototype,"selectedIndex"],[O.HTMLOptionElement.prototype,"selected"]];return k&&k.set&&R.push(...P.map(N=>gE(N[0],N[1],{set(){de(b)({target:this,isTrusted:!1})}},!1,O))),de(()=>{R.forEach(N=>N())})}function Qu(t){let e=[];function r(n,i){if(zu("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||zu("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||zu("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||zu("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){let s=Array.from(n.parentRule.cssRules).indexOf(n);i.unshift(s)}else if(n.parentStyleSheet){let s=Array.from(n.parentStyleSheet.cssRules).indexOf(n);i.unshift(s)}return i}return r(t,e)}function wn(t,e,r){let n,i;return t?(t.ownerNode?n=e.getId(t.ownerNode):i=r.getId(t),{styleId:i,id:n}):{}}function r2({styleSheetRuleCb:t,mirror:e,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:de((l,d,f)=>{let[p,m]=f,{id:_,styleId:b}=wn(d,e,r.styleMirror);return(_&&_!==-1||b&&b!==-1)&&t({id:_,styleId:b,adds:[{rule:p,index:m}]}),l.apply(d,f)})});let o=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:de((l,d,f)=>{let[p]=f,{id:m,styleId:_}=wn(d,e,r.styleMirror);return(m&&m!==-1||_&&_!==-1)&&t({id:m,styleId:_,removes:[{index:p}]}),l.apply(d,f)})});let s;n.CSSStyleSheet.prototype.replace&&(s=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:de((l,d,f)=>{let[p]=f,{id:m,styleId:_}=wn(d,e,r.styleMirror);return(m&&m!==-1||_&&_!==-1)&&t({id:m,styleId:_,replace:p}),l.apply(d,f)})}));let a;n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:de((l,d,f)=>{let[p]=f,{id:m,styleId:_}=wn(d,e,r.styleMirror);return(m&&m!==-1||_&&_!==-1)&&t({id:m,styleId:_,replaceSync:p}),l.apply(d,f)})}));let c={};Wu("CSSGroupingRule")?c.CSSGroupingRule=n.CSSGroupingRule:(Wu("CSSMediaRule")&&(c.CSSMediaRule=n.CSSMediaRule),Wu("CSSConditionRule")&&(c.CSSConditionRule=n.CSSConditionRule),Wu("CSSSupportsRule")&&(c.CSSSupportsRule=n.CSSSupportsRule));let u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:de((f,p,m)=>{let[_,b]=m,{id:y,styleId:w}=wn(p.parentStyleSheet,e,r.styleMirror);return(y&&y!==-1||w&&w!==-1)&&t({id:y,styleId:w,adds:[{rule:_,index:[...Qu(p),b||0]}]}),f.apply(p,m)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:de((f,p,m)=>{let[_]=m,{id:b,styleId:y}=wn(p.parentStyleSheet,e,r.styleMirror);return(b&&b!==-1||y&&y!==-1)&&t({id:b,styleId:y,removes:[{index:[...Qu(p),_]}]}),f.apply(p,m)})})}),de(()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=o,s&&(n.CSSStyleSheet.prototype.replace=s),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function kE({mirror:t,stylesheetManager:e},r){var n,i,o;let s=null;r.nodeName==="#document"?s=t.getId(r):s=t.getId(r.host);let a=r.nodeName==="#document"?(n=r.defaultView)===null||n===void 0?void 0:n.Document:(o=(i=r.ownerDocument)===null||i===void 0?void 0:i.defaultView)===null||o===void 0?void 0:o.ShadowRoot,c=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return s===null||s===-1||!a||!c?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var u;return(u=c.get)===null||u===void 0?void 0:u.call(this)},set(u){var l;let d=(l=c.set)===null||l===void 0?void 0:l.call(this,u);if(s!==null&&s!==-1)try{e.adoptStyleSheets(u,s)}catch(f){}return d}}),de(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function n2({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){let o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:de((a,c,u)=>{var l;let[d,f,p]=u;if(r.has(d))return o.apply(c,[d,f,p]);let{id:m,styleId:_}=wn((l=c.parentRule)===null||l===void 0?void 0:l.parentStyleSheet,e,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&t({id:m,styleId:_,set:{property:d,value:f,priority:p},index:Qu(c.parentRule)}),a.apply(c,u)})});let s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:de((a,c,u)=>{var l;let[d]=u;if(r.has(d))return s.apply(c,[d]);let{id:f,styleId:p}=wn((l=c.parentRule)===null||l===void 0?void 0:l.parentStyleSheet,e,n.styleMirror);return(f&&f!==-1||p&&p!==-1)&&t({id:f,styleId:p,remove:{property:d},index:Qu(c.parentRule)}),a.apply(c,u)})}),de(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}function i2({mediaInteractionCb:t,blockClass:e,blockSelector:r,unblockSelector:n,mirror:i,sampling:o,doc:s}){let a=de(u=>ja(de(l=>{let d=Ha(l);if(!d||fr(d,e,r,n,!0))return;let{currentTime:f,volume:p,muted:m,playbackRate:_}=d;t({type:u,id:i.getId(d),currentTime:f,volume:p,muted:m,playbackRate:_})}),o.media||500)),c=[bt("play",a(0),s),bt("pause",a(1),s),bt("seeked",a(2),s),bt("volumechange",a(3),s),bt("ratechange",a(4),s)];return de(()=>{c.forEach(u=>u())})}function o2({fontCb:t,doc:e}){let r=e.defaultView;if(!r)return()=>{};let n=[],i=new WeakMap,o=r.FontFace;r.FontFace=function(c,u,l){let d=new o(c,u,l);return i.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};let s=Vh(e.fonts,"add",function(a){return function(c){return setTimeout(de(()=>{let u=i.get(c);u&&(t(u),i.delete(c))}),0),a.apply(this,[c])}});return n.push(()=>{r.FontFace=o}),n.push(s),de(()=>{n.forEach(a=>a())})}function s2(t){let{doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:o,selectionCb:s}=t,a=!0,c=de(()=>{let u=e.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;let l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){let p=u.getRangeAt(f),{startContainer:m,startOffset:_,endContainer:b,endOffset:y}=p;fr(m,n,i,o,!0)||fr(b,n,i,o,!0)||l.push({start:r.getId(m),startOffset:_,end:r.getId(b),endOffset:y})}s({ranges:l})});return c(),bt("selectionchange",c)}function a2({doc:t,customElementCb:e}){let r=t.defaultView;return!r||!r.customElements?()=>{}:Vh(r.customElements,"define",function(i){return function(o,s,a){try{e({define:{name:o}})}catch(c){}return i.apply(this,[o,s,a])}})}function c2(t,e={}){let r=t.doc.defaultView;if(!r)return()=>{};let n=RE(t,t.doc),i=XD(t),o=ZD(t),s=OE(t),a=QD(t,{win:r}),c=t2(t),u=i2(t),l=r2(t,{win:r}),d=kE(t,t.doc),f=n2(t,{win:r}),p=t.collectFonts?o2(t):()=>{},m=s2(t),_=a2(t),b=[];for(let y of t.plugins)b.push(y.observer(y.callback,r,y.options));return de(()=>{Co.forEach(y=>y.reset()),n.disconnect(),i(),o(),s(),a(),c(),u(),l(),d(),f(),p(),m(),_(),b.forEach(y=>y())})}function zu(t){return typeof window[t]!="undefined"}function Wu(t){return!!(typeof window[t]!="undefined"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}var Fa=class{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,r,n,i){let o=n||this.getIdToRemoteIdMap(e),s=i||this.getRemoteIdToIdMap(e),a=o.get(r);return a||(a=this.generateIdFn(),o.set(r,a),s.set(a,r)),a}getIds(e,r){let n=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return r.map(o=>this.getId(e,o,n,i))}getRemoteId(e,r,n){let i=n||this.getRemoteIdToIdMap(e);if(typeof r!="number")return r;let o=i.get(r);return o||-1}getRemoteIds(e,r){let n=this.getRemoteIdToIdMap(e);return r.map(i=>this.getRemoteId(e,i,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let r=this.iframeIdToRemoteIdMap.get(e);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(e,r)),r}getRemoteIdToIdMap(e){let r=this.iframeRemoteIdToIdMap.get(e);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(e,r)),r}},wh=class{constructor(){this.crossOriginIframeMirror=new Fa(Hh),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Th=class{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Fa(Hh),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Fa(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,r){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(n=this.loadListener)===null||n===void 0||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){let r=e;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!e.source)return;let i=this.crossOriginIframeMap.get(e.source);if(!i)return;let o=this.transformCrossOriginEvent(i,r.data.event);o&&this.wrappedEmit(o,r.data.isCheckout)}transformCrossOriginEvent(e,r){var n;switch(r.type){case Z.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(r.data.node,e);let i=r.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(r.data.node,i),{timestamp:r.timestamp,type:Z.IncrementalSnapshot,data:{source:Q.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Z.Meta:case Z.Load:case Z.DomContentLoaded:return!1;case Z.Plugin:return r;case Z.Custom:return this.replaceIds(r.data.payload,e,["id","parentId","previousId","nextId"]),r;case Z.IncrementalSnapshot:switch(r.data.source){case Q.Mutation:return r.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);let o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(i.node,o)}),r.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),r.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),r.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case Q.Drag:case Q.TouchMove:case Q.MouseMove:return r.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),r;case Q.ViewportResize:return!1;case Q.MediaInteraction:case Q.MouseInteraction:case Q.Scroll:case Q.CanvasMutation:case Q.Input:return this.replaceIds(r.data,e,["id"]),r;case Q.StyleSheetRule:case Q.StyleDeclaration:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleId"]),r;case Q.Font:return r;case Q.Selection:return r.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),r;case Q.AdoptedStyleSheet:return this.replaceIds(r.data,e,["id"]),this.replaceStyleIds(r.data,e,["styleIds"]),(n=r.data.styles)===null||n===void 0||n.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),r}}return!1}replace(e,r,n,i){for(let o of i)!Array.isArray(r[o])&&typeof r[o]!="number"||(Array.isArray(r[o])?r[o]=e.getIds(n,r[o]):r[o]=e.getId(n,r[o]));return r}replaceIds(e,r,n){return this.replace(this.crossOriginIframeMirror,e,r,n)}replaceStyleIds(e,r,n){return this.replace(this.crossOriginIframeStyleMirror,e,r,n)}replaceIdOnNode(e,r){this.replaceIds(e,r,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(e,r){e.type!==Ze.Document&&!e.rootId&&(e.rootId=r),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}},Ih=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},$h=class{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,r){if(!Na(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);let n=RE(Object.assign(Object.assign({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(OE(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(kE({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,r){let n=this;this.restoreHandlers.push(Vh(e.prototype,"attachShadow",function(i){return function(o){let s=i.call(this,o);return this.shadowRoot&&TE(this)&&n.addShadowRoot(this.shadowRoot,r),s}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(r){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},Rh=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}},Oh=class{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new vh,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,r){if(e.length===0)return;let n={id:r,styleIds:[]},i=[];for(let o of e){let s;this.styleMirror.has(o)?s=this.styleMirror.getId(o):(s=this.styleMirror.add(o),i.push({styleId:s,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:pE(a),index:c}))})),n.styleIds.push(s)}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}},kh=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,r){let n=this.nodeMap.get(e);return n&&Array.from(n).some(i=>i!==r)}add(e,r){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}};function Ke(t){let e=t;return e.timestamp=Zu(),e}var Ch,el,dr=SD();function In(t={}){let{emit:e,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:_,maskInputOptions:b,slimDOMOptions:y,maskAttributeFn:w,maskInputFn:R,maskTextFn:O,packFn:k,sampling:P={},dataURLOptions:N={},mousemoveWait:G,recordCanvas:oe=!1,recordCrossOriginIframes:x=!1,recordAfter:q=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:ee=!1,collectFonts:Ce=!1,inlineImages:$e=!1,plugins:Qe,keepIframeSrcFn:ye=()=>!1,ignoreCSSAttributes:qt=new Set([]),errorHandler:Ne,onMutation:it,getCanvasManager:xt}=t;YD(Ne);let tn=x?window.parent===window:!0,kr=!1;if(!tn)try{window.parent.document&&(kr=!1)}catch(z){kr=!0}if(tn&&!e)throw new Error("emit function is required");G!==void 0&&P.mousemove===void 0&&(P.mousemove=G),dr.reset();let Cr=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},At=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};zD();let ot,St=0,xr=z=>{for(let et of Qe||[])et.eventProcessor&&(z=et.eventProcessor(z));return k&&!kr&&(z=k(z)),z},xe=(z,et)=>{var ce;if(!((ce=Co[0])===null||ce===void 0)&&ce.isFrozen()&&z.type!==Z.FullSnapshot&&!(z.type===Z.IncrementalSnapshot&&z.data.source===Q.Mutation)&&Co.forEach(tt=>tt.unfreeze()),tn)e==null||e(xr(z),et);else if(kr){let tt={type:"rrweb",event:xr(z),origin:window.location.origin,isCheckout:et};window.parent.postMessage(tt,"*")}if(z.type===Z.FullSnapshot)ot=z,St=0;else if(z.type===Z.IncrementalSnapshot){if(z.data.source===Q.Mutation&&z.data.isAttachIframe)return;St++;let tt=n&&St>=n,Pr=r&&z.timestamp-ot.timestamp>r;(tt||Pr)&&hi(!0)}};Ch=xe;let rn=z=>{xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.Mutation},z)}))},mi=z=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.Scroll},z)})),tc=z=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.CanvasMutation},z)})),Ul=z=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.AdoptedStyleSheet},z)})),Ar=new Oh({mutationCb:rn,adoptedStyleSheetCb:Ul}),st=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new wh:new Th({mirror:dr,mutationCb:rn,stylesheetManager:Ar,recordCrossOriginIframes:x,wrappedEmit:xe});for(let z of Qe||[])z.getMirror&&z.getMirror({nodeMirror:dr,crossOriginIframeMirror:st.crossOriginIframeMirror,crossOriginIframeStyleMirror:st.crossOriginIframeStyleMirror});let Ko=new kh,Yo=d2(xt,{recordCanvas:oe,blockClass:i,blockSelector:o,unblockSelector:s,sampling:P.canvas,dataURLOptions:N}),On=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Ih:new $h({mutationCb:rn,scrollCb:mi,bypassOptions:{onMutation:it,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:Cr,dataURLOptions:N,maskAttributeFn:w,maskTextFn:O,maskInputFn:R,recordCanvas:oe,inlineImages:$e,sampling:P,slimDOMOptions:At,iframeManager:st,stylesheetManager:Ar,canvasManager:Yo,keepIframeSrcFn:ye,processedNodeManager:Ko},mirror:dr}),hi=(z=!1)=>{xe(Ke({type:Z.Meta,data:{href:window.location.href,width:vE(),height:_E()}}),z),Ar.reset(),On.init(),Co.forEach(ce=>ce.lock());let et=GD(document,{mirror:dr,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:Cr,maskAttributeFn:w,maskInputFn:R,maskTextFn:O,slimDOM:At,dataURLOptions:N,recordCanvas:oe,inlineImages:$e,onSerialize:ce=>{SE(ce,dr)&&st.addIframe(ce),EE(ce,dr)&&Ar.trackLinkElement(ce),_h(ce)&&On.addShadowRoot(ce.shadowRoot,document)},onIframeLoad:(ce,tt)=>{st.attachIframe(ce,tt),On.observeAttachShadow(ce)},onStylesheetLoad:(ce,tt)=>{Ar.attachLinkElement(ce,tt)},keepIframeSrcFn:ye});if(!et)return console.warn("Failed to snapshot the document");xe(Ke({type:Z.FullSnapshot,data:{node:et,initialOffset:yE(window)}})),Co.forEach(ce=>ce.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ar.adoptStyleSheets(document.adoptedStyleSheets,dr.getId(document))};el=hi;try{let z=[],et=tt=>{var Pr;return de(c2)({onMutation:it,mutationCb:rn,mousemoveCb:(Ee,Jo)=>xe(Ke({type:Z.IncrementalSnapshot,data:{source:Jo,positions:Ee}})),mouseInteractionCb:Ee=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.MouseInteraction},Ee)})),scrollCb:mi,viewportResizeCb:Ee=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.ViewportResize},Ee)})),inputCb:Ee=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.Input},Ee)})),mediaInteractionCb:Ee=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.MediaInteraction},Ee)})),styleSheetRuleCb:Ee=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.StyleSheetRule},Ee)})),styleDeclarationCb:Ee=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.StyleDeclaration},Ee)})),canvasMutationCb:tc,fontCb:Ee=>xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.Font},Ee)})),selectionCb:Ee=>{xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.Selection},Ee)}))},customElementCb:Ee=>{xe(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.CustomElement},Ee)}))},blockClass:i,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Cr,inlineStylesheet:m,sampling:P,recordCanvas:oe,inlineImages:$e,userTriggeredOnInput:ee,collectFonts:Ce,doc:tt,maskAttributeFn:w,maskInputFn:R,maskTextFn:O,keepIframeSrcFn:ye,blockSelector:o,unblockSelector:s,slimDOMOptions:At,dataURLOptions:N,mirror:dr,iframeManager:st,stylesheetManager:Ar,shadowDomManager:On,processedNodeManager:Ko,canvasManager:Yo,ignoreCSSAttributes:qt,plugins:((Pr=Qe==null?void 0:Qe.filter(Ee=>Ee.observer))===null||Pr===void 0?void 0:Pr.map(Ee=>({observer:Ee.observer,options:Ee.options,callback:Jo=>xe(Ke({type:Z.Plugin,data:{plugin:Ee.name,payload:Jo}}))})))||[]},{})};st.addLoadListener(tt=>{try{z.push(et(tt.contentDocument))}catch(Pr){console.warn(Pr)}});let ce=()=>{hi(),z.push(et(document))};return document.readyState==="interactive"||document.readyState==="complete"?ce():(z.push(bt("DOMContentLoaded",()=>{xe(Ke({type:Z.DomContentLoaded,data:{}})),q==="DOMContentLoaded"&&ce()})),z.push(bt("load",()=>{xe(Ke({type:Z.Load,data:{}})),q==="load"&&ce()},window))),()=>{z.forEach(tt=>tt()),Ko.destroy(),el=void 0,JD()}}catch(z){console.warn(z)}}function u2(t){if(!el)throw new Error("please take full snapshot after start recording");el(t)}function l2(t){Ch&&Ch(t)}In.mirror=dr;In.takeFullSnapshot=u2;function d2(t,e){return t?t(Object.assign(Object.assign({},e),{mirror:dr,win:window,mutationCb:r=>l2(Ke({type:Z.IncrementalSnapshot,data:Object.assign({source:Q.CanvasMutation},r)}))})):new Rh}var f2=3,p2=5;function zh(t){return t>9999999999?t:t*1e3}function mh(t){return t>9999999999?t/1e3:t}function Ga(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Z.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ot(e,10,1e3)}}),e.category==="console")))}var m2="button,a";function CE(t){return t.closest(m2)||t}function xE(t){let e=AE(t);return!e||!(e instanceof Element)?e:CE(e)}function AE(t){return h2(t)?t.target:t}function h2(t){return typeof t=="object"&&!!t&&"target"in t}var Tn;function g2(t){return Tn||(Tn=[],y2()),Tn.push(t),()=>{let e=Tn?Tn.indexOf(t):-1;e>-1&&Tn.splice(e,1)}}function y2(){Re(ke,"open",function(t){return function(...e){if(Tn)try{Tn.forEach(r=>r())}catch(r){}return t.apply(ke,e)}})}function _2(t,e,r){t.handleClick(e,r)}var xh=class{constructor(e,r,n=Ga){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scollTimeout=r.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let e=g2(()=>{this._lastMutation=nE()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,r){if(b2(r,this._ignoreSelector)||!S2(e))return;let n={timestamp:mh(e.timestamp),clickBreadcrumb:e,clickCount:0,node:r};this._clicks.some(i=>i.node===n.node&&Math.abs(i.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=mh(e)}registerScroll(e=Date.now()){this._lastScroll=mh(e)}registerClick(e){let r=CE(e);this._handleMultiClick(r)}_handleMultiClick(e){this._getClicks(e).forEach(r=>{r.clickCount++})}_getClicks(e){return this._clicks.filter(r=>r.node===e)}_checkClicks(){let e=[],r=nE();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=r&&e.push(n)});for(let n of e){let i=this._clicks.indexOf(n);i>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let r=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,i=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!i,{clickCount:s,clickBreadcrumb:a}=e;if(o){let c=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:C(g({},a.data),{url:ke.location.href,route:r.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1})};this._addBreadcrumbEvent(r,l);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:C(g({},a.data),{url:ke.location.href,route:r.getCurrentRoute(),clickCount:s,metric:!0})};this._addBreadcrumbEvent(r,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}},v2=["A","BUTTON","INPUT"];function b2(t,e){return!!(!v2.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function S2(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function nE(){return Date.now()/1e3}function E2(t,e){try{if(!w2(e))return;let{source:r}=e.data;if(r===Q.Mutation&&t.registerMutation(e.timestamp),r===Q.Scroll&&t.registerScroll(e.timestamp),T2(e)){let{type:n,id:i}=e.data,o=In.mirror.getNode(i);o instanceof HTMLElement&&n===_t.Click&&t.registerClick(o)}}catch(r){}}function w2(t){return t.type===f2}function T2(t){return t.data.source===Q.MouseInteraction}function $r(t){return g({timestamp:Date.now()/1e3,type:"default"},t)}var tl;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(tl||(tl={}));var I2=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function $2(t){let e={};for(let r in t)if(I2.has(r)){let n=r;(r==="data-testid"||r==="data-test-id")&&(n="testId"),e[n]=t[r]}return e}var R2=t=>e=>{if(!t.isEnabled())return;let r=O2(e);if(!r)return;let n=e.name==="click",i=n?e.event:void 0;n&&t.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&_2(t.clickDetector,r,xE(e.event)),Ga(t,r)};function PE(t,e){let r=In.mirror.getId(t),n=r&&In.mirror.getNode(r),i=n&&In.mirror.getMeta(n),o=i&&C2(i)?i:null;return{message:e,data:o?{nodeId:r,node:{id:r,tagName:o.tagName,textContent:Array.from(o.childNodes).map(s=>s.type===tl.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:$2(o.attributes)}}:{}}}function O2(t){let{target:e,message:r}=k2(t);return $r(g({category:`ui.${t.name}`},PE(e,r)))}function k2(t){let e=t.name==="click",r,n=null;try{n=e?xE(t.event):AE(t.event),r=Jt(n,{maxStringLength:200})||"<unknown>"}catch(i){r="<unknown>"}return{target:n,message:r}}function C2(t){return t.type===tl.Element}function x2(t,e){if(!t.isEnabled())return;t.updateUserActivity();let r=A2(e);r&&Ga(t,r)}function A2(t){let{metaKey:e,shiftKey:r,ctrlKey:n,altKey:i,key:o,target:s}=t;if(!s||P2(s)||!o)return null;let a=e||n||i,c=o.length===1;if(!a&&c)return null;let u=Jt(s,{maxStringLength:200})||"<unknown>",l=PE(s,u);return $r({category:"ui.keyDown",message:u,data:C(g({},l.data),{metaKey:e,shiftKey:r,ctrlKey:n,altKey:i,key:o})})}function P2(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}var iE={resource:j2,paint:D2,navigation:L2};function N2(t){return t.map(M2).filter(Boolean)}function M2(t){return iE[t.entryType]?iE[t.entryType](t):null}function No(t){return((Je||ke.performance.timeOrigin)+t)/1e3}function D2(t){let{duration:e,entryType:r,name:n,startTime:i}=t,o=No(i);return{type:r,name:n,start:o,end:o+e,data:void 0}}function L2(t){let{entryType:e,name:r,decodedBodySize:n,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:m,type:_}=t;return i===0?null:{type:`${e}.${_}`,start:No(p),end:No(o),name:r,data:{size:m,decodedBodySize:n,encodedBodySize:s,duration:i,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:o,redirectCount:f}}}function j2(t){let{entryType:e,initiatorType:r,name:n,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=t;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${e}.${r}`,start:No(o),end:No(i),name:n,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function F2(t){let e=t.entries,r=e[e.length-1],n=r?r.element:void 0,i=t.value,o=No(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:o,end:o,data:{value:i,size:i,nodeId:n?In.mirror.getId(n):void 0}}}function q2(t){function e(i){t.performanceEntries.includes(i)||t.performanceEntries.push(i)}function r({entries:i}){i.forEach(e)}let n=[];return["navigation","paint","resource"].forEach(i=>{n.push(En(i,r))}),n.push(Oa(({metric:i})=>{t.replayPerformanceEntries.push(F2(i))})),()=>{n.forEach(i=>i())}}var Ie=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,B2='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function U2(){let t=new Blob([B2]);return URL.createObjectURL(t)}function vt(t,e){Ie&&(S.info(t),e&&NE(t))}function xo(t,e){Ie&&(S.info(t),e&&setTimeout(()=>{NE(t)},0))}function NE(t){jt({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}var qa=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Bh}.`)}},rl=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(e){return F(this,null,function*(){let r=JSON.stringify(e).length;if(this._totalSize+=r,this._totalSize>Bh)throw new qa;this.events.push(e)})}finish(){return new Promise(e=>{let r=this.events;this.clear(),e(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(r=>r.timestamp).sort()[0];return e?zh(e):null}},Ah=class{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,r)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():r()},{once:!0}),this._worker.addEventListener("error",n=>{r(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){vt("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,r){let n=this._getAndIncrementId();return new Promise((i,o)=>{let s=({data:a})=>{let c=a;if(c.method===e&&c.id===n){if(this._worker.removeEventListener("message",s),!c.success){Ie&&S.error("[Replay]",c.response),o(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:r})})}_getAndIncrementId(){return this._id++}},Ph=class{constructor(e){this._worker=new Ah(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let r=zh(e.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);let n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Bh?Promise.reject(new qa):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{Ie&&S.warn('[Replay] Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}_finishRequest(){return F(this,null,function*(){let e=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e})}},Nh=class{constructor(e){this._fallback=new rl,this._compression=new Ph(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}finish(){return F(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return F(this,null,function*(){try{yield this._compression.ensureReady()}catch(e){vt("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return F(this,null,function*(){let{events:e,hasCheckout:r}=this._fallback,n=[];for(let i of e)n.push(this._compression.addEvent(i));this._compression.hasCheckout=r,this._used=this._compression;try{yield Promise.all(n)}catch(i){Ie&&S.warn("[Replay] Failed to add events when switching buffers.",i)}})}};function H2({useCompression:t,workerUrl:e}){if(t&&window.Worker){let r=G2(e);if(r)return r}return vt("[Replay] Using simple buffer"),new rl}function G2(t){try{let e=t||V2();if(!e)return;vt(`[Replay] Using compression worker${t?` from ${t}`:""}`);let r=new Worker(e);return new Nh(r)}catch(e){vt("[Replay] Failed to create compression worker")}}function V2(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?U2():""}function Wh(){try{return"sessionStorage"in ke&&!!ke.sessionStorage}catch(t){return!1}}function z2(t){W2(),t.session=void 0}function W2(){if(Wh())try{ke.sessionStorage.removeItem(Fh)}catch(t){}}function ME(t){return t===void 0?!1:Math.random()<t}function DE(t){let e=Date.now(),r=t.id||ge(),n=t.started||e,i=t.lastActivity||e,o=t.segmentId||0,s=t.sampled,a=t.previousSessionId;return{id:r,started:n,lastActivity:i,segmentId:o,sampled:s,previousSessionId:a}}function Kh(t){if(Wh())try{ke.sessionStorage.setItem(Fh,JSON.stringify(t))}catch(e){}}function K2(t,e){return ME(t)?"session":e?"buffer":!1}function oE({sessionSampleRate:t,allowBuffering:e,stickySession:r=!1},{previousSessionId:n}={}){let i=K2(t,e),o=DE({sampled:i,previousSessionId:n});return r&&Kh(o),o}function Y2(t){if(!Wh())return null;try{let e=ke.sessionStorage.getItem(Fh);if(!e)return null;let r=JSON.parse(e);return xo("[Replay] Loading existing session",t),DE(r)}catch(e){return null}}function Mh(t,e,r=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=r}function LE(t,{maxReplayDuration:e,sessionIdleExpire:r,targetTime:n=Date.now()}){return Mh(t.started,e,n)||Mh(t.lastActivity,r,n)}function jE(t,{sessionIdleExpire:e,maxReplayDuration:r}){return!(!LE(t,{sessionIdleExpire:e,maxReplayDuration:r})||t.sampled==="buffer"&&t.segmentId===0)}function hh({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:r,previousSessionId:n},i){let o=i.stickySession&&Y2(t);return o?jE(o,{sessionIdleExpire:e,maxReplayDuration:r})?(xo("[Replay] Session in sessionStorage is expired, creating new one..."),oE(i,{previousSessionId:o.id})):o:(xo("[Replay] Creating new session",t),oE(i,{previousSessionId:n}))}function J2(t){return t.type===Z.Custom}function Yh(t,e,r){return qE(t,e)?(FE(t,e,r),!0):!1}function X2(t,e,r){return qE(t,e)?FE(t,e,r):Promise.resolve(null)}function FE(t,e,r){return F(this,null,function*(){if(!t.eventBuffer)return null;try{r&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),r&&(t.eventBuffer.hasCheckout=!0);let n=t.getOptions(),i=Z2(e,n.beforeAddRecordingEvent);return i?yield t.eventBuffer.addEvent(i):void 0}catch(n){let i=n&&n instanceof qa?"addEventSizeExceeded":"addEvent";Ie&&S.error(n),yield t.stop({reason:i});let o=H();o&&o.recordDroppedEvent("internal_sdk_error","replay")}})}function qE(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;let r=zh(e.timestamp);return r+t.timeouts.sessionIdlePause<Date.now()?!1:r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(vt(`[Replay] Skipping event with timestamp ${r} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function Z2(t,e){try{if(typeof e=="function"&&J2(t))return e(t)}catch(r){return Ie&&S.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",r),null}return t}function Jh(t){return!t.type}function Dh(t){return t.type==="transaction"}function Q2(t){return t.type==="replay_event"}function sE(t){return t.type==="feedback"}function BE(t){let e=rL();return(r,n)=>{if(!t.isEnabled()||!Jh(r)&&!Dh(r))return;let i=n&&n.statusCode;if(!(e&&(!i||i<200||i>=300))){if(Dh(r)){eL(t,r);return}tL(t,r)}}}function eL(t,e){let r=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(e.contexts.trace.trace_id)}function tL(t,e){let r=t.getContext();if(e.event_id&&r.errorIds.size<100&&r.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;let{beforeErrorSampling:n}=t.getOptions();typeof n=="function"&&!n(e)||setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function rL(){let t=H();if(!t)return!1;let e=t.getTransport();return e&&e.send.__sentry__baseTransport__||!1}function nL(t){return e=>{!t.isEnabled()||!Jh(e)||iL(t,e)}}function iL(t,e){let r=e.exception&&e.exception.values&&e.exception.values[0].value;if(typeof r=="string"&&(r.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let n=$r({category:"replay.hydrate-error"});Ga(t,n)}}function oL(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(e.originalException&&e.originalException.__rrweb__)}function sL(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:Z.Custom,timestamp:e.timestamp*1e3,data:{timestamp:e.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function aL(t,e){return t.recordingMode!=="buffer"||e.message===qh||!e.exception||e.type?!1:ME(t.getOptions().errorSampleRate)}function cL(t,e=!1){let r=e?BE(t):void 0;return Object.assign((n,i)=>t.isEnabled()?Q2(n)?(delete n.breadcrumbs,n):!Jh(n)&&!Dh(n)&&!sE(n)||!t.checkAndHandleExpiredSession()?n:sE(n)?(t.flush(),n.contexts.feedback.replay_id=t.getSessionId(),sL(t,n),n):oL(n,i)&&!t.getOptions()._experiments.captureExceptions?(Ie&&S.log("[Replay] Ignoring error from rrweb internals",n),null):((aL(t,n)||t.recordingMode==="session")&&(n.tags=C(g({},n.tags),{replayId:t.getSessionId()})),r&&r(n,{statusCode:200}),n):n,{id:"Replay"})}function cl(t,e){return e.map(({type:r,start:n,end:i,name:o,data:s})=>{let a=t.throttledAddEvent({type:Z.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:o,startTimestamp:n,endTimestamp:i,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function uL(t){let{from:e,to:r}=t,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:e}}}function lL(t){return e=>{if(!t.isEnabled())return;let r=uL(e);r!==null&&(t.getContext().urls.push(r.name),t.triggerUserActivity(),t.addUpdate(()=>(cl(t,[r]),!1)))}}function dL(t,e){return Ie&&t.getOptions()._experiments.traceInternals?!1:Km(e,H())}function ul(t,e){t.isEnabled()&&e!==null&&(dL(t,e.name)||t.addUpdate(()=>(cl(t,[e]),!0)))}function fL(t){let{startTimestamp:e,endTimestamp:r,fetchData:n,response:i}=t;if(!r)return null;let{method:o,url:s}=n;return{type:"resource.fetch",start:e/1e3,end:r/1e3,name:s,data:{method:o,statusCode:i?i.status:void 0}}}function pL(t){return e=>{if(!t.isEnabled())return;let r=fL(e);ul(t,r)}}function mL(t){let{startTimestamp:e,endTimestamp:r,xhr:n}=t,i=n[Qt];if(!e||!r||!i)return null;let{method:o,url:s,status_code:a}=i;return s===void 0?null:{type:"resource.xhr",name:s,start:e/1e3,end:r/1e3,data:{method:o,statusCode:a}}}function hL(t){return e=>{if(!t.isEnabled())return;let r=mL(e);ul(t,r)}}function ll(t,e){if(t)try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){let r=VE(t);return e.encode(r).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(r){}}function UE(t){if(!t)return;let e=parseInt(t,10);return isNaN(e)?void 0:e}function HE(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[VE(t)];if(!t)return[void 0]}catch(e){return Ie&&S.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Ie&&S.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function nl(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};let r=g({},t._meta),n=r.warnings||[];return r.warnings=[...n,e],t._meta=r,t}function GE(t,e){if(!e)return null;let{startTimestamp:r,endTimestamp:n,url:i,method:o,statusCode:s,request:a,response:c}=e;return{type:t,start:r/1e3,end:n/1e3,name:i,data:Ge({method:o,statusCode:s,request:a,response:c})}}function Ba(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function $n(t,e,r){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!r)return{headers:t,size:e};let n={headers:t,size:e},{body:i,warnings:o}=gL(r);return n.body=i,o&&o.length>0&&(n._meta={warnings:o}),n}function Lh(t,e){return Object.keys(t).reduce((r,n)=>{let i=n.toLowerCase();return e.includes(i)&&t[n]&&(r[i]=t[n]),r},{})}function VE(t){return new URLSearchParams(t).toString()}function gL(t){if(!t||typeof t!="string")return{body:t};let e=t.length>zS,r=yL(t);if(e){let n=t.slice(0,zS);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(t)}}catch(n){}return{body:t}}function yL(t){let e=t[0],r=t[t.length-1];return e==="["&&r==="]"||e==="{"&&r==="}"}function il(t,e){let r=_L(t);return Sr(r,e)}function _L(t,e=ke.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(ke.location.origin))return t;let r=new URL(t,e);if(r.origin!==new URL(e).origin)return t;let n=r.href;return!t.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}function vL(t,e,r){return F(this,null,function*(){try{let n=yield SL(t,e,r),i=GE("resource.fetch",n);ul(r.replay,i)}catch(n){Ie&&S.error("[Replay] Failed to capture fetch breadcrumb",n)}})}function bL(t,e,r){let{input:n,response:i}=e,o=n?zE(n):void 0,s=ll(o,r.textEncoder),a=i?UE(i.headers.get("content-length")):void 0;s!==void 0&&(t.data.request_body_size=s),a!==void 0&&(t.data.response_body_size=a)}function SL(t,e,r){return F(this,null,function*(){let n=Date.now(),{startTimestamp:i=n,endTimestamp:o=n}=e,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=t.data,d=il(s,r.networkDetailAllowUrls)&&!il(s,r.networkDetailDenyUrls),f=d?EL(r,e.input,u):Ba(u),p=yield wL(d,r,e.response,l);return{startTimestamp:i,endTimestamp:o,url:s,method:a,statusCode:c,request:f,response:p}})}function EL({networkCaptureBodies:t,networkRequestHeaders:e},r,n){let i=r?$L(r,e):{};if(!t)return $n(i,n,void 0);let o=zE(r),[s,a]=HE(o),c=$n(i,n,s);return a?nl(c,a):c}function wL(s,a,c,u){return F(this,arguments,function*(t,{networkCaptureBodies:e,textEncoder:r,networkResponseHeaders:n},i,o){if(!t&&o!==void 0)return Ba(o);let l=i?WE(i.headers,n):{};if(!i||!e&&o!==void 0)return $n(l,o,void 0);let[d,f]=yield IL(i),p=TL(d,{networkCaptureBodies:e,textEncoder:r,responseBodySize:o,captureDetails:t,headers:l});return f?nl(p,f):p})}function TL(t,{networkCaptureBodies:e,textEncoder:r,responseBodySize:n,captureDetails:i,headers:o}){try{let s=t&&t.length&&n===void 0?ll(t,r):n;return i?e?$n(o,s,t):$n(o,s,void 0):Ba(s)}catch(s){return Ie&&S.warn("[Replay] Failed to serialize response body",s),$n(o,n,void 0)}}function IL(t){return F(this,null,function*(){let e=RL(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[yield OL(e)]}catch(r){return Ie&&S.warn("[Replay] Failed to get text body from response",r),[void 0,"BODY_PARSE_ERROR"]}})}function zE(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function WE(t,e){let r={};return e.forEach(n=>{t.get(n)&&(r[n]=t.get(n))}),r}function $L(t,e){return t.length===1&&typeof t[0]!="string"?aE(t[0],e):t.length===2?aE(t[1],e):{}}function aE(t,e){if(!t)return{};let r=t.headers;return r?r instanceof Headers?WE(r,e):Array.isArray(r)?{}:Lh(r,e):{}}function RL(t){try{return t.clone()}catch(e){Ie&&S.warn("[Replay] Failed to clone response body",e)}}function OL(t){return new Promise((e,r)=>{let n=setTimeout(()=>r(new Error("Timeout while trying to read response body")),500);kL(t).then(i=>e(i),i=>r(i)).finally(()=>clearTimeout(n))})}function kL(t){return F(this,null,function*(){return yield t.text()})}function CL(t,e,r){return F(this,null,function*(){try{let n=AL(t,e,r),i=GE("resource.xhr",n);ul(r.replay,i)}catch(n){Ie&&S.error("[Replay] Failed to capture xhr breadcrumb",n)}})}function xL(t,e,r){let{xhr:n,input:i}=e;if(!n)return;let o=ll(i,r.textEncoder),s=n.getResponseHeader("content-length")?UE(n.getResponseHeader("content-length")):DL(n.response,n.responseType,r.textEncoder);o!==void 0&&(t.data.request_body_size=o),s!==void 0&&(t.data.response_body_size=s)}function AL(t,e,r){let n=Date.now(),{startTimestamp:i=n,endTimestamp:o=n,input:s,xhr:a}=e,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=t.data;if(!c)return null;if(!a||!il(c,r.networkDetailAllowUrls)||il(c,r.networkDetailDenyUrls)){let P=Ba(d),N=Ba(f);return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:l,request:P,response:N}}let p=a[Qt],m=p?Lh(p.request_headers,r.networkRequestHeaders):{},_=Lh(PL(a),r.networkResponseHeaders),[b,y]=r.networkCaptureBodies?HE(s):[void 0],[w,R]=r.networkCaptureBodies?NL(a):[void 0],O=$n(m,d,b),k=$n(_,f,w);return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:l,request:y?nl(O,y):O,response:R?nl(k,R):k}}function PL(t){let e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((r,n)=>{let[i,o]=n.split(": ");return r[i.toLowerCase()]=o,r},{}):{}}function NL(t){let e=[];try{return[t.responseText]}catch(r){e.push(r)}try{return ML(t.response,t.responseType)}catch(r){e.push(r)}return Ie&&S.warn("[Replay] Failed to get xhr response body",...e),[void 0]}function ML(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(r){return Ie&&S.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Ie&&S.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function DL(t,e,r){try{let n=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return ll(n,r)}catch(n){return}}function LL(t){let e=H();try{let r=new TextEncoder,{networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:a}=t.getOptions(),c={replay:t,textEncoder:r,networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",(u,l)=>jL(c,u,l)):(Wn(pL(t)),Kn(hL(t)))}catch(r){}}function jL(t,e,r){if(e.data)try{FL(e)&&BL(r)&&(xL(e,r,t),CL(e,r,t)),qL(e)&&UL(r)&&(bL(e,r,t),vL(e,r,t))}catch(n){Ie&&S.warn("Error when enriching network breadcrumb")}}function FL(t){return t.category==="xhr"}function qL(t){return t.category==="fetch"}function BL(t){return t&&t.xhr}function UL(t){return t&&t.response}var cE=null;function HL(t){return!!t.category}var GL=t=>e=>{if(!t.isEnabled())return;let r=VL(e);r&&Ga(t,r)};function VL(t){let e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return cE===e||!e||(cE=e,!HL(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))?null:e.category==="console"?zL(e):$r(e)}function zL(t){let e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return $r(t);let r=!1,n=e.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Vu?(r=!0,`${i.slice(0,Vu)}\u2026`):i;if(typeof i=="object")try{let o=Ot(i,7);return JSON.stringify(o).length>Vu?(r=!0,`${JSON.stringify(o,null,2).slice(0,Vu)}\u2026`):o}catch(o){}return i});return $r(C(g({},t),{data:g(C(g({},t.data),{arguments:n}),r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function WL(t){let e=Ve(),r=H();e.addScopeListener(GL(t)),Zs(R2(t)),Wr(lL(t)),LL(t);let n=cL(t,!uE(r));r&&r.addEventProcessor?r.addEventProcessor(n):Sa(n),uE(r)&&(r.on("beforeSendEvent",nL(t)),r.on("afterSendEvent",BE(t)),r.on("createDsc",i=>{let o=t.getSessionId();o&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(i.replay_id=o)}),r.on("startTransaction",i=>{t.lastTransaction=i}),r.on("finishTransaction",i=>{t.lastTransaction=i}),r.on("beforeSendFeedback",(i,o)=>{let s=t.getSessionId();o&&o.includeReplay&&t.isEnabled()&&s&&(t.flush(),i.contexts&&i.contexts.feedback&&(i.contexts.feedback.replay_id=s))}))}function uE(t){return!!(t&&t.on)}function KL(t){return F(this,null,function*(){try{return Promise.all(cl(t,[YL(ke.performance.memory)]))}catch(e){return[]}})}function YL(t){let{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:n}=t,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:n}}}}function JL(t,e,r){let n,i,o,s=r&&r.maxWait?Math.max(r.maxWait,e):0;function a(){return c(),n=t(),n}function c(){i!==void 0&&clearTimeout(i),o!==void 0&&clearTimeout(o),i=o=void 0}function u(){return i!==void 0||o!==void 0?a():n}function l(){return i&&clearTimeout(i),i=setTimeout(a,e),s&&o===void 0&&(o=setTimeout(a,s)),n}return l.cancel=c,l.flush=u,l}function XL(t){let e=!1;return(r,n)=>{if(!t.checkAndHandleExpiredSession()){Ie&&S.warn("[Replay] Received replay event after session expired.");return}let i=n||!e;e=!0,t.clickDetector&&E2(t.clickDetector,r),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&i&&t.setInitialState(),!Yh(t,r,i))return!0;if(!i)return!1;if(QL(t,i),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){let o=t.eventBuffer.getEarliestTimestamp();o&&(vt(`[Replay] Updating session start time to earliest event in buffer to ${new Date(o)}`,t.getOptions()._experiments.traceInternals),t.session.started=o,t.getOptions().stickySession&&Kh(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function ZL(t){let e=t.getOptions();return{type:Z.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function QL(t,e){!e||!t.session||t.session.segmentId!==0||Yh(t,ZL(t),!1)}function ej(t,e,r,n){return kt(aa(t,oo(t),n,r),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function tj({recordingData:t,headers:e}){let r,n=`${JSON.stringify(e)}
`;if(typeof t=="string")r=`${n}${t}`;else{let o=new TextEncoder().encode(n);r=new Uint8Array(o.length+t.length),r.set(o),r.set(t,o.length)}return r}function rj(i){return F(this,arguments,function*({client:t,scope:e,replayId:r,event:n}){let o=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,s={event_id:r,integrations:o};t.emit&&t.emit("preprocessEvent",n,s);let a=yield ti(t.getOptions(),n,s,e,t,ei());if(!a)return null;a.platform=a.platform||"javascript";let c=t.getSdkMetadata&&t.getSdkMetadata(),{name:u,version:l}=c&&c.sdk||{};return a.sdk=C(g({},a.sdk),{name:u||"sentry.javascript.unknown",version:l||"0.0.0"}),a})}function nj(s){return F(this,arguments,function*({recordingData:t,replayId:e,segmentId:r,eventContext:n,timestamp:i,session:o}){let a=tj({recordingData:t,headers:{segment_id:r}}),{urls:c,errorIds:u,traceIds:l,initialTimestamp:d}=n,f=H(),p=Ve(),m=f&&f.getTransport(),_=f&&f.getDsn();if(!f||!m||!_||!o.sampled)return;let b={type:nD,replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:u,trace_ids:l,urls:c,replay_id:e,segment_id:r,replay_type:o.sampled},y=yield rj({scope:p,client:f,replayId:e,event:b});if(!y){f.recordDroppedEvent("event_processor","replay",b),vt("An event processor returned `null`, will not send event.");return}delete y.sdkProcessingMetadata;let w=ej(y,a,_,f.getOptions().tunnel),R;try{R=yield m.send(w)}catch(k){let P=new Error(qh);try{P.cause=k}catch(N){}throw P}if(!R)return R;if(typeof R.statusCode=="number"&&(R.statusCode<200||R.statusCode>=300))throw new ol(R.statusCode);let O=ua({},R);if(ca(O,"replay"))throw new sl(O);return R})}var ol=class extends Error{constructor(e){super(`Transport returned status code ${e}`)}},sl=class extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}};function KE(r){return F(this,arguments,function*(t,e={count:0,interval:uD}){let{recordingData:n,options:i}=t;if(n.length)try{return yield nj(t),!0}catch(o){if(o instanceof ol||o instanceof sl)throw o;if(ga("Replays",{_retryCount:e.count}),Ie&&i._experiments&&i._experiments.captureExceptions&&vn(o),e.count>=lD){let s=new Error(`${qh} - max retries exceeded`);try{s.cause=o}catch(a){}throw s}return e.interval*=++e.count,new Promise((s,a)=>{setTimeout(()=>F(this,null,function*(){try{yield KE(t,e),s(!0)}catch(c){a(c)}}),e.interval)})}})}var YE="__THROTTLED",ij="__SKIPPED";function oj(t,e,r){let n=new Map,i=a=>{let c=a-r;n.forEach((u,l)=>{l<c&&n.delete(l)})},o=()=>[...n.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(i(c),o()>=e){let l=s;return s=!0,l?ij:YE}s=!1;let u=n.get(c)||0;return n.set(c,u+1),t(...a)}}var jh=class t{constructor({options:e,recordingOptions:r}){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:iD,sessionIdleExpire:oD},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=e,this._debouncedFlush=JL(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=oj((s,a)=>X2(this,s,a),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:i}=this.getOptions(),o=n?{threshold:Math.min(dD,n),timeout:n,scrollTimeout:fD,ignoreSelector:i?i.join(","):""}:void 0;o&&(this.clickDetector=new xh(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(e){let{errorSampleRate:r,sessionSampleRate:n}=this._options;if(!(r<=0&&n<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",xo(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");xo("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);let e=hh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");xo("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let e=hh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let e=this._options._experiments.canvas;this._stopRecording=In(g(C(g(g({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:cD}),{emit:XL(this),onMutation:this._onMutationHandler}),e&&e.manager&&g({recordCanvas:!0,getCanvasManager:e.manager},KS[e.quality||"medium"]||KS.medium)))}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}stop(){return F(this,arguments,function*({forceFlush:e=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1;try{vt(`[Replay] Stopping Replay${r?` triggered by ${r}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,z2(this)}catch(n){this._handleException(n)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),vt("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),vt("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return F(this,arguments,function*({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let r=Date.now();vt("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();let n=this.stopRecording();!e||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())})}addUpdate(e){let r=e();this.recordingMode!=="buffer"&&r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Mh(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let e=`${ke.location.pathname}${ke.location.hash}${ke.location.search}`,r=`${ke.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(e,r){let n=this._throttledAddEvent(e,r);if(n===YE){let i=$r({category:"replay.throttled"});this.addUpdate(()=>!Yh(this,{type:p2,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastTransaction||Ve().getTransaction();if(!(!e||!["route","custom"].includes(e.metadata.source)))return e.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=H2({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Ie&&S.error("[Replay]",e),Ie&&this._options._experiments&&this._options._experiments.captureExceptions&&vn(e)}_initializeSessionForSampling(e){let r=this._options.errorSampleRate>0,n=hh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return jE(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}_refreshSession(e){return F(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(e.id))})}_addListeners(){try{ke.document.addEventListener("visibilitychange",this._handleVisibilityChange),ke.addEventListener("blur",this._handleWindowBlur),ke.addEventListener("focus",this._handleWindowFocus),ke.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(WL(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=q2(this)}_removeListeners(){try{ke.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ke.removeEventListener("blur",this._handleWindowBlur),ke.removeEventListener("focus",this._handleWindowFocus),ke.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{ke.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let e=$r({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{let e=$r({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{x2(this,e)}}_doChangeToBackgroundTasks(e){!this.session||LE(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){vt("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Z.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=N2(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(cl(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:r}=this;if(!e||!r||e.segmentId)return;let n=r.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}_runFlush(){return F(this,null,function*(){let e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){Ie&&S.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield KL(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let n=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();let o=yield this.eventBuffer.finish();yield KE({replayId:e,recordingData:o,segmentId:i,eventContext:n,session:this.session,options:this.getOptions(),timestamp:r})}catch(r){this._handleException(r),this.stop({reason:"sendReplay"});let n=H();n&&n.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...r)=>F(this,[...r],function*({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){Ie&&S.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let s=o<this._options.minReplayDuration,a=o>this._options.maxReplayDuration+5e3;if(s||a){vt(`[Replay] Session duration (${Math.floor(o/1e3)}s) is too ${s?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),s&&this._debouncedFlush();return}let c=this.eventBuffer;if(c&&this.session.segmentId===0&&!c.hasCheckout&&vt("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(u){Ie&&S.error(u)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Kh(this.session)}__init6(){this._onMutationHandler=e=>{let r=e.length,n=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=n&&r>n;if(r>i||o){let s=$r({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(s)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function Aa(t,e,r,n){let i=typeof n=="string"?n.split(","):[],o=[...t,...i,...e];return typeof r!="undefined"&&(typeof r=="string"&&o.push(`.${r}`),Zt(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),o.join(",")}function sj({mask:t,unmask:e,block:r,unblock:n,ignore:i,blockClass:o,blockSelector:s,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){let l=['base[href="/"]'],d=Aa(t,[".sentry-mask","[data-sentry-mask]"],a,c),f=Aa(e,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,blockSelector:Aa(r,[".sentry-block","[data-sentry-block]",...l],o,s),unblockSelector:Aa(n,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Aa(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return o instanceof RegExp&&(p.blockClass=o),a instanceof RegExp&&(p.maskTextClass=a),p}function aj({el:t,key:e,maskAttributes:r,maskAllText:n,privacyOptions:i,value:o}){return!n||i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?o:r.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}var lE='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',cj=["content-length","content-type","accept"],dE=!1,Ua=class t{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=sD,flushMaxDelay:r=aD,minReplayDuration:n=pD,maxReplayDuration:i=WS,stickySession:o=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:m=750,mutationLimit:_=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:y=[],networkDetailAllowUrls:w=[],networkDetailDenyUrls:R=[],networkCaptureBodies:O=!0,networkRequestHeaders:k=[],networkResponseHeaders:P=[],mask:N=[],maskAttributes:G=["title","placeholder"],unmask:oe=[],block:x=[],unblock:q=[],ignore:ee=[],maskFn:Ce,beforeAddRecordingEvent:$e,beforeErrorSampling:Qe,blockClass:ye,blockSelector:qt,maskInputOptions:Ne,maskTextClass:it,maskTextSelector:xt,ignoreClass:tn}={}){this.name=t.id;let kr=sj({mask:N,unmask:oe,block:x,unblock:q,ignore:ee,blockClass:ye,blockSelector:qt,maskTextClass:it,maskTextSelector:xt,ignoreClass:tn});if(this._recordingOptions=C(g({maskAllInputs:f,maskAllText:d,maskInputOptions:C(g({},Ne||{}),{password:!0}),maskTextFn:Ce,maskInputFn:Ce,maskAttributeFn:(Cr,At,ot)=>aj({maskAttributes:G,maskAllText:d,privacyOptions:kr,key:Cr,value:At,el:ot})},kr),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Cr=>{try{Cr.__rrweb__=!0}catch(At){}}}),this._initialOptions={flushMinDelay:e,flushMaxDelay:r,minReplayDuration:Math.min(n,mD),maxReplayDuration:Math.min(i,WS),stickySession:o,sessionSampleRate:u,errorSampleRate:l,useCompression:s,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:_,slowClickTimeout:b,slowClickIgnoreSelectors:y,networkDetailAllowUrls:w,networkDetailDenyUrls:R,networkCaptureBodies:O,networkRequestHeaders:fE(k),networkResponseHeaders:fE(P),beforeAddRecordingEvent:$e,beforeErrorSampling:Qe,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${lE}`:lE),this._isInitialized&&ro())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return dE}set _isInitialized(e){dE=e}setupOnce(){ro()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(e)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){let e=uj(this._initialOptions);this._replay=new jh({options:e,recordingOptions:this._recordingOptions})}};Ua.__initStatic();function uj(t){let e=H(),r=e&&e.getOptions(),n=g({sessionSampleRate:0,errorSampleRate:0},Ge(t));return r?(t.sessionSampleRate==null&&t.errorSampleRate==null&&r.replaysSessionSampleRate==null&&r.replaysOnErrorSampleRate==null&&Zt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof r.replaysSessionSampleRate=="number"&&(n.sessionSampleRate=r.replaysSessionSampleRate),typeof r.replaysOnErrorSampleRate=="number"&&(n.errorSampleRate=r.replaysOnErrorSampleRate),n):(Zt(()=>{console.warn("SDK client is not available.")}),n)}function fE(t){return[...cj,...t.map(e=>e.toLowerCase())]}var ai=j,Xh="#ffffff",JE="inherit",Zh="rgba(108, 95, 199, 1)",XE={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Xh,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Zh,submitBorder:Zh,submitOutlineFocus:"#29232f",submitForeground:Xh,submitForegroundHover:Xh,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:JE,inputForeground:JE,inputBorder:"var(--border)",inputOutlineFocus:Zh},ZE={light:XE,dark:C(g({},XE),{background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"})},lj="Report a Bug",dj="Cancel",fj="Send Bug Report",pj="Report a Bug",mj="your.email@example.org",hj="Email",gj="What's the bug? What did you expect?",yj="Description",_j="Your Name",vj="Name",bj="Thank you for your report!",nw="widget",iw="api";function Sj(n){return F(this,arguments,function*({client:t,scope:e,event:r}){let i={};t.emit&&t.emit("preprocessEvent",r,i);let o=yield ti(t.getOptions(),r,i,e,t,ei());return o===null?(t.recordDroppedEvent("event_processor","feedback",r),null):(o.platform=o.platform||"javascript",o)})}function Ej(s){return F(this,arguments,function*({feedback:{message:t,email:e,name:r,source:n,url:i}},{includeReplay:o=!0}={}){let a=H(),c=a&&a.getTransport(),u=a&&a.getDsn();if(!a||!c||!u)return;let l={contexts:{feedback:{contact_email:e,name:r,message:t,url:i,source:n}},type:"feedback"};return Er(d=>F(this,null,function*(){d.clearBreadcrumbs(),[iw,nw].includes(String(n))&&d.setLevel("info");let f=yield Sj({scope:d,client:a,event:l});if(!f)return;a.emit&&a.emit("beforeSendFeedback",f,{includeReplay:!!o});let p=_a(f,u,a.getOptions()._metadata,a.getOptions().tunnel),m;try{m=yield c.send(p)}catch(_){let b=new Error("Unable to send Feedback");try{b.cause=_}catch(y){}throw b}if(m){if(typeof m.statusCode=="number"&&(m.statusCode<200||m.statusCode>=300))throw new Error("Unable to send Feedback");return m}}))})}function wj({name:t,email:e,message:r,source:n=iw,url:i=Ws()},o={}){if(!r)throw new Error("Unable to submit feedback with empty message");return Ej({feedback:{name:t,email:e,message:r,url:i,source:n}},o)}var Do=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function QE(t,e){return C(g(g({},t),e),{themeDark:g(g({},t.themeDark),e.themeDark),themeLight:g(g({},t.themeLight),e.themeLight)})}function Tj(t){let e=t.createElement("style");return e.textContent=`
.widget__actor {
  line-height: 25px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 12px 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

.feedback-icon path {
  fill: var(--foreground);
}
`,e}function Ij(t){let e=t.createElement("style");return e.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: 20px;
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: 6px;
  color: var(--input-foreground);
  font-size: 14px;
  font-weight: 500;
  padding: 6px 12px;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: 12px;
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,e}function ew(t){return`
  --background: ${t.background};
  --background-hover: ${t.backgroundHover};
  --foreground: ${t.foreground};
  --error: ${t.error};
  --success: ${t.success};
  --border: ${t.border};
  --box-shadow: ${t.boxShadow};

  --submit-background: ${t.submitBackground};
  --submit-background-hover: ${t.submitBackgroundHover};
  --submit-border: ${t.submitBorder};
  --submit-outline-focus: ${t.submitOutlineFocus};
  --submit-foreground: ${t.submitForeground};
  --submit-foreground-hover: ${t.submitForegroundHover};

  --cancel-background: ${t.cancelBackground};
  --cancel-background-hover: ${t.cancelBackgroundHover};
  --cancel-border: ${t.cancelBorder};
  --cancel-outline-focus: ${t.cancelOutlineFocus};
  --cancel-foreground: ${t.cancelForeground};
  --cancel-foreground-hover: ${t.cancelForegroundHover};

  --input-background: ${t.inputBackground};
  --input-foreground: ${t.inputForeground};
  --input-border: ${t.inputBorder};
  --input-outline-focus: ${t.inputOutlineFocus};
  `}function $j(t,e,r){let n=t.createElement("style");return n.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${r.light.fontFamily};
  --font-size: ${r.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${ew(e==="dark"?r.dark:r.light)}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${ew(r.dark)}
  }
}`:""}
}`,n}function Rj({id:t,colorScheme:e,themeDark:r,themeLight:n}){try{let i=ai.document,o=i.createElement("div");o.id=t;let s=o.attachShadow({mode:"open"});return s.appendChild($j(i,e,{dark:r,light:n})),s.appendChild(Ij(i)),{shadow:s,host:o}}catch(i){throw S.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}function Oj(t,e,r){return F(this,null,function*(){if(!t)return;let n=()=>{t&&t.showError("There was a problem submitting feedback, please wait and try again.")};t.hideError();try{return yield wj(C(g({},e),{source:nw}),r)}catch(i){Do&&S.error(i),n()}})}function Ft(t,e){return Object.entries(e).forEach(([r,n])=>{t.setAttributeNS(null,r,n)}),t}var Mo=20,kj="http://www.w3.org/2000/svg";function Cj(){let t=a=>ai.document.createElementNS(kj,a),e=Ft(t("svg"),{class:"feedback-icon",width:`${Mo}`,height:`${Mo}`,viewBox:`0 0 ${Mo} ${Mo}`,fill:"none"}),r=Ft(t("g"),{clipPath:"url(#clip0_57_80)"}),n=Ft(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(r).appendChild(n);let i=t("defs"),o=Ft(t("clipPath"),{id:"clip0_57_80"}),s=Ft(t("rect"),{width:`${Mo}`,height:`${Mo}`,fill:"white"});return o.appendChild(s),i.appendChild(o),e.appendChild(i).appendChild(o).appendChild(s),{get el(){return e}}}function De(t,e,...r){let i=ai.document.createElement(t);e&&Object.entries(e).forEach(([o,s])=>{o==="className"&&typeof s=="string"?i.setAttribute("class",s):typeof s=="boolean"&&s?i.setAttribute(o,""):typeof s=="string"?i.setAttribute(o,s):o.startsWith("on")&&typeof s=="function"&&i.addEventListener(o.substring(2).toLowerCase(),s)});for(let o of r)ow(i,o);return i}function ow(t,e){let r=ai.document;if(!(typeof e=="undefined"||e===null))if(Array.isArray(e))for(let n of e)ow(t,n);else e===!1||(typeof e=="string"?t.appendChild(r.createTextNode(e)):e instanceof Node?t.appendChild(e):t.appendChild(r.createTextNode(String(e))))}function xj({buttonLabel:t,onClick:e}){function r(i){e&&e(i)}let n=De("button",{type:"button",className:"widget__actor","aria-label":t,"aria-hidden":"false"},Cj().el,t?De("span",{className:"widget__actor__text"},t):null);return n.addEventListener("click",r),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function Aj({label:t}){return{el:De("button",{type:"submit",className:"btn btn--primary","aria-label":t},t)}}function Qh(t,e){let r=t.get(e);return typeof r=="string"?r.trim():""}function Pj({nameLabel:t,namePlaceholder:e,emailLabel:r,emailPlaceholder:n,messageLabel:i,messagePlaceholder:o,cancelButtonLabel:s,submitButtonLabel:a,showName:c,showEmail:u,isNameRequired:l,isEmailRequired:d,defaultName:f,defaultEmail:p,onCancel:m,onSubmit:_}){let{el:b}=Aj({label:a});function y(x){if(x.preventDefault(),x.target instanceof HTMLFormElement)try{if(_){let q=new FormData(x.target),ee={name:Qh(q,"name"),email:Qh(q,"email"),message:Qh(q,"message")};_(ee)}}catch(q){}}let w=De("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function R(x){w.textContent=x,w.classList.remove("form__error-container--hidden"),w.setAttribute("aria-hidden","false")}function O(){w.textContent="",w.classList.add("form__error-container--hidden"),w.setAttribute("aria-hidden","true")}let k=De("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:l,className:"form__input",placeholder:e,value:f}),P=De("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:d,className:"form__input",placeholder:n,value:p}),N=De("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:o}),G=De("button",{type:"button",className:"btn btn--default","aria-label":s,onClick:x=>{m&&m(x)}},s),oe=De("form",{className:"form",onSubmit:y},[w,c&&De("label",{htmlFor:"name",className:"form__label"},[De("span",{className:"form__label__text"},t,l&&De("span",{className:"form__label__text--required"}," (required)")),k]),!c&&k,u&&De("label",{htmlFor:"email",className:"form__label"},[De("span",{className:"form__label__text"},r,d&&De("span",{className:"form__label__text--required"}," (required)")),P]),!u&&P,De("label",{htmlFor:"message",className:"form__label"},[De("span",{className:"form__label__text"},i,De("span",{className:"form__label__text--required"}," (required)")),N]),De("div",{className:"btn-group"},[b,G])]);return{get el(){return oe},showError:R,hideError:O}}var Nj="http://www.w3.org/2000/svg";function Mj({colorScheme:t}){let e=s=>ai.document.createElementNS(Nj,s),r=Ft(e("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),n=Ft(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});r.append(n);let i=e("defs"),o=e("style");return t==="system"&&(o.textContent=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),o.textContent=`
    path {
      fill: ${t==="dark"?"#fff":"#362d59"};
    }`,i.append(o),r.append(i),{get el(){return r}}}function Dj(p){var m=p,{formTitle:t,showBranding:e,showName:r,showEmail:n,isNameRequired:i,isEmailRequired:o,colorScheme:s,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d}=m,f=is(m,["formTitle","showBranding","showName","showEmail","isNameRequired","isEmailRequired","colorScheme","defaultName","defaultEmail","onClosed","onCancel","onSubmit"]);let _=null;function b(){y(),u&&u()}function y(){_&&(_.open=!1)}function w(){_&&(_.open=!0)}function R(){return _&&_.open===!0||!1}let{el:O,showError:k,hideError:P}=Pj(g({showEmail:n,showName:r,isEmailRequired:o,isNameRequired:i,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l},f));return _=De("dialog",{className:"dialog",open:!0,onClick:b},De("div",{className:"dialog__content",onClick:N=>{N.stopPropagation()}},De("h2",{className:"dialog__header"},t,e&&De("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},Mj({colorScheme:s}).el)),O)),{get el(){return _},showError:k,hideError:P,open:w,close:y,checkIsOpen:R}}var dl=16,tw=17,Lj="http://www.w3.org/2000/svg";function jj(){let t=c=>ai.document.createElementNS(Lj,c),e=Ft(t("svg"),{class:"success-icon",width:`${dl}`,height:`${tw}`,viewBox:`0 0 ${dl} ${tw}`,fill:"none"}),r=Ft(t("g"),{clipPath:"url(#clip0_57_156)"}),n=Ft(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=Ft(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(r).append(i,n);let o=t("defs"),s=Ft(t("clipPath"),{id:"clip0_57_156"}),a=Ft(t("rect"),{width:`${dl}`,height:`${dl}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),o.appendChild(s),e.appendChild(o).appendChild(s).appendChild(a),{get el(){return e}}}function Fj({message:t,onRemove:e}){function r(){n&&(n.remove(),e&&e())}let n=De("div",{className:"success-message",onClick:r},jj().el,t);return{el:n,remove:r}}function rw(i){var o=i,{shadow:t,options:s}=o,a=s,{shouldCreateActor:e=!0}=a,r=is(a,["shouldCreateActor"]),{attachTo:n}=o;let c,u,l=!1;function d(){if(t)try{let O=Fj({message:r.successMessageText,onRemove:()=>{k&&clearTimeout(k),p()}});if(!O.el)throw new Error("Unable to show success message");t.appendChild(O.el);let k=setTimeout(()=>{O&&O.remove()},5e3)}catch(O){S.error(O)}}function f(O){return F(this,null,function*(){if(!u)return;let k=[];if(r.isNameRequired&&!O.name&&k.push(r.nameLabel),r.isEmailRequired&&!O.email&&k.push(r.emailLabel),O.message||k.push(r.messageLabel),k.length>0){u.showError(`Please enter in the following required fields: ${k.join(", ")}`);return}if(!(yield Oj(u,O))){r.onSubmitError&&r.onSubmitError();return}w(),d(),r.onSubmitSuccess&&r.onSubmitSuccess()})}function p(){c&&c.show()}function m(){c&&c.hide()}function _(){c&&c.el&&c.el.remove()}function b(){try{if(u){u.open(),l=!0,r.onFormOpen&&r.onFormOpen();return}let O=r.useSentryUser,k=Ve(),P=k&&k.getUser();if(u=Dj({colorScheme:r.colorScheme,showBranding:r.showBranding,showName:r.showName||r.isNameRequired,showEmail:r.showEmail||r.isEmailRequired,isNameRequired:r.isNameRequired,isEmailRequired:r.isEmailRequired,formTitle:r.formTitle,cancelButtonLabel:r.cancelButtonLabel,submitButtonLabel:r.submitButtonLabel,emailLabel:r.emailLabel,emailPlaceholder:r.emailPlaceholder,messageLabel:r.messageLabel,messagePlaceholder:r.messagePlaceholder,nameLabel:r.nameLabel,namePlaceholder:r.namePlaceholder,defaultName:O&&P&&P[O.name]||"",defaultEmail:O&&P&&P[O.email]||"",onClosed:()=>{p(),l=!1,r.onFormClose&&r.onFormClose()},onCancel:()=>{y(),p()},onSubmit:f}),!u.el)throw new Error("Unable to open Feedback dialog");t.appendChild(u.el),m(),r.onFormOpen&&r.onFormOpen()}catch(O){S.error(O)}}function y(){u&&(u.close(),l=!1,r.onFormClose&&r.onFormClose())}function w(){if(u){y();let O=u.el;O&&O.remove(),u=void 0}}function R(){l||b(),m()}return n?n.addEventListener("click",R):e&&(c=xj({buttonLabel:r.buttonLabel,onClick:R}),c.el&&t.appendChild(c.el)),{get actor(){return c},get dialog(){return u},showActor:p,hideActor:m,removeActor:_,openDialog:b,closeDialog:y,removeDialog:w}}var fl=ai.document,Va=class t{static __initStatic(){this.id="Feedback"}constructor({id:e="sentry-feedback",showBranding:r=!0,autoInject:n=!0,showEmail:i=!0,showName:o=!0,useSentryUser:s={email:"email",name:"username"},isEmailRequired:a=!1,isNameRequired:c=!1,themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=lj,cancelButtonLabel:p=dj,submitButtonLabel:m=fj,formTitle:_=pj,emailPlaceholder:b=mj,emailLabel:y=hj,messagePlaceholder:w=gj,messageLabel:R=yj,namePlaceholder:O=_j,nameLabel:k=vj,successMessageText:P=bj,onFormClose:N,onFormOpen:G,onSubmitError:oe,onSubmitSuccess:x}={}){this.name=t.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:e,showBranding:r,autoInject:n,isEmailRequired:a,isNameRequired:c,showEmail:i,showName:o,useSentryUser:s,colorScheme:d,themeDark:g(g({},ZE.dark),u),themeLight:g(g({},ZE.light),l),buttonLabel:f,cancelButtonLabel:p,submitButtonLabel:m,formTitle:_,emailLabel:y,emailPlaceholder:b,messageLabel:R,messagePlaceholder:w,nameLabel:k,namePlaceholder:O,successMessageText:P,onFormClose:N,onFormOpen:G,onSubmitError:oe,onSubmitSuccess:x}}setupOnce(){if(ro())try{this._cleanupWidgetIfExists();let{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){Do&&S.error(e)}}openDialog(){this._widget||this._createWidget(C(g({},this.options),{shouldCreateActor:!1})),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,r){try{let n=QE(this.options,r||{});return this._ensureShadowHost(n,({shadow:i})=>{let o=typeof e=="string"?fl.querySelector(e):typeof e.addEventListener=="function"?e:null;if(!o)return Do&&S.error("[Feedback] Unable to attach to target element"),null;let s=rw({shadow:i,options:n,attachTo:o});return this._widgets.add(s),this._widget||(this._widget=s),s})}catch(n){return Do&&S.error(n),null}}createWidget(e){try{return this._createWidget(QE(this.options,e||{}))}catch(r){return Do&&S.error(r),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(r){Do&&S.error(r)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();let e=fl.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,({shadow:r})=>{let n=rw({shadow:r,options:e});return!this._hasInsertedActorStyles&&n.actor&&(r.appendChild(Tj(fl)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n})}_ensureShadowHost(e,r){let n=!1;if(!this._shadow||!this._host){let{id:o,colorScheme:s,themeLight:a,themeDark:c}=e,{shadow:u,host:l}=Rj({id:o,colorScheme:s,themeLight:a,themeDark:c});this._shadow=u,this._host=l,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;let i=r({shadow:this._shadow,host:this._host});return n&&fl.body.appendChild(this._host),i}};Va.__initStatic();function za(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function qj(t,e){let r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);let n=za(r);return i=>n.then(o=>i(o.transaction(e,"readwrite").objectStore(e)))}function sw(t){return za(t.getAllKeys())}function Bj(t,e,r){return t(n=>sw(n).then(i=>{if(!(i.length>=r))return n.put(e,Math.max(...i,0)+1),za(n.transaction)}))}function Uj(t){return t(e=>sw(e).then(r=>{if(r.length!==0)return za(e.get(r[0])).then(n=>(e.delete(r[0]),za(e.transaction).then(()=>n)))}))}function Hj(t){let e;function r(){return e==null&&(e=qj(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:n=>F(this,null,function*(){try{let i=yield sa(n,t.textEncoder);yield Bj(r(),i,t.maxQueueSize||30)}catch(i){}}),pop:()=>F(this,null,function*(){try{let n=yield Uj(r());if(n)return im(n,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(n){}})}}function Gj(t){return e=>t(C(g({},e),{createStore:Hj}))}function aw(t){return Gj(zm(t))}var cw=1e6,pl=String(0),Vj="main",dw="",fw="",pw="",eg=D.navigator&&D.navigator.userAgent||"",mw="",zj=D.navigator&&D.navigator.language||D.navigator&&D.navigator.languages&&D.navigator.languages[0]||"";function Wj(t){return typeof t=="object"&&t!==null&&"getHighEntropyValues"in t}var uw=D.navigator&&D.navigator.userAgentData;Wj(uw)&&uw.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(t=>{if(dw=t.platform||"",pw=t.architecture||"",mw=t.model||"",fw=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){let e=t.fullVersionList[t.fullVersionList.length-1];eg=`${e.brand} ${e.version}`}}).catch(t=>{});function Kj(t){return!("thread_metadata"in t)}function Yj(t){return Kj(t)?Zj(t):t}function Jj(t){let e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return typeof e=="string"&&e.length!==32&&V&&S.log(`[Profiling] Invalid traceId: ${e} on profiled event`),typeof e!="string"?"":e}function Xj(t,e,r,n){if(n.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(r==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);let i=Jj(n),o=Yj(r),s=e||(typeof n.start_timestamp=="number"?n.start_timestamp*1e3:Date.now()),a=typeof n.timestamp=="number"?n.timestamp*1e3:Date.now();return{event_id:t,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:n.release||"",environment:n.environment||Jr,runtime:{name:"javascript",version:D.navigator.userAgent},os:{name:dw,version:fw,build_number:eg},device:{locale:zj,model:mw,manufacturer:eg,architecture:pw,is_emulator:!1},debug_meta:{images:Qj(r.resources)},profile:o,transactions:[{name:n.transaction||"",id:n.event_id||ge(),trace_id:i,active_thread_id:pl,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function ml(t){return t.op==="pageload"}function Zj(t){let e,r=0,n={samples:[],stacks:[],frames:[],thread_metadata:{[pl]:{name:Vj}}};if(!t.samples.length)return n;let i=t.samples[0].timestamp,o=typeof performance.timeOrigin=="number"?performance.timeOrigin:Je||0,s=o-(Je||o);for(let a=0;a<t.samples.length;a++){let c=t.samples[a];if(c.stackId===void 0){e===void 0&&(e=r,n.stacks[e]=[],r++),n.samples[a]={elapsed_since_start_ns:((c.timestamp+s-i)*cw).toFixed(0),stack_id:e,thread_id:pl};continue}let u=t.stacks[c.stackId],l=[];for(;u;){l.push(u.frameId);let f=t.frames[u.frameId];n.frames[u.frameId]===void 0&&(n.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?t.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:t.stacks[u.parentId]}let d={elapsed_since_start_ns:((c.timestamp+s-i)*cw).toFixed(0),stack_id:r,thread_id:pl};n.stacks[r]=l,n.samples[a]=d,r++}return n}function hw(t,e){if(!e.length)return t;for(let r of e)t[1].push([{type:"profile"},r]);return t}function gw(t){let e=[];return lr(t,(r,n)=>{if(n==="transaction")for(let i=1;i<r.length;i++){let o=r[i];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&e.push(r[i])}}),e}var lw=new WeakMap;function Qj(t){let e=j._sentryDebugIds;if(!e)return[];let r=H(),n=r&&r.getOptions(),i=n&&n.stackParser;if(!i)return[];let o,s=lw.get(i);s?o=s:(o=new Map,lw.set(i,o));let a=Object.keys(e).reduce((u,l)=>{let d,f=o.get(l);f?d=f:(d=i(l),o.set(l,d));for(let p=d.length-1;p>=0;p--){let m=d[p],_=m&&m.filename;if(m&&_){u[_]=e[l];break}}return u},{}),c=[];for(let u of t)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function eF(t){return typeof t!="number"&&typeof t!="boolean"||typeof t=="number"&&isNaN(t)?(V&&S.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t===!0||t===!1?!0:t<0||t>1?(V&&S.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function tF(t){return t.samples.length<2?(V&&S.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):t.frames.length?!0:(V&&S.log("[Profiling] Discarding profile because it contains no frames"),!1)}var yw=!1,tg=3e4;function rF(t){return typeof t=="function"}function _w(){let t=D.Profiler;if(!rF(t)){V&&S.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let e=10,r=Math.floor(tg/e);try{return new t({sampleInterval:e,maxBufferSize:r})}catch(n){V&&(S.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),S.log("[Profiling] Disabling profiling for current user session.")),yw=!0}}function Wa(t){if(yw)return V&&S.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.sampled)return V&&S.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let e=H(),r=e&&e.getOptions();if(!r)return V&&S.log("[Profiling] Profiling disabled, no options found."),!1;let n=r.profilesSampleRate;return eF(n)?n?(n===!0?!0:Math.random()<n)?!0:(V&&S.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(V&&S.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(V&&S.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function vw(t,e,r,n){return tF(r)?Xj(t,e,r,n):null}var ci=new Map;function bw(){return ci.size}function Sw(t){let e=ci.get(t);return e&&ci.delete(t),e}function Ew(t,e){if(ci.set(t,e),ci.size>30){let r=ci.keys().next().value;ci.delete(r)}}function ww(t){return t?Wa(t)?hl(t):t:(V&&S.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function hl(t){let e;ml(t)&&(e=lt()*1e3);let r=_w();if(!r)return t;V&&S.log(`[Profiling] started profiling transaction: ${t.name||t.description}`);let n=ge();function i(){return F(this,null,function*(){return!t||!r?null:r.stop().then(c=>(o&&(D.clearTimeout(o),o=void 0),V&&S.log(`[Profiling] stopped profiling of transaction: ${t.name||t.description}`),c?(Ew(n,c),null):(V&&S.log(`[Profiling] profiler returned null profile for: ${t.name||t.description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(V&&S.log("[Profiling] error while stopping profiler:",c),null))})}let o=D.setTimeout(()=>{V&&S.log("[Profiling] max profile duration elapsed, stopping profiling for:",t.name||t.description),i()},tg),s=t.end.bind(t);function a(){return t?(i().then(()=>{t.setContext("profile",{profile_id:n,start_timestamp:e}),s()},()=>{s()}),t):s()}return t.end=a,t}var Tw="BrowserProfiling",nF=()=>({name:Tw,setup(t){let r=Ve().getTransaction();if(r&&ml(r)&&Wa(r)&&hl(r),typeof t.on!="function"){S.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}t.on("startTransaction",n=>{Wa(n)&&hl(n)}),t.on("beforeEnvelope",n=>{if(!bw())return;let i=gw(n);if(!i.length)return;let o=[];for(let s of i){let a=s&&s.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){V&&S.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){V&&S.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;let l=Sw(c);if(!l){V&&S.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}let d=vw(c,u,l,s);d&&o.push(d)}hw(n,o)})}}),Iw=Pe(Tw,nF);var $w={};D.Sentry&&D.Sentry.Integrations&&($w=D.Sentry.Integrations);var iF=g(g(g({},$w),ni),ah);var Lo=globalThis.ncgConfig;var ql=jr(ZT());var QT={Trace:"verbose",Debug:"debug",Info:"info",Warn:"warn",Error:"error",Silent:"silent"};var Rr={verbose:0,debug:1,info:2,warn:3,error:4,silent:5};function Ng(t={},e=void 0){var r,n,i,o,s;return s=class{constructor(c){this.name=c;this.name=c}trace(...c){s._silent||Rr[s._level]>Rr.verbose||console.info(`[${this.name}]`,...c)}debug(...c){s._silent||Rr[s._level]>Rr.debug||console.info(`[${this.name}]`,...c)}info(...c){s._silent||Rr[s._level]>Rr.info||console.info(`[${this.name}]`,...c)}warn(...c){s._silent||Rr[s._level]>Rr.warn||console.warn(`[${this.name}]`,...c)}error(...c){if(!s._silent&&!(Rr[s._level]>Rr.error)&&(console.error(`[${this.name}]`,...c),e)){let u=c.map(l=>typeof l=="object"?(0,ql.inspect)(l,{depth:null,showProxy:!0}):l);e.captureException(new Error(`[${this.name}] `+(0,ql.format)(u[0],...u.slice(1))))}}replicants(...c){s._silent||s._shouldLogReplicants&&console.info(`[${this.name}]`,...c)}},s._shouldLogReplicants=!!((r=t.console)!=null&&r.replicants),s._silent=!((n=t.console)!=null&&n.enabled),s._level=(o=(i=t.console)==null?void 0:i.level)!=null?o:QT.Info,s}var Wo;Lo.sentry.enabled?Wo=Ng(Lo.logging,rg):Wo=Ng(Lo.logging);function e1(t){return new Wo(t)}var Bl=new Map,i9={get(t,e){return e==="value"&&t.status!=="declared"&&t.log.warn("Attempted to get value before Replicant had finished declaring. This will always return undefined."),t[e]},set(t,e,r){return e!=="value"||Yi(t)?(t[e]=r,!0):(r===t[e]||(t.validate(r),t.log.replicants("running setter with",r),t._addOperation({path:"/",method:"overwrite",args:{newValue:Ht(r)}})),!0)}},Or=class extends Xc{constructor(r,n,i,o=window.socket){super(r,n,i);this.value=void 0;this._actionQueue=[];this.log=e1(`Replicant/${n}.${r}`);let s=Bl.get(n);if(s){let c=s.get(r);if(c)return c.log.replicants("Existing replicant found, returning that instead of creating a new one."),c}else Bl.set(n,new Map);this._socket=o,this._declare(),o.on("replicant:operations",c=>{this._handleOperations(C(g({},c),{operations:c.operations}))}),o.on("disconnect",()=>{this._handleDisconnect()}),o.io.on("reconnect",()=>{this._declare()});let a=new Proxy(this,i9);return Bl.get(n).set(r,a),a}static get declaredReplicants(){let r={};for(let[n,i]of Bl)r[n]=Object.fromEntries(Object.entries(i));return r}_addOperation(r){this._operationQueue.push(r),this._pendingOperationFlush||(this._pendingOperationFlush=!0,this.status==="declared"?setTimeout(()=>{this._flushOperations()},0):this._queueAction(this._flushOperations))}_flushOperations(){this._pendingOperationFlush=!1,!(this._operationQueue.length<=0)&&(this._socket.emit("replicant:proposeOperations",{name:this.name,namespace:this.namespace,operations:this._operationQueue,revision:this.revision,schemaSum:this.schemaSum,opts:this.opts},(r,n)=>{n!=null&&n.schema&&(this.schema=n.schema,this.schemaSum=n.schemaSum),n&&n.revision!==this.revision&&(this.log.warn("Not at head revision (ours %s, theirs %s). Change aborted & head revision applied.",this.revision,n.revision),this._assignValue(n.value,n.revision)),r&&(this.listenerCount("operationsRejected")>0?this.emit("operationsRejected",r):this.log.error(r))}),this._operationQueue=[])}_queueAction(r,n){this._actionQueue.push({fn:r,args:n})}_declare(){this.status==="declared"||this.status==="declaring"||(this.status="declaring",this._socket.emit("joinRoom",`replicant:${this.namespace}:${this.name}`,()=>{this._socket.emit("replicant:declare",{name:this.name,namespace:this.namespace,opts:this.opts},(r,n)=>{if(r){if(this.listenerCount("declarationRejected")>0){this.emit("declarationRejected",r);return}throw new Error(r)}if(!n){if(this.listenerCount("declarationRejected")>0){this.emit("declarationRejected","data unexpectedly falsey");return}throw new Error("data unexpectedly falsey")}this.log.replicants("declareReplicant callback (value: %s, revision: %s)",n.value,n.revision),this.status="declared",(this.revision!==n.revision||!by(this.value,n.value))&&this._assignValue(n.value,n.revision),"schema"in n&&(this.schema=n.schema,this.schemaSum=n.schemaSum,this.validate=this._generateValidator()),this.emit("declared",n),this.value===void 0&&this.revision===0&&this.emit("change",void 0,void 0,[]),this._actionQueue.length>0&&(this._actionQueue.forEach(i=>{var o;i.fn.apply(this,(o=i.args)!=null?o:[])}),this._actionQueue=[])})}))}_assignValue(r,n){let i=Ht(this.value),o={path:"/",method:"overwrite",args:{newValue:r}};this._applyOperation(o),typeof n!="undefined"&&(this.revision=n),this.emit("change",this.value,i,[o])}_handleOperations(r){if(this.status!=="declared")return;let n=this.revision+1;if(r.name!==this.name||r.namespace!==this.namespace)return;if(r.revision!==n){this.log.warn('Not at head revision (ours: "%s", expected theirs to be "%s" but got "%s"), fetching latest...',this.revision,n,r.revision),this._fullUpdate(r.revision);return}this.log.replicants("received replicantOperations",r);let i=Ht(this.value);r.operations.forEach(o=>{this._applyOperation(o)}),this.revision=r.revision,this.emit("change",this.value,i,r.operations)}_handleDisconnect(){this.status="undeclared",this._operationQueue.length=0,this._actionQueue.length=0}_fullUpdate(r){window.NodeCG.readReplicant(this.name,this.namespace,n=>{this.emit("fullUpdate",n),this._assignValue(n,r)})}};var Mg=new WeakMap,t1=new Set;function o9(t,e,r){setTimeout(()=>{t1.forEach(n=>{n._messageHandlers.forEach(i=>{t===i.messageName&&e===i.bundleName&&i.func(r)})})},0)}var Dg=class t extends os{constructor(r,n){var i;super(r);this.soundsReady=!1;this._soundCues=[];this._replicantFactory=(r,n,i)=>new Or(r,n,i,this.socket);if(t1.add(this),globalThis.document&&document.addEventListener("DOMContentLoaded",()=>{document.title===""&&(document.title=this.bundleName)},!1),this.socket=n,this.socket.emit("joinRoom",r.name,()=>{}),globalThis.window&&r._hasSounds&&((i=window.createjs)!=null&&i.Sound)){let o=new Or("soundCues",this.bundleName,{},n);this._soundFiles=new Or("assets:sounds",this.bundleName,{},n),this._bundleVolume=new Or(`volume:${this.bundleName}`,"_sounds",{},n),this._masterVolume=new Or("volume:master","_sounds",{},n),this._soundCues=[];let s=new Set;window.createjs.Sound.on("fileload",c=>{if(this.soundsReady||!c.data.sum)return;s.add(c.data.sum),!this._soundCues.some(l=>l.file?!s.has(l.file.sum):!1)&&!this.soundsReady&&(this.soundsReady=!0,window.dispatchEvent(new CustomEvent("ncgSoundsReady")))});let a=()=>{var c;this._soundCues=(c=o.value)!=null?c:[],this._updateInstanceVolumes(),this._registerSounds()};o.on("change",a),this._soundFiles.on("change",()=>this._registerSounds.bind(this)),this._bundleVolume.on("change",()=>this._updateInstanceVolumes.bind(this)),this._masterVolume.on("change",()=>this._updateInstanceVolumes.bind(this))}n.on("message",o=>{this.log.trace("Received message %s (sent to bundle %s) with data:",o.messageName,o.bundleName,o.content),this._messageHandlers.forEach(s=>{o.messageName===s.messageName&&o.bundleName===s.bundleName&&s.func(o.content)})}),n.io.on("error",o=>{this.log.warn("Unhandled socket connection error:",o)}),n.on("protocol_error",o=>{if(o.type==="UnauthorizedError")if(globalThis.window){let s=[location.protocol,"//",location.host,location.pathname].join("");window.location.href=`/authError?code=${o.code}&message=${o.message}&viewUrl=${s}`}else globalThis.close();else this.log.error("Unhandled socket protocol error:",o)})}static Replicant(r,n,i={}){return new Or(r,n,i,window.socket)}static sendMessageToBundle(r,n,i,o){let s=null;if(typeof i=="function"?o=i:s=i,o9(r,n,s),typeof o=="function")globalThis.socket.emit("message",{bundleName:n,messageName:r,content:s},(a,c)=>{c?o(a,c):o(a)});else return new Promise((a,c)=>{globalThis.socket.emit("message",{bundleName:n,messageName:r,content:s},(u,l)=>{u?c(u):a(l)})})}static readReplicant(r,n,i){globalThis.socket.emit("replicant:read",{name:r,namespace:n},(o,s)=>{o?console.error(o):i(s)})}get Logger(){return Wo}get log(){return this._memoizedLogger?this._memoizedLogger:(this._memoizedLogger=new Wo(this.bundleName),this._memoizedLogger)}get config(){return Object.freeze(JSON.parse(JSON.stringify(Lo)))}getDialog(r,n){var s,a,c;if(!globalThis.window)return;n=n!=null?n:this.bundleName;let i=(s=window.top)==null?void 0:s.document;if(!i)return;let o=(c=(a=i.querySelector("ncg-dashboard"))==null?void 0:a.shadowRoot)==null?void 0:c.querySelector(`#dialogs #${n}_${r}`);return o!=null?o:void 0}getDialogDocument(r,n){var i,o,s;if(globalThis.window)return n=n!=null?n:this.bundleName,(s=(o=(i=this.getDialog(r,n))==null?void 0:i.querySelector("iframe"))==null?void 0:o.contentWindow)==null?void 0:s.document}findCue(r){return this._soundCues.find(n=>n.name===r)}playSound(r,{updateVolume:n=!0}={updateVolume:!0}){var s;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!this._soundCues)throw new Error(`Bundle "${this.bundleName}" has no soundCues`);let i=this.findCue(r);if(!i)throw new Error(`Cue "${r}" does not exist in bundle "${this.bundleName}"`);if(!((s=window.createjs)!=null&&s.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");if(!i.file)throw new Error('Cue $"{cueName}" does not have a file specified.');let o=window.createjs.Sound.play(r);return this._setInstanceVolume(o,i),Mg.set(o,{cueName:r,updateVolume:n}),o}stopSound(r){var i;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!this._soundCues)throw new Error(`Bundle "${this.bundleName}" has no soundCues`);if(!this._soundCues.find(o=>o.name===r))throw new Error(`Cue "${r}" does not exist in bundle "${this.bundleName}"`);if(!((i=window.createjs)!=null&&i.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");let n=window.createjs.Sound._instances;for(let o=n.length-1;o>=0;o--){let s=n[o],a=Mg.get(s);a&&a.cueName===r&&s.stop()}}stopAllSounds(){var r;if(!globalThis.window)throw new Error("NodeCG Sound API methods are not available in workers");if(!((r=window.createjs)!=null&&r.Sound))throw new Error("NodeCG Sound API methods are not available when SoundJS isn't present");window.createjs.Sound.stop()}sendMessageToBundle(r,n,i,o){return t.sendMessageToBundle(r,n,i,o)}sendMessage(r,n,i){return this.sendMessageToBundle(r,this.bundleName,n,i)}readReplicant(r,n,i){let o=this.bundleName,s;typeof n=="string"?(o=n,s=i):s=n,t.readReplicant(r,o,s)}_registerSounds(){this._soundCues.forEach(r=>{r.file&&window.createjs.Sound.registerSound(`${r.file.url}?sum=${r.file.sum}`,r.name,{channels:typeof r.channels=="undefined"?100:r.channels,sum:r.file.sum})})}_setInstanceVolume(r,n){var o,s;if(((o=this._masterVolume)==null?void 0:o.status)!=="declared"||typeof this._masterVolume.value!="number"||((s=this._bundleVolume)==null?void 0:s.status)!=="declared"||typeof this._bundleVolume.value!="number")return;let i=this._masterVolume.value/100*(this._bundleVolume.value/100)*(n.volume/100);r.volume=isFinite(i)?i:0}_updateInstanceVolumes(){let r=window.createjs.Sound._instances;this._soundCues.forEach(n=>{r.forEach(i=>{let o=Mg.get(i);o&&o.cueName===n.name&&o.updateVolume&&this._setInstanceVolume(i,n)})})}};window.NodeCG=Dg;})();
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
//# sourceMappingURL=api.js.map
